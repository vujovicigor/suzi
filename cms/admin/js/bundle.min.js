!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var r,i=n(15),o=n(31),s=n(32),a=Array.prototype.slice,u={};r=void 0!==e&&e.console?e.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){r.log.apply(r,arguments)},"info"],[function(){r.log.apply(r,arguments)},"warn"],[function(){r.warn.apply(r,arguments)},"error"],[function(t){u[t]=s()},"time"],[function(t){var e=u[t];if(!e)throw new Error("No such label: "+t);var n=s()-e;r.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=i.format.apply(null,arguments),r.error(t.stack)},"trace"],[function(t){r.log(i.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=a.call(arguments,1);o.ok(!1,i.format.apply(null,e))}},"assert"]],h=0;h<c.length;h++){var l=c[h],p=l[0],f=l[1];r[f]||(r[f]=p)}t.exports=r}).call(e,n(0))},function(t,e,n){(function(e,n){var r;r=function(){"use strict";var t,r={el:void 0,append:!1,template:null,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],staticDelimiters:["[[","]]"],staticTripleDelimiters:["[[[","]]]"],csp:!0,interpolate:!1,preserveWhitespace:!1,sanitize:!1,stripComments:!0,contextLines:0,data:{},computed:{},magic:!1,modifyArrays:!1,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},i={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},o="undefined"!=typeof window?window:null,s=o?document:null,a=!!s,u=("undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),void 0!==e&&"function"==typeof e.warn&&"function"==typeof e.warn.apply);try{Object.defineProperty({},"test",{value:0}),t=!0}catch(e){t=!1}var c,h,l,p,f,d,g,m,v,y=!!s&&s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),b=["o","ms","moz","webkit"],w="http://www.w3.org/1999/xhtml",x="http://www.w3.org/2000/svg",C={html:w,mathml:"http://www.w3.org/1998/Math/MathML",svg:x,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns"};function E(){return s.createDocumentFragment()}function _(t){var e;if(t&&"boolean"!=typeof t)return o&&s&&t?t.nodeType?t:"string"==typeof t&&(!(e=s.getElementById(t))&&s.querySelector&&(e=s.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}if(c=y?function(t,e,n){return e&&e!==w?n?s.createElementNS(e,t,n):s.createElementNS(e,t):n?s.createElement(t,n):s.createElement(t)}:function(t,e,n){if(e&&e!==w)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return n?s.createElement(t,n):s.createElement(t)},a){for(l=c("div"),v=function(t){return function(e,n){return e[t](n)}},g=(p=["matches","matchesSelector"]).length;g--&&!h;)if(f=p[g],l[f])h=v(f);else for(m=b.length;m--;)if(d=b[g]+f.substr(0,1).toUpperCase()+f.substring(1),l[d]){h=v(d);break}h||(h=function(t,e){var n,r,i;for((r=t.parentNode)||(l.innerHTML="",r=l,t=t.cloneNode(),l.appendChild(t)),i=(n=r.querySelectorAll(e)).length;i--;)if(n[i]===t)return!0;return!1})}else h=null;function k(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function A(t){return null!=t&&t.toString?""+t:""}function T(t){return A(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var S,O,F,I,R=/[A-Z]/g;function N(t){return t.replace(R,function(t){return"-"+t.toLowerCase()})}try{Object.defineProperty({},"test",{get:function(){},set:function(){}}),s&&Object.defineProperty(c("div"),"test",{value:0}),O=Object.defineProperty}catch(t){O=function(t,e,n){n.get?t[e]=n.get():t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(t){throw t}s&&Object.defineProperties(c("div"),{test:{value:0}}),F=Object.defineProperties}catch(t){F=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&O(t,n,e[n])}}try{Object.create(null),S=Object.create}catch(t){I=function(){},S=function(t,e){var n;return null===t?{}:(I.prototype=t,n=new I,e&&Object.defineProperties(n,e),n)}}function j(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return n.forEach(function(n){for(e in n)B.call(n,e)&&(t[e]=n[e])}),t}var B=Object.prototype.hasOwnProperty,P=Object.prototype.toString;function M(t){return"[object Array]"===P.call(t)}function L(t,e){return null===t&&null===e||"object"!=typeof t&&"object"!=typeof e&&t===e}function D(t){return!isNaN(parseFloat(t))&&isFinite(t)}function z(t){return t&&"[object Object]"===P.call(t)}function U(){}var V,q,W,K={};if(u){var H=["%cRactive.js %c0.8.14 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];W=function(){if(!1!==rl.WELCOME_MESSAGE){var t="WELCOME_MESSAGE"in rl?rl.WELCOME_MESSAGE:"You're running Ractive 0.8.14 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n",n=!!e.groupCollapsed;n&&e.groupCollapsed.apply(e,H),e.log(t),n&&e.groupEnd(H),W=U}else W=U},q=function(t,n){if(W(),"object"==typeof n[n.length-1]){var r,i,o=n.pop(),s=o?o.ractive:null;if(s)s.component&&(r=s.component.name)&&(t="<"+r+"> "+t),(i=o.node||s.fragment&&s.fragment.rendered&&s.find("*"))&&n.push(i)}e.warn.apply(e,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(n))},V=function(){e.log.apply(e,arguments)}}else q=V=W=U;function Y(t,e){return t.replace(/%s/g,function(){return e.shift()})}function $(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];throw t=Y(t,e),new Error(t)}function G(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=Y(t,e),K[t]||(K[t]=!0,q(t,e))}function X(){rl.DEBUG&&function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=Y(t,e),q(t,e)}.apply(null,arguments)}function Q(){rl.DEBUG&&G.apply(null,arguments)}var Z="Bad arguments",J='A function was specified for "%s" %s, but no %s was returned',tt=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"};function et(t,e,n){var r=nt(t,e,n);return r?r[t][n]:null}function nt(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function rt(t,e,n,r){if(t===e)return null;if(r){var i=et("interpolators",n,r);if(i)return i(t,e)||null;$(tt(r,"interpolator"))}return st.number(t,e)||st.array(t,e)||st.object(t,e)||null}function it(t){return function(){return t}}var ot,st={number:function(t,e){var n;return D(t)&&D(e)?(n=(e=+e)-(t=+t))?function(e){return t+e*n}:function(){return t}:null},array:function(t,e){var n,r,i,o;if(!M(t)||!M(e))return null;for(n=[],r=[],o=i=Math.min(t.length,e.length);o--;)r[o]=rt(t[o],e[o]);for(o=i;o<t.length;o+=1)n[o]=t[o];for(o=i;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,s;if(!z(t)||!z(e))return null;for(s in n=[],o={},i={},t)B.call(t,s)&&(B.call(e,s)?(n.push(s),i[s]=rt(t[s],e[s])||it(e[s])):o[s]=t[s]);for(s in e)B.call(e,s)&&!B.call(t,s)&&(o[s]=e[s]);return r=n.length,function(t){for(var e,s=r;s--;)e=n[s],o[e]=i[e](t);return o}}},at={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}},ut=function(t){this.event=t,this.method="on"+t,this.deprecate=at[t]};function ct(t,e){-1===t.indexOf(e)&&t.push(e)}function ht(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]==e)return!0;return!1}function lt(t){return"string"==typeof t?[t]:void 0===t?[]:t}function pt(t){return t[t.length-1]}function ft(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function dt(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}ut.prototype.call=function(t,e,n){if(e[t])return n?e[t](n):e[t](),!0},ut.prototype.fire=function(t,e){this.call(this.method,t,e),!t[this.method]&&this.deprecate&&this.call(this.deprecate.deprecated,t,e)&&(this.deprecate.message?X(this.deprecate.message):X('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var gt={},mt={},vt={};"function"==typeof Promise?ot=Promise:((ot=function(t){var e,n,r,i,o,s=[],a=[],u=gt;r=(n=function(t){return function(n){u===gt&&bt(e=function(t,e){return function(){for(var n;n=t.shift();)n(e)}}((u=t)===mt?s:a,n))}})(mt),i=n(vt);try{t(r,i)}catch(t){i(t)}return(o={then:function(t,n){var r=new ot(function(i,o){var c=function(t,e,n){"function"==typeof t?e.push(function(e){var n;try{n=t(e),function t(e,n,r,i){var o;if(n===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(n instanceof ot)n.then(r,i);else if(!n||"object"!=typeof n&&"function"!=typeof n)r(n);else{try{o=n.then}catch(t){return void i(t)}if("function"==typeof o){var s,a,u;a=function(n){s||(s=!0,t(e,n,r,i))},u=function(t){s||(s=!0,i(t))};try{o.call(n,a,u)}catch(t){if(!s)return i(t),void(s=!0)}}else r(n)}}(r,n,i,o)}catch(t){o(t)}}):e.push(n)};c(t,s,i),c(n,a,o),u!==gt&&bt(e)});return r}}).catch=function(t){return this.then(null,t)},o}).all=function(t){return new ot(function(e,n){var r,i,o,s=[];if(t.length)for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){s[i]=t,--r||e(s)},n):(s[i]=t,--r||e(s))},r=i=t.length;i--;)o(t[i],i);else e(s)})},ot.resolve=function(t){return new ot(function(e){e(t)})},ot.reject=function(t){return new ot(function(e,n){n(t)})});var yt=ot;function bt(t){setTimeout(t,0)}var wt=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};function xt(t){t.detach()}function Ct(t){t.detachNodes()}function Et(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.outrosComplete=!0,t.parent&&!t.parent.outrosComplete?t.parent.decrementOutros(t):t.detachNodes()),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&!t.notifiedTotal&&(t.notifiedTotal=!0,t.parent.decrementTotal())))}wt.prototype.add=function(t){(t.isIntro?this.intros:this.outros).push(t)},wt.prototype.addChild=function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},wt.prototype.decrementOutros=function(){this.outroChildren-=1,Et(this)},wt.prototype.decrementTotal=function(){this.totalChildren-=1,Et(this)},wt.prototype.detachNodes=function(){this.detachQueue.forEach(xt),this.children.forEach(Ct),this.detachQueue=[]},wt.prototype.ready=function(){!function(t){var e,n,r=t.detachQueue,i=function t(e,n){if(n){for(var r=e.children.length;r--;)n=t(e.children[r],n);return n=n.concat(e.outros)}n=[];for(var i=e;i.parent;)i=i.parent;return t(i,n)}(t),o=r.length,s=0;t:for(;o--;){for(e=r[o].node,s=i.length;s--;)if((n=i[s].element.node)===e||n.contains(e)||e.contains(n))continue t;r[o].detach(),r.splice(o,1)}}(this)},wt.prototype.remove=function(t){ft(t.isIntro?this.intros:this.outros,t),Et(this)},wt.prototype.start=function(){this.children.forEach(function(t){return t.start()}),this.intros.concat(this.outros).forEach(function(t){return t.start()}),this.ready=!0,Et(this)};var _t,kt=new ut("change"),At={start:function(t,e){var n,r;return e&&(n=new yt(function(t){return r=t})),_t={previousBatch:_t,transitionManager:new wt(r,_t&&_t.transitionManager),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],ractives:[],instance:t},n},end:function(){!function t(){var e=_t.immediateObservers;_t.immediateObservers=[];e.forEach(Tt);var n=_t.fragments.length;var r;e=_t.fragments;_t.fragments=[];var i=_t.ractives;_t.ractives=[];for(;n--;){var o=(r=e[n]).ractive;Object.keys(o.viewmodel.changes).length&&kt.fire(o,o.viewmodel.changes),o.viewmodel.changes={},ft(i,o),r.update()}n=i.length;for(;n--;){var s=i[n];kt.fire(s,s.viewmodel.changes),s.viewmodel.changes={}}_t.transitionManager.ready();e=_t.deferredObservers;_t.deferredObservers=[];e.forEach(Tt);var a=_t.tasks;_t.tasks=[];for(n=0;n<a.length;n+=1)a[n]();if(_t.fragments.length||_t.immediateObservers.length||_t.deferredObservers.length||_t.ractives.length||_t.tasks.length)return t()}(),_t.previousBatch||_t.transitionManager.start(),_t=_t.previousBatch},addFragment:function(t){ct(_t.fragments,t)},addFragmentToRoot:function(t){if(_t){for(var e=_t;e.previousBatch;)e=e.previousBatch;ct(e.fragments,t)}},addInstance:function(t){_t&&ct(_t.ractives,t)},addObserver:function(t,e){ct(e?_t.deferredObservers:_t.immediateObservers,t)},registerTransition:function(t){t._manager=_t.transitionManager,_t.transitionManager.add(t)},detachWhenReady:function(t){_t.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(_t){for(n=_t;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};function Tt(t){t.dispatch()}var St=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Ot=/([^\\](?:\\\\)*)\./,Ft=/\\|\./g,It=/((?:\\)+)\1|\\(\.)/g;function Rt(t){return"string"==typeof t?t.replace(Ft,"\\$&"):t}function Nt(t){return t?t.replace(St,".$1"):""}function jt(t){var e,n=[];for(t=Nt(t);e=Ot.exec(t);){var r=e.index+e[1].length;n.push(t.substr(0,r)),t=t.substr(r+1)}return n.push(t),n}function Bt(t){return"string"==typeof t?t.replace(It,"$1$2"):t}var Pt=Function.prototype.bind;function Mt(t,e){if(!/this/.test(t.toString()))return t;var n=Pt.call(t,e);for(var r in t)n[r]=t[r];return n}function Lt(t,e){for(var n=At.start(t,!0),r=e.length;r--;){var i=e[r],o=i[0],s=i[1];"function"==typeof s&&(s=Mt(s,t)),o.set(s)}return At.end(),n}var Dt=/\*/;function zt(t,e,n){return void 0===n&&(n=t.viewmodel),Dt.test(e)?n.findMatches(jt(e)):[n.joinAll(jt(e))]}function Ut(t,e,n){var r=[];if(z(e)){var i=function(n){e.hasOwnProperty(n)&&r.push.apply(r,zt(t,n).map(function(t){return[t,e[n]]}))};for(var o in e)i(o)}else r.push.apply(r,zt(t,e).map(function(t){return[t,n]}));return r}var Vt="Cannot add to a non-numeric value";function qt(t,e,n){if("string"!=typeof e||!D(n))throw new Error("Bad arguments");return Lt(t,Ut(t,e,n).map(function(t){var e=t[0],n=t[1],r=e.get();if(!D(n)||!D(r))throw new Error(Vt);return[e,r+n]}))}var Wt=yt.resolve();O(Wt,"stop",{value:U});var Kt=i.linear;function Ht(t,e,n,r){r=function(t,e){var n;return(t=t||{}).easing&&(n="function"==typeof t.easing?t.easing:e.easing[t.easing]),{easing:n||Kt,duration:"duration"in t?t.duration:400,complete:t.complete||U,step:t.step||U}}(r,t);var i=e.get();if(L(i,n))return r.complete(r.to),Wt;var o=rt(i,n,t,r.interpolator);return o?e.animate(i,n,r,o):(At.start(),e.set(n),At.end(),Wt)}var Yt=new ut("detach");function $t(t,e){return t.compareDocumentPosition?2&t.compareDocumentPosition(e)?1:-1:Gt(t,e)}function Gt(t,e){for(var n,r=Qt(t.component||t._ractive.proxy),i=Qt(e.component||e._ractive.proxy),o=pt(r),s=pt(i);o&&o===s;)r.pop(),i.pop(),n=o,o=pt(r),s=pt(i);o=o.component||o,s=s.component||s;var a=o.parentFragment,u=s.parentFragment;if(a===u)return a.items.indexOf(o)-u.items.indexOf(s)||r.length-i.length;var c=n.iterations;if(c)return c.indexOf(a)-c.indexOf(u)||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/ractivejs/ractive/issues - thanks!")}function Xt(t){var e=t.parentFragment;return e?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function Qt(t){for(var e=[t],n=Xt(t);n;)e.push(n),n=Xt(n);return e}var Zt=function(t,e,n,r){this.ractive=t,this.selector=e,this.live=n,this.isComponentQuery=r,this.result=[],this.dirty=!0};Zt.prototype.add=function(t){this.result.push(t),this.makeDirty()},Zt.prototype.cancel=function(){var t=this._root[this.isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e);-1!==n&&(t.splice(n,1),t[e]=null)},Zt.prototype.init=function(){this.dirty=!1},Zt.prototype.makeDirty=function(){var t=this;this.dirty||(this.dirty=!0,At.scheduleTask(function(){return t.update()}))},Zt.prototype.remove=function(t){var e=this.result.indexOf(this.isComponentQuery?t.instance:t);-1!==e&&this.result.splice(e,1)},Zt.prototype.update=function(){this.result.sort(this.isComponentQuery?Gt:$t),this.dirty=!1},Zt.prototype.test=function(t){return this.isComponentQuery?!this.selector||t.name===this.selector:t?h(t,this.selector):null};var Jt={};function te(t){var e,n,r,i,o,s;for(e=jt(t),(n=Jt[e.length])||(n=function(t){var e,n,r,i,o,s,a,u,c="";if(!Jt[t]){for(r=[];c.length<t;)c+=1;for(e=parseInt(c,2),i=function(t){return"1"===t},o=0;o<=e;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;s<a;s++)u.push(i(n[s]));r[o]=u}Jt[t]=r}return Jt[t]}(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}var ee={};function ne(t,e,n){if(void 0===n&&(n={}),e)return n.event?n.event.name=e:n.event={name:e,_noArg:!0},function t(e,n,r,i,o){void 0===o&&(o=!1);var s,a,u=!0;!function(t,e){t.event&&t._eventQueue.push(t.event),t.event=e}(e,r);for(a=n.length;a>=0;a--)(s=e._subs[n[a]])&&(u=ie(e,s,r,i)&&u);!function(t){t._eventQueue.length?t.event=t._eventQueue.pop():t.event=null}(e);if(e.parent&&u){if(o&&e.component){var c=e.component.name+"."+n[n.length-1];n=re(c),r&&!r.component&&(r.component=e)}u=t(e.parent,n,r,i)}return u}(t,re(e),n.event,n.args,!0)}function re(t){return ee.hasOwnProperty(t)?ee[t]:ee[t]=te(t)}function ie(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r));for(var s=0,a=(e=e.slice()).length;s<a;s+=1)e[s].off||!1!==e[s].callback.apply(t,r)||(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function oe(t){throw new Error("An index or key reference ("+t+") cannot have child properties")}function se(t,e){for(var n,r,i,o=t.findContext().root,s=jt(e),a=s[0];t;){if(t.isIteration){if(a===t.parent.keyRef)return s.length>1&&oe(a),t.context.getKeyModel(t.key);if(a===t.parent.indexRef)return s.length>1&&oe(a),t.context.getKeyModel(t.index)}if(((i=t.owner.aliases)||(i=t.aliases))&&i.hasOwnProperty(a)){var u=i[a];if(1===s.length)return u;if("function"==typeof u.joinAll)return u.joinAll(s.slice(1))}if(t.context&&(t.isRoot&&!t.ractive.component||(n=!0),t.context.has(a)))return r?o.createLink(a,t.context.joinKey(s.shift()),a).joinAll(s):t.context.joinAll(s);t.componentParent&&!t.ractive.isolated?(t=t.componentParent,r=!0):t=t.parent}if(!n)return o.joinAll(s)}var ae,ue=[];function ce(){ue.push(ae=[])}function he(){var t=ue.pop();return ae=ue[ue.length-1],t}function le(t){ae&&ae.push(t)}var pe=function(t,e){this.value=t,this.isReadonly=this.isKey=!0,this.deps=[],this.links=[],this.parent=e};function fe(t){t.bind()}function de(t){t.cancel()}function ge(t){t.handleChange()}function me(t){t.mark()}function ve(t){t.marked()}function ye(t){t.markedAll()}function be(t){t.notifiedUpstream()}function we(t){t.render()}function xe(t){t.teardown()}function Ce(t){t.unbind()}function Ee(t){t.unrender()}function _e(t){t.unrender(!0)}function ke(t){t.update()}function Ae(t){return t.toString()}function Te(t){return t.toString(!0)}pe.prototype.get=function(t){return t&&le(this),Bt(this.value)},pe.prototype.getKeypath=function(){return Bt(this.value)},pe.prototype.rebinding=function(t,e){for(var n=this.deps.length;n--;)this.deps[n].rebinding(t,e,!1);for(n=this.links.length;n--;)this.links[n].rebinding(t,e,!1)},pe.prototype.register=function(t){this.deps.push(t)},pe.prototype.registerLink=function(t){ct(this.links,t)},pe.prototype.unregister=function(t){ft(this.deps,t)},pe.prototype.unregisterLink=function(t){ft(this.links,t)},pe.prototype.reference=U,pe.prototype.unreference=U;var Se=function(t,e){this.parent=t,this.ractive=e,this.value=e?t.getKeypath(e):t.getKeypath(),this.deps=[],this.children={},this.isReadonly=this.isKeypath=!0};Se.prototype.get=function(t){return t&&le(this),this.value},Se.prototype.getChild=function(t){if(!(t._guid in this.children)){var e=new Se(this.parent,t);this.children[t._guid]=e,e.owner=this}return this.children[t._guid]},Se.prototype.getKeypath=function(){return this.value},Se.prototype.handleChange=function(){for(var t=Object.keys(this.children),e=t.length;e--;)this.children[t[e]].handleChange();this.deps.forEach(ge)},Se.prototype.rebindChildren=function(t){for(var e=Object.keys(this.children),n=e.length;n--;){var r=this.children[e[n]];r.value=t.getKeypath(r.ractive),r.handleChange()}},Se.prototype.rebinding=function(t,e){for(var n=t?t.getKeypathModel(this.ractive):void 0,r=Object.keys(this.children),i=r.length;i--;)this.children[r[i]].rebinding(t,e,!1);for(i=this.deps.length;i--;)this.deps[i].rebinding(n,this,!1)},Se.prototype.register=function(t){this.deps.push(t)},Se.prototype.removeChild=function(t){t.ractive&&delete this.children[t.ractive._guid]},Se.prototype.teardown=function(){this.owner&&this.owner.removeChild(this);for(var t=Object.keys(this.children),e=t.length;e--;)this.children[t[e]].teardown()},Se.prototype.unregister=function(t){ft(this.deps,t),this.deps.length||this.teardown()},Se.prototype.reference=U,Se.prototype.unreference=U;var Oe=Object.prototype.hasOwnProperty,Fe={early:[],mark:[]},Ie={early:[],mark:[]},Re=function(t){this.deps=[],this.children=[],this.childByKey={},this.links=[],this.keyModels={},this.unresolved=[],this.unresolvedByKey={},this.bindings=[],this.patternObservers=[],t&&(this.parent=t,this.root=t.root)};function Ne(t){t.updateFromBindings(!0)}function je(t){for(var e=t.length;e--;)if(t[e].bound){var n=t[e].owner;if(n)return{value:"checked"===n.name?n.node.checked:n.node.value}}}function Be(t){if(t){var e=Fe[t];Fe[t]=[];for(var n=e.length;n--;)e[n]();var r=Ie[t];for(Ie[t]=[],n=r.length;n--;)r[n].model.register(r[n].item)}else Be("early"),Be("mark")}function Pe(t,e,n){var r=t.r||t;if(!r||"string"!=typeof r)return e;if("."===r||"@"===r[0]||(e||n).isKey||(e||n).isKeypath)return e;for(var i=r.split("/"),o=jt(i[i.length-1]),s=e||n,a=o.length,u=!0,c=!1;s&&a--;)s.shuffling&&(c=!0),o[a]!=s.key&&(u=!1),s=s.parent;return!e&&u&&c?n:e&&!u&&c?n:e}Re.prototype.addUnresolved=function(t,e){this.unresolvedByKey[t]||(this.unresolved.push(t),this.unresolvedByKey[t]=[]),this.unresolvedByKey[t].push(e)},Re.prototype.addShuffleTask=function(t,e){void 0===e&&(e="early"),Fe[e].push(t)},Re.prototype.addShuffleRegister=function(t,e){void 0===e&&(e="early"),Ie[e].push({model:this,item:t})},Re.prototype.clearUnresolveds=function(t){for(var e=this.unresolved.length;e--;){var n=this.unresolved[e];if(!t||n===t){for(var r=this.unresolvedByKey[n],i=this.has(n),o=r.length;o--;)i&&r[o].attemptResolution(),r[o].resolved&&r.splice(o,1);r.length||(this.unresolved.splice(e,1),this.unresolvedByKey[n]=null)}}},Re.prototype.findMatches=function(t){var e,n,r=t.length,i=[this],o=function(){var r=t[n];"*"===r?(e=[],i.forEach(function(t){e.push.apply(e,t.getValueChildren(t.get()))})):e=i.map(function(t){return t.joinKey(r)}),i=e};for(n=0;n<r;n+=1)o();return e},Re.prototype.getKeyModel=function(t,e){return void 0===t||e?(t in this.keyModels||(this.keyModels[t]=new pe(Rt(t),this)),this.keyModels[t]):this.parent.getKeyModel(t,!0)},Re.prototype.getKeypath=function(t){return t!==this.ractive&&this._link?this._link.target.getKeypath(t):(this.keypath||(this.keypath=this.parent.isRoot?this.key:this.parent.getKeypath(t)+"."+Rt(this.key)),this.keypath)},Re.prototype.getValueChildren=function(t){var e,n=this;if(M(t))e=[],"length"in this&&this.length!==t.length&&e.push(this.joinKey("length")),t.forEach(function(t,r){e.push(n.joinKey(r))});else if(z(t)||"function"==typeof t)e=Object.keys(t).map(function(t){return n.joinKey(t)});else if(null!=t)return[];return e},Re.prototype.getVirtual=function(t){var e=this.get(t,{virtual:!1});if(z(e)){for(var n=M(e)?[]:{},r=Object.keys(e),i=r.length;i--;){var o=this.childByKey[r[i]];o?o._link?n[r[i]]=o._link.getVirtual():n[r[i]]=o.getVirtual():n[r[i]]=e[r[i]]}for(i=this.children.length;i--;){var s=this.children[i];s.key in n||!s._link||(n[s.key]=s._link.getVirtual())}return n}return e},Re.prototype.has=function(t){if(this._link)return this._link.has(t);var e=this.get();if(!e)return!1;if(t=Bt(t),Oe.call(e,t))return!0;for(var n=e.constructor;n!==Function&&n!==Array&&n!==Object;){if(Oe.call(n.prototype,t))return!0;n=n.constructor}return!1},Re.prototype.joinAll=function(t,e){for(var n=this,r=0;r<t.length;r+=1){if(e&&!1===e.lastLink&&r+1===t.length&&n.childByKey[t[r]]&&n.childByKey[t[r]]._link)return n.childByKey[t[r]];n=n.joinKey(t[r],e)}return n},Re.prototype.notifyUpstream=function(){for(var t=this.parent,e=[this.key];t;)t.patternObservers.length&&t.patternObservers.forEach(function(t){return t.notify(e.slice())}),e.unshift(t.key),t.links.forEach(be),t.deps.forEach(ge),t=t.parent},Re.prototype.rebinding=function(t,e,n){for(var r=this.deps.length;r--;)this.deps[r].rebinding&&this.deps[r].rebinding(t,e,n);for(r=this.links.length;r--;){var i=this.links[r];i.owner._link&&i.relinking(t,!0,n)}for(r=this.children.length;r--;){var o=this.children[r];o.rebinding(t?t.joinKey(o.key):void 0,o,n)}for(r=this.unresolved.length;r--;)for(var s=this.unresolvedByKey[this.unresolved[r]],a=s.length;a--;)s[a].rebinding(t,e);for(this.keypathModel&&this.keypathModel.rebinding(t,e,!1),r=this.bindings.length;r--;)this.bindings[r].rebinding(t,e,n)},Re.prototype.reference=function(){"refs"in this?this.refs++:this.refs=1},Re.prototype.register=function(t){this.deps.push(t)},Re.prototype.registerChange=function(t,e){this.isRoot?(this.changes[t]=e,At.addInstance(this.root.ractive)):this.root.registerChange(t,e)},Re.prototype.registerLink=function(t){ct(this.links,t)},Re.prototype.registerPatternObserver=function(t){this.patternObservers.push(t),this.register(t)},Re.prototype.registerTwowayBinding=function(t){this.bindings.push(t)},Re.prototype.removeUnresolved=function(t,e){var n=this.unresolvedByKey[t];n&&ft(n,e)},Re.prototype.shuffled=function(){for(var t=this.children.length;t--;)this.children[t].shuffled();this.wrapper&&(this.wrapper.teardown(),this.wrapper=null,this.rewrap=!0)},Re.prototype.unreference=function(){"refs"in this&&this.refs--},Re.prototype.unregister=function(t){ft(this.deps,t)},Re.prototype.unregisterLink=function(t){ft(this.links,t)},Re.prototype.unregisterPatternObserver=function(t){ft(this.patternObservers,t),this.unregister(t)},Re.prototype.unregisterTwowayBinding=function(t){ft(this.bindings,t)},Re.prototype.updateFromBindings=function(t){for(var e=this.bindings.length;e--;){var n=this.bindings[e].getValue();n!==this.value&&this.set(n)}if(!this.bindings.length){var r=je(this.deps);r&&r.value!==this.value&&this.set(r.value)}t&&(this.children.forEach(Ne),this.links.forEach(Ne),this._link&&this._link.updateFromBindings(t))},pe.prototype.addShuffleTask=Re.prototype.addShuffleTask,pe.prototype.addShuffleRegister=Re.prototype.addShuffleRegister,Se.prototype.addShuffleTask=Re.prototype.addShuffleTask,Se.prototype.addShuffleRegister=Re.prototype.addShuffleRegister;var Me,Le=function(t){function e(e,n,r,i){t.call(this,e),this.owner=n,this.target=r,this.key=void 0===i?n.key:i,n.isLink&&(this.sourcePath=n.sourcePath+"."+this.key),r.registerLink(this),this.isReadonly=e.isReadonly,this.isLink=!0}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.animate=function(t,e,n,r){return this.target.animate(t,e,n,r)},e.prototype.applyValue=function(t){this.target.applyValue(t)},e.prototype.get=function(t,e){return t&&(le(this),(e=e||{}).unwrap=!0),this.target.get(!1,e)},e.prototype.getKeypath=function(e){return e&&e!==this.root.ractive?this.target.getKeypath(e):t.prototype.getKeypath.call(this,e)},e.prototype.getKeypathModel=function(t){return this.keypathModel||(this.keypathModel=new Se(this)),t&&t!==this.root.ractive?this.keypathModel.getChild(t):this.keypathModel},e.prototype.handleChange=function(){this.deps.forEach(ge),this.links.forEach(ge),this.notifyUpstream()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,this,this.target.joinKey(t),t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e.prototype.mark=function(){this.target.mark()},e.prototype.marked=function(){this.links.forEach(ve),this.deps.forEach(ge),this.clearUnresolveds()},e.prototype.markedAll=function(){this.children.forEach(ye),this.marked()},e.prototype.notifiedUpstream=function(){this.links.forEach(be),this.deps.forEach(ge)},e.prototype.relinked=function(){this.target.registerLink(this),this.children.forEach(function(t){return t.relinked()})},e.prototype.relinking=function(t,e,n){var r=this;e&&this.sourcePath&&(t=Pe(this.sourcePath,t,this.target)),t&&this.target!==t&&(this.target.unregisterLink(this),this.keypathModel&&this.keypathModel.rebindChildren(t),this.target=t,this.children.forEach(function(e){e.relinking(t.joinKey(e.key),!1,n)}),e&&this.addShuffleTask(function(){r.relinked(),n||r.notifyUpstream()}))},e.prototype.set=function(t){this.target.set(t)},e.prototype.shuffle=function(t){if(!this.shuffling)if(this.target.shuffling){this.shuffling=!0;for(var e=t.length;e--;){var n=t[e];e!==n&&(e in this.childByKey&&this.childByKey[e].rebinding(~n?this.joinKey(n):void 0,this.childByKey[e],!0),!~n&&this.keyModels[e]?this.keyModels[e].rebinding(void 0,this.keyModels[e],!1):~n&&this.keyModels[e]&&(this.keyModels[n]||this.childByKey[n].getKeyModel(n),this.keyModels[e].rebinding(this.keyModels[n],this.keyModels[e],!1)))}var r=this.source().length!==this.source().value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),e=this.deps.length;e--;)this.deps[e].shuffle&&this.deps[e].shuffle(t);this.marked(),r&&this.notifyUpstream(),this.shuffling=!1}else this.target.shuffle(t)},e.prototype.source=function(){return this.target.source?this.target.source():this.target},e.prototype.teardown=function(){this._link&&this._link.teardown(),this.target.unregisterLink(this),this.children.forEach(xe)},e}(Re);Re.prototype.link=function(t,e){var n=this._link||new Le(this.parent,this,t,this.key);n.sourcePath=e,this._link&&this._link.relinking(t,!0,!1),this.rebinding(n,this,!1),Be();var r=!this._link;return this._link=n,r&&this.parent.clearUnresolveds(),n.markedAll(),n},Re.prototype.unlink=function(){if(this._link){var t=this._link;this._link=void 0,t.rebinding(this,this._link),Be(),t.teardown()}},o?(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(b,0,o),Me=o.requestAnimationFrame):Me=null;var De=Me,ze=o&&o.performance&&"function"==typeof o.performance.now?function(){return o.performance.now()}:function(){return Date.now()},Ue=[],Ve=!1;function qe(){At.start();var t,e=ze();for(t=0;t<Ue.length;t+=1)Ue[t].tick(e)||Ue.splice(t--,1);At.end(),Ue.length?De(qe):Ve=!1}var We=function(t){this.duration=t.duration,this.step=t.step,this.complete=t.complete,this.easing=t.easing,this.start=ze(),this.end=this.start+this.duration,this.running=!0,Ue.push(this),Ve||De(qe)};We.prototype.tick=function(t){if(!this.running)return!1;if(t>this.end)return this.step&&this.step(1),this.complete&&this.complete(1),!1;var e=t-this.start,n=this.easing(e/this.duration);return this.step&&this.step(n),!0},We.prototype.stop=function(){this.abort&&this.abort(),this.running=!1};var Ke={};function He(t){var e;return Ke[t]||(e=t?t+".":"",Ke[t]=function(n,r){var i;return"string"==typeof n?((i={})[e+n]=r,i):"object"==typeof n?e?function(t,e){var n,r={};if(!e)return t;for(n in e+=".",t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}(n,t):n:void 0}),Ke[t]}var Ye=function(t){function e(e,n){t.call(this,e),this.ticker=null,e&&(this.key=Bt(n),this.isReadonly=e.isReadonly,e.value&&(this.value=e.value[this.key],M(this.value)&&(this.length=this.value.length),this.adapt()))}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.adapt=function(){var t=this.root.adaptors,e=t.length;if(this.rewrap=!1,0!==e){var n,r=this.wrapper?"newWrapperValue"in this?this.newWrapperValue:this.wrapperValue:this.value,i=this.root.ractive,o=this.getKeypath();if(this.wrapper){if(!(this.wrapperValue!==r&&(!this.wrapper.reset||!1===this.wrapper.reset(r))))return delete this.newWrapperValue,this.wrapperValue=r,void(this.value=this.wrapper.get());if(this.wrapper.teardown(),this.wrapper=null,void 0!==this.value){var s=this.parent.value||this.parent.createBranch(this.key);s[this.key]!==r&&(s[this.key]=r)}}for(n=0;n<e;n+=1){var a=t[n];if(a.filter(r,o,i)){this.wrapper=a.wrap(i,r,o,He(o)),this.wrapperValue=r,this.wrapper.__model=this,this.value=this.wrapper.get();break}}}},e.prototype.animate=function(t,e,n,r){var i,o=this;this.ticker&&this.ticker.stop();var s=new yt(function(t){return i=t});return this.ticker=new We({duration:n.duration,easing:n.easing,step:function(t){var e=r(t);o.applyValue(e),n.step&&n.step(t,e)},complete:function(){o.applyValue(e),n.complete&&n.complete(e),o.ticker=null,i()}}),s.stop=this.ticker.stop,s},e.prototype.applyValue=function(t){if(!L(t,this.value)){if(this.registerChange(this.getKeypath(),t),this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,t),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key],this.wrapper&&(this.newWrapperValue=this.value),this.adapt();else if(this.wrapper)this.newWrapperValue=t,this.adapt();else{(this.parent.value||this.parent.createBranch(this.key))[this.key]=t,this.value=t,this.adapt()}this.parent.clearUnresolveds(),this.clearUnresolveds(),M(t)?(this.length=t.length,this.isArray=!0):this.isArray=!1,this.links.forEach(ge),this.children.forEach(me),this.deps.forEach(ge),this.notifyUpstream(),this.parent.isArray&&("length"===this.key?this.parent.length=t:this.parent.joinKey("length").mark())}},e.prototype.createBranch=function(t){var e=D(t)?[]:{};return this.set(e),e},e.prototype.get=function(t,e){return this._link?this._link.get(t,e):(t&&le(this),e&&e.virtual?this.getVirtual(!1):(t||e&&e.unwrap)&&this.wrapper?this.wrapperValue:this.value)},e.prototype.getKeypathModel=function(t){return this.keypathModel||(this.keypathModel=new Se(this)),this.keypathModel},e.prototype.joinKey=function(t,n){if(this._link)return!n||!1!=!n.lastLink||void 0!==t&&""!==t?this._link.joinKey(t):this;if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var r=new e(this,t);this.children.push(r),this.childByKey[t]=r}return this.childByKey[t]._link?this.childByKey[t]._link:this.childByKey[t]},e.prototype.mark=function(){if(this._link)return this._link.mark();var t=this.retrieve();if(!L(t,this.value)){var e=this.value;this.value=t,(e!==t||this.rewrap)&&(this.wrapper&&(this.newWrapperValue=t),this.adapt()),M(t)?(this.length=t.length,this.isArray=!0):this.isArray=!1,this.children.forEach(me),this.links.forEach(ve),this.deps.forEach(ge),this.clearUnresolveds()}},e.prototype.merge=function(t,e){var n=this.value,r=t;n===r&&(n=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=(t.childByKey[n]||{}).value;return e}(this)),e&&(n=n.map(e),r=r.map(e));var i=n.length,o={},s=0,a=n.map(function(t){var e,n=s;do{if(-1===(e=r.indexOf(t,n)))return-1;n=e+1}while(!0===o[e]&&n<i);return e===s&&(s+=1),o[e]=!0,e});this.parent.value[this.key]=t,this.shuffle(a)},e.prototype.retrieve=function(){return this.parent.value?this.parent.value[this.key]:void 0},e.prototype.set=function(t){this.ticker&&this.ticker.stop(),this.applyValue(t)},e.prototype.shuffle=function(t){this.shuffling=!0;for(var e=t.length;e--;){var n=t[e];e!==n&&(e in this.childByKey&&this.childByKey[e].rebinding(~n?this.joinKey(n):void 0,this.childByKey[e],!0),!~n&&this.keyModels[e]?this.keyModels[e].rebinding(void 0,this.keyModels[e],!1):~n&&this.keyModels[e]&&(this.keyModels[n]||this.childByKey[n].getKeyModel(n),this.keyModels[e].rebinding(this.keyModels[n],this.keyModels[e],!1)))}var r=this.length!==this.value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),Be("early"),e=this.deps.length;e--;)this.deps[e].shuffle&&this.deps[e].shuffle(t);this.mark(),Be("mark"),r&&this.notifyUpstream(),this.shuffling=!1},e.prototype.teardown=function(){this._link&&this._link.teardown(),this.children.forEach(xe),this.wrapper&&this.wrapper.teardown(),this.keypathModel&&this.keypathModel.teardown()},e}(Re);var $e=new(function(t){function e(){t.call(this,null,"@global"),this.value=void 0!==n?n:window,this.isRoot=!0,this.root=this,this.adaptors=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@global"},e.prototype.registerChange=function(){},e}(Ye)),Ge=/^@[^\(]+\(([^\)]+)\)/;function Xe(t,e){var n=t.findContext();if("."===e||"this"===e)return n;if(0===e.indexOf("@keypath")){var r=Ge.exec(e);if(r&&r[1]){var i=Xe(t,r[1]);if(i)return i.getKeypathModel()}return n.getKeypathModel()}if(0===e.indexOf("@rootpath")){for(;n.isRoot&&n.ractive.component;)n=n.ractive.component.parentFragment.findContext();var o=Ge.exec(e);if(o&&o[1]){var s=Xe(t,o[1]);if(s)return s.getKeypathModel(t.ractive.root)}return n.getKeypathModel(t.ractive.root)}if("@index"===e||"@key"===e){var a=t.findRepeatingFragment();if(!a.isIteration)return;return a.context.getKeyModel(a["i"===e[1]?"index":"key"])}if("@this"===e)return t.ractive.viewmodel.getRactiveModel();if("@global"===e)return $e;if("~"===e[0])return t.ractive.viewmodel.joinAll(jt(e.slice(2)));if("."===e[0]){for(var u=e.split("/");"."===u[0]||".."===u[0];){".."===u.shift()&&(n=n.parent)}return"."===(e=u.join("/"))[0]&&(e=e.slice(1)),n.joinAll(jt(e))}return se(t,e)}function Qe(t){for(var e={},n={};t;){if(t.parent&&(t.parent.indexRef||t.parent.keyRef)){var r=t.parent.indexRef;!r||r in n||(n[r]=t.index),!(r=t.parent.keyRef)||r in e||(e[r]=t.key)}t=t.componentParent&&!t.ractive.isolated?t.componentParent:t.parent}return{key:e,index:n}}function Ze(t,e,n){var r,i,o,s,a,u=[];if(!(r=function(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t+Math.max(n[0],-t)),void 0===n[0]&&(n[0]=0);n.length<2;)n.push(t-n[0]);return"number"!=typeof n[1]&&(n[1]=t-n[0]),n[1]=Math.min(n[1],t-n[0]),n;case"sort":case"reverse":return null;case"pop":return t?[t-1,1]:[0,0];case"push":return[t,0].concat(n);case"shift":return[0,t?1:0];case"unshift":return[0,0].concat(n)}}(t,e,n)))return null;for(s=r.length-2-r[1],o=(i=Math.min(t,r[0]))+r[1],u.startIndex=i,a=0;a<i;a+=1)u.push(a);for(;a<o;a+=1)u.push(-1);for(;a<t;a+=1)u.push(a+s);return u.touchedFrom=0!==s?r[0]:t,u}var Je=Array.prototype;function tn(t){function e(e,n){var r=e.get();if(!M(r)){if(void 0===r){r=[];var i=Je[t].apply(r,n),o=At.start(this,!0).then(function(){return i});return e.set(r),At.end(),o}throw new Error("shuffle array method "+t+" called on non-array at "+e.getKeypath())}var s=Ze(r.length,t,n),a=Je[t].apply(r,n),u=At.start(this,!0).then(function(){return a});return u.result=a,s?e.shuffle(s):e.set(a),At.end(),u}return{path:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e(this.viewmodel.joinAll(jt(t)),n)},model:e}}var en={};function nn(t,e,n,r){var i=At.start(t,!0);if(!M(e.get())||!M(n))throw new Error("You cannot merge an array with a non-array");var o=function(t){if(!t)return null;if(!0===t)return JSON.stringify;if("function"==typeof t)return t;if("string"==typeof t)return en[t]||(en[t]=function(e){return e[t]});throw new Error("If supplied, options.compare must be a string, function, or `true`")}(r&&r.compare);return e.merge(n,o),At.end(),i}var rn=new ut("update");function on(t,e){e.parent&&e.parent.wrapper&&e.parent.adapt();var n=At.start(t,!0);if(e.mark(),e.registerChange(e.getKeypath(),e.get()),!e.isRoot)for(var r=e.parent,i=e.key;r&&!r.isRoot;)r.clearUnresolveds&&r.clearUnresolveds(i),i=r.key,r=r.parent;return e.notifyUpstream(),At.end(),rn.fire(t,e),n}var sn=tn("push").model,an=tn("pop").model,un=tn("shift").model,cn=tn("unshift").model,hn=tn("sort").model,ln=tn("splice").model,pn=tn("reverse").model;function fn(t,e,n){var r=[];if(z(e))for(var i in e)e.hasOwnProperty(i)&&r.push([mn(t,i).model,e[i]]);else r.push([mn(t,e).model,n]);return r}function dn(t){if(!t)return this._element.parentFragment.findContext().get(!0);var e=Xe(this._element.parentFragment,t);return e?e.get(!0):void 0}function gn(t,e){var n=mn(this,t),r=n.model,i=n.instance;return r?r.getKeypath(e||i):t}function mn(t,e){var n=t._element.parentFragment;return"string"!=typeof e?{model:n.findContext(),instance:e}:{model:Xe(n,e),instance:n.ractive}}function vn(t,e){if(void 0===e&&(e=1),!D(e))throw new Error("Bad arguments");return Lt(this.ractive,fn(this,t,e).map(function(t){var e=t[0],n=t[1],r=e.get();if(!D(n)||!D(r))throw new Error("Cannot add non-numeric value");return[e,r+n]}))}function yn(t,e,n){var r=mn(this,t).model;return Ht(this.ractive,r,e,n)}function bn(t,e){var n=mn(this,t).model,r=mn(this,e).model,i=At.start(this.ractive,!0);return r.link(n,t),At.end(),i}function wn(t,e,n){return nn(this.ractive,mn(this,t).model,e,n)}function xn(t){return an(mn(this,t).model,[])}function Cn(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return sn(mn(this,t).model,e)}function En(t){return pn(mn(this,t).model,[])}function _n(t,e){return Lt(this.ractive,fn(this,t,e))}function kn(t){return un(mn(this,t).model,[])}function An(t,e,n){for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];return r.unshift(e,n),ln(mn(this,t).model,r)}function Tn(t){return hn(mn(this,t).model,[])}function Sn(t,e){if(void 0===e&&(e=1),!D(e))throw new Error("Bad arguments");return Lt(this.ractive,fn(this,t,e).map(function(t){var e=t[0],n=t[1],r=e.get();if(!D(n)||!D(r))throw new Error("Cannot add non-numeric value");return[e,r-n]}))}function On(t){var e=mn(this,t).model;return Lt(this.ractive,[[e,!e.get()]])}function Fn(t){var e=mn(this,t).model,n=At.start(this.ractive,!0);return e.owner&&e.owner._link&&e.owner.unlink(),At.end(),n}function In(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return cn(mn(this,t).model,e)}function Rn(t){return on(this.ractive,mn(this,t).model)}function Nn(t,e){var n=mn(this,t).model,r=At.start(this.ractive,!0);return n.updateFromBindings(e),At.end(),r}function jn(){return!!Mn(this).model}function Bn(t){var e=Mn(this),n=e.model,r=e.instance;if(n)return n.getKeypath(t||r)}function Pn(){var t=Mn(this).model;if(t)return t.get(!0)}function Mn(t){var e=t._element;return{model:e.binding&&e.binding.model,instance:e.parentFragment.ractive}}function Ln(t){var e=Mn(this).model;return Lt(this.ractive,[[e,t]])}function Dn(){return Q("Object property keypath is deprecated, please use resolve() instead."),this.resolve()}function zn(){return Q("Object property rootpath is deprecated, please use resolve( ractive.root ) instead."),this.resolve(this.ractive.root)}function Un(){return Q("Object property context is deprecated, please use get() instead."),this.get()}function Vn(){return Q('Object property index is deprecated, you can use get( "indexName" ) instead.'),Qe(this._element.parentFragment).index}function qn(){return Q('Object property key is deprecated, you can use get( "keyName" ) instead.'),Qe(this._element.parentFragment).key}function Wn(t,e){return F(t,{_element:{value:e},ractive:{value:e.parentFragment.ractive},resolve:{value:gn},get:{value:dn},add:{value:vn},animate:{value:yn},link:{value:bn},merge:{value:wn},pop:{value:xn},push:{value:Cn},reverse:{value:En},set:{value:_n},shift:{value:kn},sort:{value:Tn},splice:{value:An},subtract:{value:Sn},toggle:{value:On},unlink:{value:Fn},unshift:{value:In},update:{value:Rn},updateModel:{value:Nn},isBound:{value:jn},getBindingPath:{value:Bn},getBinding:{value:Pn},setBinding:{value:Ln},keypath:{get:Dn},rootpath:{get:zn},context:{get:Un},index:{get:Vn},key:{get:qn}}),t}var Kn=s&&s.querySelector;function Hn(t){if("string"==typeof t&&Kn&&(t=Kn.call(document,t)),t&&t._ractive)return Wn({},t._ractive.proxy)}var Yn=new ut("insert");var $n=function(t,e,n){for(this.fragment=t,this.reference=Nt(e),this.callback=n,this.keys=jt(e),this.resolved=!1,this.contexts=[];t;)t.context&&(t.context.addUnresolved(this.keys[0],this),this.contexts.push(t.context)),t=t.componentParent||t.parent};function Gn(t,e,n,r){var i=t.viewmodel,o=jt(e),s=o.indexOf("*");if(r.keypath=e,!~s){var a,u=o[0];return""===u||i.has(u)?a=i.joinAll(o):t.component&&!t.isolated&&(a=Xe(t.component.parentFragment,u))&&(i.map(u,a),a=i.joinAll(o)),new Xn(t,a,n,r)}var c=0===s?i:i.joinAll(o.slice(0,s));return new Qn(t,c,o.splice(s),n,r)}$n.prototype.attemptResolution=function(){if(!this.resolved){var t=se(this.fragment,this.reference);t&&(this.resolved=!0,this.callback(t))}},$n.prototype.forceResolution=function(){if(!this.resolved){var t=this.fragment.findContext().joinAll(this.keys);this.callback(t),this.resolved=!0}},$n.prototype.rebinding=function(t,e){var n=this;e&&e.removeUnresolved(this.keys[0],this),this.next=t,t&&At.scheduleTask(function(){t===n.next&&(t.addUnresolved(n.keys[0],n),n.next=null)})},$n.prototype.unbind=function(){var t=this;this.fragment&&ft(this.fragment.unresolved,this),this.resolved||this.contexts.forEach(function(e){return e.removeUnresolved(t.keys[0],t)})};var Xn=function(t,e,n,r){var i=this;this.context=r.context||t,this.callback=n,this.ractive=t,e?this.resolved(e):(this.keypath=r.keypath,this.resolver=new $n(t.fragment,r.keypath,function(t){i.resolved(t)})),!1!==r.init?(this.dirty=!0,this.dispatch()):this.oldValue=this.newValue,this.defer=r.defer,this.once=r.once,this.strict=r.strict,this.dirty=!1};Xn.prototype.cancel=function(){this.cancelled=!0,this.model?this.model.unregister(this):this.resolver.unbind()},Xn.prototype.dispatch=function(){this.cancelled||(this.callback.call(this.context,this.newValue,this.oldValue,this.keypath),this.oldValue=this.model?this.model.get():this.newValue,this.dirty=!1)},Xn.prototype.handleChange=function(){var t=this;if(!this.dirty){var e=this.model.get();if(L(e,this.oldValue))return;if(this.newValue=e,this.strict&&this.newValue===this.oldValue)return;At.addObserver(this,this.defer),this.dirty=!0,this.once&&At.scheduleTask(function(){return t.cancel()})}},Xn.prototype.rebinding=function(t,e){var n=this;if((t=Pe(this.keypath,t,e))===this.model)return!1;this.model&&this.model.unregister(this),t&&t.addShuffleTask(function(){return n.resolved(t)})},Xn.prototype.resolved=function(t){this.model=t,this.keypath=t.getKeypath(this.ractive),this.oldValue=void 0,this.newValue=t.get(),t.register(this)};var Qn=function(t,e,n,r,i){var o=this;this.context=i.context||t,this.ractive=t,this.baseModel=e,this.keys=n,this.callback=r;var s=n.join("\\.").replace(/\*/g,"(.+)"),a=e.getKeypath(t);this.pattern=new RegExp("^"+(a?a+"\\.":"")+s+"$"),this.oldValues={},this.newValues={},this.defer=i.defer,this.once=i.once,this.strict=i.strict,this.dirty=!1,this.changed=[],this.partial=!1,e.findMatches(this.keys).forEach(function(t){o.newValues[t.getKeypath(o.ractive)]=t.get()}),!1!==i.init?this.dispatch():this.oldValues=this.newValues,e.registerPatternObserver(this)};function Zn(){return-1}Qn.prototype.cancel=function(){this.baseModel.unregisterPatternObserver(this)},Qn.prototype.dispatch=function(){var t=this,e=this.newValues;if(this.newValues={},Object.keys(e).forEach(function(n){if(!t.newKeys||t.newKeys[n]){var r=e[n],i=t.oldValues[n];if(!(t.strict&&r===i||L(r,i))){var o=[r,i,n];if(n){var s=t.pattern.exec(n);s&&(o=o.concat(s.slice(1)))}t.callback.apply(t.context,o)}}}),this.partial)for(var n in e)this.oldValues[n]=e[n];else this.oldValues=e;this.newKeys=null,this.dirty=!1},Qn.prototype.notify=function(t){this.changed.push(t)},Qn.prototype.shuffle=function(t){if(M(this.baseModel.value)){var e=this.baseModel.getKeypath(this.ractive),n=this.baseModel.value.length,r=this.keys.length>1?"."+this.keys.slice(1).join("."):"";this.newKeys={};for(var i=0;i<t.length;i++)-1!==t[i]&&t[i]!==i&&(this.newKeys[e+"."+i+r]=!0);for(var o=t.touchedFrom;o<n;o++)this.newKeys[e+"."+o+r]=!0}},Qn.prototype.handleChange=function(){var t=this;if(!this.dirty||this.changed.length){if(this.dirty||(this.newValues={}),this.changed.length){var e=0,n=this.baseModel.isRoot?this.changed.map(function(t){return t.map(Rt).join(".")}):this.changed.map(function(e){return t.baseModel.getKeypath(t.ractive)+"."+e.map(Rt).join(".")});if(this.baseModel.findMatches(this.keys).forEach(function(r){var i=r.getKeypath(t.ractive);n.filter(function(t){return 0===t.indexOf(i)&&(t.length===i.length||"."===t[i.length])||0===i.indexOf(t)&&(t.length===i.length||"."===i[t.length])}).length&&(e++,t.newValues[i]=r.get())}),!e)return;this.partial=!0}else this.baseModel.findMatches(this.keys).forEach(function(e){var n=e.getKeypath(t.ractive);t.newValues[n]=e.get()}),this.partial=!1;At.addObserver(this,this.defer),this.dirty=!0,this.changed.length=0,this.once&&this.cancel()}};var Jn=function(t,e,n,r){this.context=t,this.model=e,this.keypath=e.getKeypath(),this.callback=n,this.pending=null,e.register(this),!1!==r.init?(this.sliced=[],this.shuffle([]),this.handleChange()):this.sliced=this.slice()};Jn.prototype.handleChange=function(){this.pending?(this.callback(this.pending),this.pending=null):(this.shuffle(this.sliced.map(Zn)),this.handleChange())},Jn.prototype.shuffle=function(t){var e,n=this,r=this.slice(),i=[],o=[],s={};t.forEach(function(t,r){s[t]=!0,t!==r&&void 0===e&&(e=r),-1===t&&o.push(n.sliced[r])}),void 0===e&&(e=t.length);for(var a=r.length,u=0;u<a;u+=1)s[u]||i.push(r[u]);this.pending={inserted:i,deleted:o,start:e},this.sliced=r},Jn.prototype.slice=function(){var t=this.model.get();return M(t)?t.slice():[]};var tr={init:!1,once:!0};function er(t){return t.trim()}function nr(t){return""!==t}var rr=tn("pop").path,ir=tn("push").path,or="/* Ractive.js component styles */",sr=[],ar=!1,ur=null,cr=null;function hr(t){return(t?sr.filter(function(e){return~t.indexOf(e.id)}):sr).reduce(function(t,e){return t+"\n\n/* {"+e.id+"} */\n"+e.styles},or)}!s||ur&&ur.parentNode||((ur=s.createElement("style")).type="text/css",s.getElementsByTagName("head")[0].appendChild(ur),cr=!!ur.styleSheet);var lr=new ut("render"),pr=new ut("complete");function fr(t,e,n,r){var i=t.transitionsEnabled;t.noIntro&&(t.transitionsEnabled=!1);var o=At.start(t,!0);if(At.scheduleTask(function(){return lr.fire(t)},!0),t.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(n=_(n)||t.anchor,t.el=e,t.anchor=n,t.cssId&&s&&ar&&(cr?ur.styleSheet.cssText=hr(null):ur.innerHTML=hr(null),ar=!1),e)if((e.__ractive_instances__||(e.__ractive_instances__=[])).push(t),n){var a=s.createDocumentFragment();t.fragment.render(a),e.insertBefore(a,n)}else t.fragment.render(e,r);return At.end(),t.transitionsEnabled=i,o.then(function(){return pr.fire(t)})}var dr={extend:function(t,e,n){e.adapt=function(t,e){var n=t.slice(),r=e.length;for(;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}(e.adapt,lt(n.adapt))},init:function(){}};var gr=/\/\*(?:[\s\S]*?)\*\//g,mr=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\2).)*\2/gi,vr=/\0(\d+)/g;var yr=/(?:^|\}|\{)\s*([^\{\}\0]+)\s*(?=\{)/g,br=/@keyframes\s+[^\{\}]+\s*\{(?:[^{}]+|\{[^{}]+})*}/gi,wr=/((?:(?:\[[^\]]+\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,xr=/^(?:@|\d+%)/,Cr=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function Er(t){return t.trim()}function _r(t){return t.str}function kr(t,e){var n='[data-ractive-css~="{'+e+'}"]';return Cr.test(t)?t.replace(Cr,n):function(t,e,n){void 0===n&&(n=[]);var r=[];return t=t.replace(mr,function(t){return"\0"+(r.push(t)-1)}).replace(gr,""),n.forEach(function(e){t=t.replace(e,function(t){return"\0"+(r.push(t)-1)})}),e(t,function(t){return t.replace(vr,function(t,e){return r[e]})})}(t,function(t,e){return e(t=t.replace(yr,function(t,e){if(xr.test(e))return t;var r=e.split(",").map(Er).map(function(t){return function(t,e){for(var n,r=[];n=wr.exec(t);)r.push({str:n[0],base:n[1],modifiers:n[2]});for(var i=r.map(_r),o=[],s=r.length;s--;){var a=i.slice(),u=r[s];a[s]=u.base+e+u.modifiers||"";var c=i.slice();c[s]=e+" "+c[s],o.push(a.join(" "),c.join(" "))}return o.join(", ")}(t,n)}).join(", ")+" ";return t.replace(e,r)}))},[br])}function Ar(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var Tr={name:"css",extend:function(t,e,n){if(n.css){var r,i=Ar()+Ar()+"-"+Ar()+"-"+Ar()+"-"+Ar()+"-"+Ar()+Ar()+Ar(),o=n.noCssTransform?n.css:kr(n.css,i);e.cssId=i,r={id:i,styles:o},sr.push(r),ar=!0}},init:function(t,e,n){n.css&&X("\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n\t...\n\tcss: '/* your css */',\n\t...\n});\n\nconst componentInstance = new Component({ ... })\n\t\t")}};var Sr={name:"data",extend:function(t,e,n){var r,i;if(n.data&&z(n.data))for(r in n.data)(i=n.data[r])&&"object"==typeof i&&(z(i)||M(i))&&X("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Or(e.data,n.data)},init:function(t,e,n){var r=Or(t.prototype.data,n.data);if("function"==typeof r&&(r=r.call(e)),r&&r.constructor===Object)for(var i in r)"function"==typeof r[i]&&(r[i]=Mt(r[i],e));return r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.root.set(e),!0}};function Or(t,e){var n;(n=e)&&n.constructor!==Object&&("function"==typeof n||("object"!=typeof n?$("data option must be an object or a function, `"+n+"` is not valid"):X("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")));var r="function"==typeof t,i="function"==typeof e;return e||r||(e={}),r||i?function(){return Ir(i?Fr(e,this):e,r?Fr(t,this):t)}:Ir(e,t)}function Fr(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&$("Data function must return an object"),n.constructor!==Object&&Q("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ir(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}var Rr=4,Nr=/\$\{([^\}]+)\}/g;function jr(t,e){void 0===e&&(e=0);for(var n=new Array(e);e--;)n[e]="_"+e;return new Function([],"return function ("+n.join(",")+"){return("+t+");};")()}function Br(t,e){var n,r="return ("+t.replace(Nr,function(t,e){return n=!0,'__ractive.get("'+e+'")'})+");";n&&(r="var __ractive = this; "+r);var i=new Function(r);return n?i.bind(e):i}var Pr,Mr,Lr=S(null);function Dr(t,e){return Lr[t]?Lr[t]:Lr[t]=(n=t,r=e,pa(jr,"new expression function",ha),jr(n,r));var n,r}function zr(t){if(t){var e=t.e;e&&Object.keys(e).forEach(function(t){Lr[t]||(Lr[t]=e[t])})}}var Ur=/^\s+/;(Mr=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}}).prototype=Error.prototype,(Pr=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n}).prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;n<r;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getContextMessage:function(t,e){var n=this.getLinePos(t),r=n[0],i=n[1];if(-1===this.options.contextLines)return[r,i,e+" at line "+r+" character "+i];var o=this.lines[r-1],s="",a="";if(this.options.contextLines){var u=r-1-this.options.contextLines<0?0:r-1-this.options.contextLines;s=this.lines.slice(u,r-1-u).join("\n").replace(/\t/g,"  "),a=this.lines.slice(r,r+this.options.contextLines).join("\n").replace(/\t/g,"  "),s&&(s+="\n"),a&&(a="\n"+a)}var c=0,h=s+o.replace(/\t/g,function(t,e){return e<i&&(c+=1),"  "})+"\n"+new Array(i+c).join(" ")+"^----"+a;return[r,i,e+" at line "+r+" character "+i+":\n"+h]},getLinePos:function(t){for(var e=0,n=0;t>=this.lineEnds[e];)n=this.lineEnds[e],e+=1;return[e+1,t-n+1,t]},error:function(t){var e=this.getContextMessage(this.pos,t),n=e[0],r=e[1],i=e[2],o=new Mr(i);throw o.line=n,o.character=r,o.shortMessage=t,o},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t},matchPattern:function(t){var e;if(e=t.exec(this.remaining()))return this.pos+=e[0].length,e[1]||e[0]},allowWhitespace:function(){this.matchPattern(Ur)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Pr.extend=function(t){var e,n;for(n in(e=function(t,e){Pr.call(this,t,e)}).prototype=S(this.prototype),t)B.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Pr.extend,e};var Vr=Pr,qr=1,Wr=2,Kr=3,Hr=4,Yr=5,$r=6,Gr=7,Xr=8,Qr=9,Zr=10,Jr=13,ti=14,ei=15,ni=16,ri=17,ii=18,oi=19,si=20,ai=21,ui=22,ci=23,hi=24,li=25,pi=26,fi=27,di=30,gi=31,mi=32,vi=33,yi=34,bi=35,wi=36,xi=40,Ci=50,Ei=51,_i=52,ki=53,Ai=54,Ti=60,Si=61,Oi=70,Fi=71,Ii=72,Ri=73,Ni=/^[^\s=]+/,ji=/^\s+/;var Bi=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;function Pi(t){var e;return(e=t.matchPattern(Bi))?{t:li,v:e}:null}var Mi=/[-/\\^$*+?.()|[\]{}]/g;function Li(t){return t.replace(Mi,"\\$&")}var Di={};function zi(t,e){return t.search(Di[e.join()]||(Di[e.join()]=new RegExp(e.map(Li).join("|"))))}var Ui=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,Vi=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,qi={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Wi=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Ki=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(qi).join("|")+"));?","g"),Hi="function"==typeof String.fromCodePoint,Yi=Hi?String.fromCodePoint:String.fromCharCode;function $i(t){return t.replace(Ki,function(t,e){var n;return(n="#"!==e[0]?qi[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10))?Yi(function(t){if(!t)return Zi;if(10===t)return 32;if(t<128)return t;if(t<=159)return Wi[t-128];if(t<55296)return t;if(t<=57343)return Zi;if(t<=65535)return t;if(!Hi)return Zi;if(t>=65536&&t<=131071)return t;if(t>=131072&&t<=196607)return t;return Zi}(n)):t})}var Gi=/</g,Xi=/>/g,Qi=/&/g,Zi=65533;function Ji(t){return t.replace(Qi,"&amp;").replace(Gi,"&lt;").replace(Xi,"&gt;")}var to,eo,no,ro="Expected a JavaScript expression",io="Expected closing paren",oo=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;function so(t){var e;return(e=t.matchPattern(oo))?{t:si,v:e}:null}function ao(t){return function(e){for(var n,r='"',i=!1;!i;)(n=e.matchPattern(to)||e.matchPattern(eo)||e.matchString(t))?r+='"'===n?'\\"':"\\'"===n?"'":n:(n=e.matchPattern(no))?r+="\\u"+("000"+n.charCodeAt(1).toString(16)).slice(-4):i=!0;return r+='"',JSON.parse(r)}}to=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,eo=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,no=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var uo=ao('"'),co=ao("'");function ho(t){var e,n;return e=t.pos,t.matchString('"')?(n=co(t),t.matchString('"')?{t:ai,v:n}:(t.pos=e,null)):t.matchString("'")?(n=uo(t),t.matchString("'")?{t:ai,v:n}:(t.pos=e,null)):null}var lo=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,po=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function fo(t){var e;return(e=ho(t))?po.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=so(t))?e.v:(e=t.matchPattern(lo))?e:null}function go(t){var e,n,r,i;return e=t.pos,null===(r=function(t){var e,n,r;e=t.pos,t.allowWhitespace();var i="'"!==t.nextChar()&&'"'!==t.nextChar();return null===(n=fo(t))?(t.pos=e,null):(t.allowWhitespace(),!i||","!==t.nextChar()&&"}"!==t.nextChar()?t.matchString(":")?(t.allowWhitespace(),null===(r=Po(t))?(t.pos=e,null):{t:fi,k:n,v:r}):(t.pos=e,null):(lo.test(n)||t.error("Expected a valid reference, but found '"+n+"' instead."),{t:fi,k:n,v:{t:di,n:n}}))}(t))?null:(n=[r],t.matchString(",")?(i=go(t))?n.concat(i):(t.pos=e,null):n)}function mo(t){t.allowWhitespace();var e=Po(t);if(null===e)return null;var n=[e];if(t.allowWhitespace(),t.matchString(",")){var r=mo(t);null===r&&t.error(ro),n.push.apply(n,r)}return n}function vo(t){return so(t)||function(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:hi,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:hi,v:"false"}):null}(t)||ho(t)||function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=go(t),t.allowWhitespace(),t.matchString("}")?{t:ci,m:n}:(t.pos=e,null)):(t.pos=e,null)}(t)||function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=mo(t),t.matchString("]")?{t:ui,m:n}:(t.pos=e,null)):(t.pos=e,null)}(t)||Pi(t)}var yo,bo,wo=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;yo=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/,bo=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var xo,Co,Eo=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,_o=/^[a-zA-Z_$][-\/a-zA-Z_$0-9]*/,ko=/^@(?:keypath|rootpath|index|key|this|global)/,Ao=/^\s*\(/,To=/^\s*\.{3}/;function So(t){var e,n,r,i,o,s,a,u;if(e=t.pos,("@keypath"===(r=t.matchPattern(ko))||"@rootpath"===r)&&t.matchPattern(Ao)){var c=So(t);c||t.error("Expected a valid reference for a keypath expression"),t.allowWhitespace(),t.matchString(")")||t.error("Unclosed keypath expression"),r+="("+c.n+")"}if(u=!r&&t.spreadArgs&&t.matchPattern(To),r||((r=!(n=t.matchPattern(wo)||"")&&t.relaxedNames&&t.matchPattern(_o)||t.matchPattern(Eo))||"."!==n?!r&&n&&(r=n,n=""):(n="",r=".")),!r)return null;if(!n&&!t.relaxedNames&&bo.test(r))return t.pos=e,null;if(!n&&yo.test(r))return i=yo.exec(r)[0],t.pos=e+i.length,{t:pi,v:(u?"...":"")+i};if(s=(u?3:0)+(n||"").length+r.length,o=(n||"")+Nt(r),t.matchString("("))if(-1!==(a=o.lastIndexOf("."))&&"]"!==r[r.length-1]){var h=o.length;o=o.substr(0,a),t.pos=e+(s-(h-a))}else t.pos-=1;return{t:di,n:(u?"...":"")+o.replace(/^this\./,"./").replace(/^this$/,".")}}function Oo(t){return vo(t)||So(t)||function(t){if(!t.matchString("("))return null;t.allowWhitespace();var e=Po(t);return e||t.error(ro),t.allowWhitespace(),t.matchString(")")||t.error(io),{t:yi,x:e}}(t)}function Fo(t){if(t.strictRefinement||t.allowWhitespace(),t.matchString(".")){t.allowWhitespace();var e=t.matchPattern(lo);if(e)return{t:gi,n:e};t.error("Expected a property name")}if(t.matchString("[")){t.allowWhitespace();var n=Po(t);return n||t.error(ro),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:gi,x:n}}return null}function Io(t){var e=Oo(t);if(!e)return null;for(;e;){var n=Fo(t);if(n)e={t:mi,x:e,r:n};else{if(!t.matchString("("))break;t.allowWhitespace();var r=t.spreadArgs;t.spreadArgs=!0;var i=mo(t);t.spreadArgs=r,t.allowWhitespace(),t.matchString(")")||t.error(io),e={t:xi,x:e},i&&(e.o=i)}}return e}Co=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),(r=Po(n))||n.error(ro),{s:t,o:r,t:vi}):null}},function(){var t,e,n,r;for(r=Io,t=0,e=(n="! ~ + - typeof".split(" ")).length;t<e;t+=1)r=Co(n[t],r);xo=r}();var Ro,No,jo=xo;No=function(t,e){return function(n){var r,i,o;if(!(i=e(n)))return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),!(o=e(n)))return n.pos=r,i;i={t:wi,s:t,o:[i,o]}}}},function(){var t,e,n,r;for(n="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=jo,t=0,e=n.length;t<e;t+=1)r=No(n[t],r);Ro=r}();var Bo=Ro;function Po(t){return function(t){var e,n,r,i;return(n=Bo(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),(r=Po(t))||t.error(ro),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),(i=Po(t))||t.error(ro),{t:bi,o:[n,r,i]}):(t.pos=e,n)):null}(t)}function Mo(t){var e,n,r=0;return function t(e,n){var r,i;e.t===di&&-1===n.indexOf(e.n)&&n.unshift(e.n);i=e.o||e.m;if(i)if(z(i))t(i,n);else for(r=i.length;r--;)i[r].n&&0===i[r].n.indexOf("...")&&(e.spread=!0),t(i[r],n);e.x&&t(e.x,n);e.r&&t(e.r,n);e.v&&t(e.v,n)}(t,e=[]),n=function t(n){switch(n.t){case hi:case pi:case si:case li:return n.v;case ai:return JSON.stringify(String(n.v));case ui:return"["+(n.m?n.m.map(t).join(","):"")+"]";case ci:return"{"+(n.m?n.m.map(t).join(","):"")+"}";case fi:return n.k+":"+t(n.v);case vi:return("typeof"===n.s?"typeof ":n.s)+t(n.o);case wi:return t(n.o[0])+("in"===n.s.substr(0,2)?" "+n.s+" ":n.s)+t(n.o[1]);case xi:if(n.spread){var i=r++;return"(spread$"+i+" = "+t(n.x)+").apply(spread$"+i+", [].concat("+(n.o?n.o.map(function(e){return e.n&&0===e.n.indexOf("...")?t(e):"["+t(e)+"]"}).join(","):"")+") )"}return t(n.x)+"("+(n.o?n.o.map(t).join(","):"")+")";case yi:return"("+t(n.x)+")";case mi:return t(n.x)+t(n.r);case gi:return n.n?"."+n.n:"["+t(n.x)+"]";case bi:return t(n.o[0])+"?"+t(n.o[1])+":"+t(n.o[2]);case di:return"_"+e.indexOf(n.n);default:throw new Error("Expected legal JavaScript")}}(t),{r:e=e.map(function(t){return 0===t.indexOf("...")?t.substr(3):t}),s:function(t){for(var e=[],n=r-1;n>=0;n--)e.push("spread$"+n);return e.length?"(function(){var "+e.join(",")+";return("+t+");})()":t}(n)}}var Lo={true:!0,false:!1,null:null,undefined:void 0},Do=new RegExp("^(?:"+Object.keys(Lo).join("|")+")"),zo=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Uo=/\$\{([^\}]+)\}/g,Vo=/^\$\{([^\}]+)\}/,qo=/^\s*$/,Wo=Vr.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&qo.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){if(!t.values)return null;var e=t.matchPattern(Vo);return e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0},function(t){var e=t.matchPattern(Do);if(e)return{v:Lo[e]}},function(t){var e=t.matchPattern(zo);if(e)return{v:+e}},function(t){var e=ho(t),n=t.values;return e&&n?{v:e.v.replace(Uo,function(t,e){return e in n?n[e]:e})}:e},function(t){if(!t.matchString("{"))return null;var e,n={};if(t.allowWhitespace(),t.matchString("}"))return{v:n};for(;e=Ko(t);){if(n[e.key]=e.value,t.allowWhitespace(),t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){if(!t.matchString("["))return null;var e,n=[];if(t.allowWhitespace(),t.matchString("]"))return{v:n};for(;e=t.read();){if(n.push(e.v),t.allowWhitespace(),t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});function Ko(t){t.allowWhitespace();var e=fo(t);if(!e)return null;var n={key:e};if(t.allowWhitespace(),!t.matchString(":"))return null;t.allowWhitespace();var r=t.read();return r?(n.value=r.v,n):null}function Ho(t,e){return new Wo(t,{values:e}).result}var Yo,$o=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(.*\)\s*$/,Go=/^\s*$/;function Xo(t,e,n){var r,i,o,s,a,u,c;if("string"==typeof t){var h=e.pos-t.length;if(n===Fi||n===Ii)return{a:Mo(new Yo("["+t+"]").result[0])};if(n===Oi&&(i=$o.exec(t))&&(X(e.getContextMessage(h,"Unqualified method events are deprecated. Prefix methods with '@this.' to call methods on the current Ractive instance.")[2]),t="@this."+i[1]+t.substr(i[1].length)),n===Oi&&~t.indexOf("(")){var l=new Yo("["+t+"]");if(l.result&&l.result[0])return l.remaining().length&&(e.pos=h+t.length-l.remaining().length,e.error("Invalid input after event expression '"+l.remaining()+"'")),{x:Mo(l.result[0])};(t.indexOf(":")>t.indexOf("(")||!~t.indexOf(":"))&&(e.pos=h,e.error("Invalid input in event expression '"+t+"'"))}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(r={},a=[],u=[],t){for(;t.length;)if("string"==typeof(o=t.shift())){if(Go.test(o))continue;if(-1!==(s=o.indexOf(":"))){s&&a.push(o.substr(0,s)),o.length>s+1&&(u[0]=o.substring(s+1));break}a.push(o)}else a.push(o);u=u.concat(t)}return a.length?u.length||"string"!=typeof a?(r={n:1===a.length&&"string"==typeof a[0]?a[0]:a},1===u.length&&"string"==typeof u[0]?(c=Ho("["+u[0]+"]"),r.a=c?c.value:[u[0].trim()]):r.d=u):r=a:r="",u.length&&n&&X(e.getContextMessage(e.pos,"Proxy events with arguments are deprecated. You can fire events with arguments using \"@this.fire('eventName', arg1, arg2, ...)\".")[2]),r}Yo=Vr.extend({converters:[Po],spreadArgs:!0});var Qo=/^[^\s"'>\/=]+/,Zo=/^on/,Jo=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,ts=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,es=/^as-([a-z-A-Z][-a-zA-Z_0-9]*)$/,ns=/^([a-zA-Z](?:(?!-in-out)[-a-zA-Z_0-9])*)-(in|out|in-out)$/,rs={"intro-outro":{t:Ii,v:"t0"},intro:{t:Ii,v:"t1"},outro:{t:Ii,v:"t2"},lazy:{t:Ri,v:"l"},twoway:{t:Ri,v:"t"},decorator:{t:Fi}},is=/^[^\s"'=<>\/`]+/;function os(t){var e,n,r,i,o,s;if(t.allowWhitespace(),!(n=t.matchPattern(Qo)))return null;for(o=n.length,i=0;i<t.tags.length;i++)~(s=n.indexOf(t.tags[i].open))&&s<o&&(o=s);return o<n.length?(t.pos-=n.length-o,(n=n.substr(0,o))?{n:n}:null):(e={n:n},null!=(r=function(t){var e,n,r,i;e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace");if(t.allowWhitespace(),!t.matchString("="))return t.pos=e,null;t.allowWhitespace(),n=t.pos,r=t.sectionDepth,null===(i=as(t,"'")||as(t,'"')||function(t){var e,n;for(t.inAttribute=!0,e=[],n=hs(t)||ss(t);n;)e.push(n),n=hs(t)||ss(t);return e.length?(t.inAttribute=!1,e):null}(t))&&t.error("Expected valid attribute value");t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags"));if(!i.length)return"";if(1===i.length&&"string"==typeof i[0])return $i(i[0]);return i}(t))&&(e.f=r),e)}function ss(t){var e,n,r;return e=t.pos,(n=t.matchPattern(is))?(-1!==(r=zi(n,t.tags.map(function(t){return t.open})))&&(n=n.substr(0,r),t.pos=e+n.length),n):null}function as(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=hs(t)||us(t,e);null!==i;)r.push(i),i=hs(t)||us(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function us(t,e){var n=t.remaining(),r=t.tags.map(function(t){return t.open});r.push(e);var i=zi(n,r);return-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,n.substr(0,i)):null}var cs={t:Zr,exclude:!0};function hs(t){var e,n;if(!1===t.interpolate[t.inside])return null;for(n=0;n<t.tags.length;n+=1)if(e=ls(t,t.tags[n]))return e;return t.inTag&&!t.inAttribute&&(e=function(t){var e,n,r;if(!(n=os(t)))return null;if(r=rs[n.n])n.t=r.t,r.v&&(n.v=r.v),delete n.n,r.t!==Ii&&r.t!==Fi||(n.f=Xo(n.f,t)),r.t===Ii?Q(("t0"===r.v?"intro-outro":"t1"===r.v?"intro":"outro")+" is deprecated. To specify tranisitions, use the transition name suffixed with '-in', '-out', or '-in-out' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches."):r.t===Fi&&Q("decorator is deprecated. To specify decorators, use the decorator name prefixed with 'as-' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches.");else if(e=es.exec(n.n))delete n.n,n.t=Fi,n.f=Xo(n.f,t,Fi),"object"==typeof n.f?n.f.n=e[1]:n.f=e[1];else if(e=ns.exec(n.n))delete n.n,n.t=Ii,n.f=Xo(n.f,t,Ii),"object"==typeof n.f?n.f.n=e[1]:n.f=e[1],n.v="in-out"===e[2]?"t0":"in"===e[2]?"t1":"t2";else if(e=Jo.exec(n.n))n.n=e[1],n.t=Oi,n.f=Xo(n.f,t,Oi),ts.test(n.f.n||n.f)&&(t.pos-=(n.f.n||n.f).length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)"));else{if(t.sanitizeEventAttributes&&Zo.test(n.n))return{exclude:!0};n.f=n.f||(""===n.f?"":0),n.t=Jr}return n}(t))?(t.allowWhitespace(),e):void 0}function ls(t,e){var n,r,i;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=function(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Ni))?t.matchPattern(ji)?(r=t.matchPattern(Ni))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),cs):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;if(Pi(t))t.pos=o;else{if(t.pos=o-e.close.length,t.inAttribute)return t.pos=n,null;t.error("Attempted to close a section that wasn't open")}}for(i=0;i<e.readers.length;i+=1)if(r=(0,e.readers[i])(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function ps(t,e){var n;if(t){for(;t.t===yi&&t.x;)t=t.x;return t.t===di?e.r=t.n:(n=function(t){var e,n=[];for(;t.t===mi&&t.r.t===gi;)(e=t.r).x?e.x.t===di?n.unshift(e.x):n.unshift(Mo(e.x)):n.unshift(e.n),t=t.x;if(t.t!==di)return null;return{r:t.n,m:n}}(t))?e.rx=n:e.x=Mo(t),e}}function fs(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=Po(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),ps(n,r={t:Kr}),r):null):null}var ds=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,gs=/^as/i;function ms(t){var e,n=[],r=t.pos;if(t.allowWhitespace(),e=vs(t)){for(e.x=ps(e.x,{}),n.push(e),t.allowWhitespace();t.matchString(",");)(e=vs(t))||t.error("Expected another alias."),e.x=ps(e.x,{}),n.push(e),t.allowWhitespace();return n}return t.pos=r,null}function vs(t){var e,n,r=t.pos;return t.allowWhitespace(),(e=Po(t))?(t.allowWhitespace(),t.matchPattern(gs)?(t.allowWhitespace(),(n=t.matchPattern(ds))||t.error("Expected a legal alias name."),{n:n,x:e}):(t.pos=r,null)):(t.pos=r,null)}function ys(t,e){var n,r,i,o;n=t.pos;try{r=function(t,e){var n,r,i;if(n=t.pos,!(r=Po(t))){var o=t.matchPattern(/^(\w+)/);return o?{t:di,n:o}:null}for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,So(t)}(t,[e.close])}catch(t){o=t}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return ps(r,i={t:Wr}),i}var bs=/^yield\s*/;function ws(t,e){var n,r,i,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),-1!==(i=(r=t.remaining()).indexOf(e.close))?(o={t:$r,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}var xs=/^\s*else\s*/;function Cs(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(xs)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Ti}):(t.pos=n,null):null}var Es=/^\s*elseif\s+/;function _s(t,e){var n=t.pos;if(!t.matchString(e.open))return null;if(!t.matchPattern(Es))return t.pos=n,null;var r=Po(t);return t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Si,x:r}}var ks={each:_i,if:Ci,with:Ai,unless:Ei},As=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Ts=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Ss=new RegExp("^("+Object.keys(ks).join("|")+")\\b");function Os(t,e){var n,r,i,o,s,a,u,c,h,l,p,f,d,g=!1;if(n=t.pos,t.matchString("^"))i={t:Hr,f:[],n:Ei};else{if(!t.matchString("#"))return null;i={t:Hr,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Ss))&&(p=u,i.n=ks[u])}if(t.allowWhitespace(),"with"===u){var m=ms(t);m&&(g=!0,i.z=m,i.t=oi)}else if("each"===u){var v=vs(t);v&&(i.z=[{n:v.n,x:{r:"."}}],r=v.x)}g||(r||(r=Po(t)),r||t.error("Expected expression"),(l=t.matchPattern(As))&&((f=t.matchPattern(Ts))?i.i=l+","+f:i.i=l));t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=i.f;do{if(d=t.pos,o=ws(t,e))p&&o.r!==p&&(t.pos=d,t.error("Expected "+e.open+"/"+p+e.close)),t.sectionDepth-=1,h=!0;else if(!g&&(o=_s(t,e))){i.n===Ei&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=[]);var y={t:Hr,n:Ci,f:s=[]};ps(o.x,y),c.push(y)}else if(!g&&(o=Cs(t,e)))i.n===Ei&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c||(c=[]),c.push({t:Hr,n:Ei,f:s=[]});else{if(!(o=t.read(aa)))break;s.push(o)}}while(!h);return c&&(i.l=c),g||ps(r,i),i.f.length||delete i.f,i}var Fs="\x3c!--",Is="--\x3e";var Rs=/^[ \t\f\r\n]*\r?\n/,Ns=/\r?\n[ \t\f\r\n]*$/;function js(t){return"string"==typeof t}function Bs(t){return(t.t===Hr||t.t===Yr)&&t.f}function Ps(t,e,n){var r;e&&"string"==typeof(r=t[0])&&((r=r.replace(e,""))?t[0]=r:t.shift()),n&&"string"==typeof(r=pt(t))&&((r=r.replace(n,""))?t[t.length-1]=r:t.pop())}var Ms=/[ \t\f\r\n]+/g,Ls=/^(?:pre|script|style|textarea)$/i,Ds=/^[ \t\f\r\n]+/,zs=/[ \t\f\r\n]+$/,Us=/^(?:\r\n|\r|\n)/,Vs=/(?:\r\n|\r|\n)$/;function qs(t,e,n,r,i){if("string"!=typeof t){var o,s,a,u,c,h,l,p;for(!function(t){var e,n,r,i,o,s;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],js(n)&&((s=r).t===Qr||s.t===Zr)&&js(i)&&Ns.test(i)&&Rs.test(n)&&(t[e-2]=i.replace(Ns,"\n"),t[e]=n.replace(Rs,"")),Bs(n)&&js(r)&&Ns.test(r)&&js(n.f[0])&&Rs.test(n.f[0])&&(t[e-1]=r.replace(Ns,"\n"),n.f[0]=n.f[0].replace(Rs,"")),js(n)&&Bs(r)&&js(o=pt(r.f))&&Ns.test(o)&&Rs.test(n)&&(r.f[r.f.length-1]=o.replace(Ns,"\n"),t[e]=n.replace(Rs,""))}(t),o=t.length;o--;)(s=t[o]).exclude?t.splice(o,1):e&&s.t===Qr&&t.splice(o,1);for(Ps(t,r?Ds:null,i?zs:null),o=t.length;o--;){if((s=t[o]).f){var f=s.t===Gr&&Ls.test(s.e);c=n||f,!n&&f&&Ps(s.f,Us,Vs),c||(a=t[o-1],u=t[o+1],(!a||"string"==typeof a&&zs.test(a))&&(h=!0),(!u||"string"==typeof u&&Ds.test(u))&&(l=!0)),qs(s.f,e,c,h,l),M(s.f.n)&&qs(s.f.n,e,n,h,i),M(s.f.d)&&qs(s.f.d,e,n,h,i)}if(s.l&&(qs(s.l,e,n,h,l),s.l.forEach(function(t){return t.l=1}),s.l.unshift(o+1,0),t.splice.apply(t,s.l),delete s.l),s.a)for(p in s.a)s.a.hasOwnProperty(p)&&"string"!=typeof s.a[p]&&qs(s.a[p],e,n,h,l);s.m&&(qs(s.m,e,n,h,l),s.m.length<1&&delete s.m)}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(Ms," ")),""===t[o]&&t.splice(o,1))}}var Ws=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;function Ks(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(Ws))?t.inside&&n!==t.inside?(t.pos=e,null):{t:ti,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}var Hs,Ys=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,$s=/^[\s\n\/>]/,Gs={exclude:!0};function Xs(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Hs[t],!n||!r||!~r.indexOf(n[1].toLowerCase())}Hs={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Qs=/^<!--\s*/,Zs=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Js=/\s*-->/;var ta=/^\s*#\s*partial\s+/;function ea(t,e){Object.keys(t).forEach(function(n){if(function(t,e){return"s"===t&&M(e.r)}(n,t))return function(t,e){var n=t.s,r=t.r;e[n]||(e[n]=jr(n,r.length))}(t,e);var r=t[n];(function(t){return M(t)||z(t)})(r)&&ea(r,e)})}var na,ra=[function(t,e){if(!t.matchString(">"))return null;t.allowWhitespace(),t.relaxedNames=t.strictRefinement=!0;var n=Po(t);if(t.relaxedNames=t.strictRefinement=!1,!n)return null;var r={t:Xr};ps(n,r),t.allowWhitespace();var i=ms(t);if(i)r={t:oi,z:i,f:[r]};else{var o=Po(t);o&&ps(o,r={t:Hr,n:ki,f:[r]})}return t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r},fs,Os,function(t,e){if(!t.matchPattern(bs))return null;var n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name");var r={t:ni};return n&&(r.n=n),r},ys,function(t,e){var n;return t.matchString("!")?-1!==(n=t.remaining().indexOf(e.close))?(t.pos+=n+e.close.length,{t:Qr}):void 0:null}],ia=[function(t,e){var n,r=Po(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),ps(r,n={t:Kr}),n):null}],oa=[fs,Os,ys];function sa(t,e){return new na(t,e||{}).result}sa.computedStrings=function(t){if(!t)return[];Object.keys(t).forEach(function(e){var n=t[e];"string"==typeof n&&(t[e]=Br(n))})};var aa=[hs,function(t){var e,n,r,i,o;return e=t.pos,t.textOnlyMode||!t.matchString(Fs)?null:(-1===(i=(r=t.remaining()).indexOf(Is))&&t.error("Illegal HTML - expected closing comment sequence ('--\x3e')"),n=r.substr(0,i),t.pos+=i+3,o={t:Qr,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o)},function(t){var e,n,r,i,o,s,a,u,c,h,l,p;if(e=t.pos,t.inside||t.inAttribute||t.textOnlyMode)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=ii,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Gr,n.e=t.matchPattern(Ys),!n.e)return null;for($s.test(t.nextChar())||t.error("Illegal tag name"),t.allowWhitespace(),t.inTag=!0;r=hs(t);)!1!==r&&(n.m||(n.m=[]),n.m.push(r)),t.allowWhitespace();if(t.inTag=!1,t.allowWhitespace(),t.matchString("/")&&(i=!0),!t.matchString(">"))return null;var f=n.e.toLowerCase(),d=t.preserveWhitespace;if(!i&&!Vi.test(n.e)){t.elementStack.push(f),"script"!==f&&"style"!==f&&"textarea"!==f||(t.inside=f),o=[],s=S(null);do{if(h=t.pos,(l=t.remaining())||t.error("Missing end "+(t.elementStack.length>1?"tags":"tag")+" ("+t.elementStack.reverse().map(function(t){return"</"+t+">"}).join("")+")"),Xs(f,l))if(p=Ks(t)){c=!0;var g=p.e.toLowerCase();if(g!==f&&(t.pos=h,!~t.elementStack.indexOf(g))){var m="Unexpected closing tag";Vi.test(g)&&(m+=" (<"+g+"> is a void element - it cannot contain children)"),t.error(m)}}else(u=ws(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(c=!0,t.pos=h):(u=t.read(ua))?(s[u.n]&&(t.pos=h,t.error("Duplicate partial definition")),qs(u.f,t.stripComments,d,!d,!d),s[u.n]=u.f,a=!0):(u=t.read(aa))?o.push(u):c=!0;else c=!0}while(!c);o.length&&(n.f=o),a&&(n.p=s),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(f)?Gs:n},function(t){var e,n,r,i;return n=t.remaining(),t.textOnlyMode?e=zi(n,r=(r=t.tags.map(function(t){return t.open})).concat(t.tags.map(function(t){return"\\"+t.open}))):(i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=(r=t.tags.map(function(t){return t.open})).concat(t.tags.map(function(t){return"\\"+t.open})),!0===t.inAttribute?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),e=zi(n,r))),e?(-1===e&&(e=n.length),t.pos+=e,t.inside&&"textarea"!==t.inside||t.textOnlyMode?n.substr(0,e):$i(n.substr(0,e))):null}],ua=[function(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1];if(!t.matchPattern(Qs)||!t.matchString(n))return t.pos=e,null;var i=t.matchPattern(Zs);if(Q("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+i+"}} ... {{/partial}}\n\n...instead of this:\n  \x3c!-- {{>"+i+"}} --\x3e ... \x3c!-- {{/"+i+"}} --\x3e'"),!t.matchString(r)||!t.matchPattern(Js))return t.pos=e,null;var o,s=[],a=new RegExp("^\x3c!--\\s*"+Li(n)+"\\s*\\/\\s*"+i+"\\s*"+Li(r)+"\\s*--\x3e");do{if(t.matchPattern(a))o=!0;else{var u=t.read(aa);u||t.error("expected closing comment ('\x3c!-- "+n+"/"+i+r+" --\x3e')"),s.push(u)}}while(!o);return{t:ri,f:s,n:i}},function(t){var e,n,r,i,o;e=t.pos;var s=t.standardDelimiters;if(!t.matchString(s[0]))return null;if(!t.matchPattern(ta))return t.pos=e,null;(n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/))||t.error("expected legal partial name"),t.allowWhitespace(),t.matchString(s[1])||t.error("Expected closing delimiter '"+s[1]+"'"),r=[];do{(i=ws(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+s[0]+"/partial"+s[1]),o=!0):((i=t.read(aa))||t.error("Expected "+s[0]+"/partial"+s[1]),r.push(i))}while(!o);return{t:ri,n:n,f:r}}];na=Vr.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:ra},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:ia},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:oa},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:ia}],this.contextLines=e.contextLines||0,this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||!1!==e.interpolate.script,style:!e.interpolate||!1!==e.interpolate.style,textarea:!0},!0===e.sanitize&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=!1!==e.stripComments,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions,this.textOnlyMode=e.textOnlyMode,this.csp=e.csp},postProcess:function(t){if(!t.length)return{t:[],v:Rr};if(this.sectionDepth>0&&this.error("A section was left open"),qs(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),!1!==this.csp){var e={};ea(t[0].t,e),Object.keys(e).length&&(t[0].e=e)}return t[0]},converters:[function(t){for(var e=[],n=S(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o,s,a=t.pos;(s=t.read(ua))?(n[s.n]&&(t.pos=a,t.error("Duplicated partial definition")),qs(s.f,t.stripComments,i,!i,!i),n[s.n]=s.f,r=!0):(o=t.read(aa))?e.push(o):t.error("Unexpected template content")}var u={v:Rr,t:e};return r&&(u.p=n),u}],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var ca=["delimiters","tripleDelimiters","staticDelimiters","staticTripleDelimiters","csp","interpolate","preserveWhitespace","sanitize","stripComments","contextLines"],ha="Either preparse or use a ractive runtime source that includes the parser. ",la="Either use:\n\n\tRactive.parse.computedStrings( component.computed )\n\nat build time to pre-convert the strings to functions, or use functions instead of strings in computed properties.";function pa(t,e,n){t||$("Missing Ractive.parse - cannot parse "+e+". "+n)}function fa(t,e){return pa(Br,'compution string "${str}"',la),Br(t,e)}var da={fromId:function(t,e){if(!s){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}var n;if(t&&(t=t.replace(/^#/,"")),!(n=s.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML},isParsed:function(t){return!("string"==typeof t)},getParseOptions:function(t){return t.defaults&&(t=t.defaults),ca.reduce(function(e,n){return e[n]=t[n],e},{})},parse:function(t,e){pa(sa,"template",ha);var n=sa(t,e);return zr(n),n},parseFor:function(t,e){return this.parse(t,this.getParseOptions(e))}},ga={name:"template",extend:function(t,e,n){if("template"in n){var r=n.template;e.template="function"==typeof r?r:va(r,e)}},init:function(t,e,n){var r="template"in n?n.template:t.prototype.template;if("function"==typeof(r=r||{v:Rr,t:[]})){var i=r;r=ma(e,i),e._config.template={fn:i,result:r}}r=va(r,e),e.template=r.t,r.p&&ya(e.partials,r.p)},reset:function(t){var e=function(t){var e=t._config.template;if(!e||!e.fn)return;var n=ma(t,e.fn);if(n!==e.result)return e.result=n,n}(t);if(e){var n=va(e,t);return t.template=n.t,ya(t.partials,n.p,!0),!0}}};function ma(t,e){return e.call(t,{fromId:da.fromId,isParsed:da.isParsed,parse:function(e,n){return void 0===n&&(n=da.getParseOptions(t)),da.parse(e,n)}})}function va(t,e){return"string"==typeof t?t=function(t,e){"#"===t[0]&&(t=da.fromId(t));return da.parseFor(t,e)}(t,e):(!function(t){if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==Rr)throw new Error("Mismatched template version (expected "+Rr+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}(t),zr(t)),t}function ya(t,e,n){if(e)for(var r in e)!n&&t.hasOwnProperty(r)||(t[r]=e[r])}var ba=function(t,e){this.name=t,this.useDefaults=e};ba.prototype.extend=function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},ba.prototype.init=function(){},ba.prototype.configure=function(t,e,n){var r=this.name,i=n[r],o=S(t[r]);for(var s in i)o[s]=i[s];e[r]=o},ba.prototype.reset=function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n};var wa=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"].map(function(t){return new ba(t,"computed"===t)});function xa(t,e,n){if(!/_super/.test(n))return n;function r(){var t=function(t,e){if(e in t){var n=t[e];return"function"==typeof n?n:function(){return n}}return U}(r._parent,e),i="_super"in this,o=this._super;this._super=t;var s=n.apply(this,arguments);return i?this._super=o:delete this._super,s}return r._parent=t,r._method=n,r}function Ca(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function Ea(t,e,n){if(e in t){if(n in t)throw new Error(Ca(e,n,!0));X(Ca(e,n)),t[n]=t[e]}}var _a={adapt:dr,css:Tr,data:Sr,template:ga},ka=Object.keys(r),Aa=Ia(ka.filter(function(t){return!_a[t]})),Ta=Ia(ka.concat(wa.map(function(t){return t.name}))),Sa=[].concat(ka.filter(function(t){return!wa[t]&&!_a[t]}),wa,_a.template,_a.css),Oa={extend:function(t,e,n){return Fa("extend",t,e,n)},init:function(t,e,n){return Fa("init",t,e,n)},reset:function(t){return Sa.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:Sa};function Fa(t,e,n,r){for(var i in function(t){Ea(t,"beforeInit","onconstruct"),Ea(t,"init","onrender"),Ea(t,"complete","oncomplete"),Ea(t,"eventDefinitions","events"),M(t.adaptors)&&Ea(t,"adaptors","adapt")}(r),r)if(Aa.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?X(i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=o}if(r.append&&r.enhance)throw new Error("Cannot use append and enhance at the same time");wa.forEach(function(i){i[t](e,n,r)}),dr[t](e,n,r),ga[t](e,n,r),Tr[t](e,n,r),function(t,e,n){for(var r in n)if(!Ta[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=xa(t,r,i)),e[r]=i}}(e.prototype,n,r)}function Ia(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}var Ra=["template","partials","components","decorators","events"],Na=new ut("complete"),ja=new ut("reset"),Ba=new ut("render"),Pa=new ut("unrender");function Ma(t){t.forceResetTemplate()}var La=function(t){this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.template=t.template,this.index=t.index,this.type=t.template.t,this.dirty=!1};La.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},La.prototype.destroyed=function(){this.fragment&&this.fragment.destroyed()},La.prototype.find=function(){return null},La.prototype.findAll=function(){},La.prototype.findComponent=function(){return null},La.prototype.findAllComponents=function(){},La.prototype.findNextNode=function(){return this.parentFragment.findNextNode(this)},La.prototype.shuffled=function(){this.fragment&&this.fragment.shuffled()},La.prototype.valueOf=function(){return this.toString()};var Da=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){t&&le(this);var e=this.parent.get();return e?e[this.key]:void 0},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e}(Ye);var za=function(t){function e(e,n){var r=this;t.call(this,e.ractive.viewmodel,null),this.fragment=e,this.template=n,this.isReadonly=!0,this.dirty=!0,this.fn=Dr(n.s,n.r.length),this.resolvers=[],this.models=this.template.r.map(function(t,e){var n=Xe(r.fragment,t);return n||function(t,e,n){var r=t.fragment.resolve(e,function(e){ft(t.resolvers,r),t.models[n]=e,t.bubble()});t.resolvers.push(r)}(r,t,e),n}),this.dependencies=[],this.shuffle=void 0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(t){void 0===t&&(t=!0),this.registered&&delete this.root.expressions[this.keypath],this.keypath=void 0,t&&(this.dirty=!0,this.handleChange())},e.prototype.get=function(t){return t&&le(this),this.dirty&&(this.dirty=!1,this.value=this.getValue(),this.wrapper&&(this.newWrapperValue=this.value),this.adapt()),t&&this.wrapper?this.wrapperValue:this.value},e.prototype.getKeypath=function(){var t=this;return this.template?(this.keypath||(this.keypath="@"+this.template.s.replace(/_(\d+)/g,function(e,n){if(n>=t.models.length)return e;var r=t.models[n];return r?r.getKeypath():"@undefined"}),this.root.expressions[this.keypath]=this,this.registered=!0),this.keypath):"@undefined"},e.prototype.getValue=function(){var t,e=this;ce();try{var n=this.models.map(function(t){return t?t.get(!0):void 0});t=this.fn.apply(this.fragment.ractive,n)}catch(t){X("Failed to compute "+this.getKeypath()+": "+(t.message||t))}var r=he();return this.dependencies.filter(function(t){return!~r.indexOf(t)}).forEach(function(t){t.unregister(e),ft(e.dependencies,t)}),r.filter(function(t){return!~e.dependencies.indexOf(t)}).forEach(function(t){t.register(e),e.dependencies.push(t)}),t},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Da(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.handleChange()},e.prototype.rebinding=function(t,e,n){var r=this.models.indexOf(e);~r&&(t=Pe(this.template.r[r],t,e))!==e&&(e.unregister(this),this.models.splice(r,1,t),t&&t.addShuffleRegister(this,"mark")),this.bubble(!n)},e.prototype.retrieve=function(){return this.get()},e.prototype.teardown=function(){var e=this;this.unbind(),this.fragment=void 0,this.dependencies&&this.dependencies.forEach(function(t){return t.unregister(e)}),t.prototype.teardown.call(this)},e.prototype.unreference=function(){t.prototype.unreference.call(this),this.deps.length||this.refs||this.teardown()},e.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.deps.length||this.refs||this.teardown()},e.prototype.unbind=function(){this.resolvers.forEach(Ce)},e}(Ye),Ua=function(t){function e(e,n){t.call(this,e,n)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyValue=function(t){if(!L(t,this.value))for(var e=this.parent,n=[this.key];e;){if(e.base){e.model.joinAll(n).applyValue(t);break}n.unshift(e.key),e=e.parent}},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e.prototype.retrieve=function(){var t=this.parent.get();return t&&t[this.key]},e}(Ye),Va=function(t){function e(e,n){var r,i=this;t.call(this,null,null),this.dirty=!0,this.root=e.ractive.viewmodel,this.template=n,this.resolvers=[],this.base=qa(e,n),this.base||(r=e.resolve(n.r,function(t){i.base=t,i.bubble(),ft(i.resolvers,r)}),this.resolvers.push(r));var o=this.intermediary={handleChange:function(){return i.handleChange()},rebinding:function(t,e){if(e===i.base)(t=Pe(n,t,e))!==i.base&&(i.base.unregister(o),i.base=t);else{var r=i.members.indexOf(e);~r&&(t=Pe(n.m[r].n,t,e))!==i.members[r]&&i.members.splice(r,1,t)}t!==e&&e.unregister(o),t&&t.addShuffleTask(function(){return t.register(o)}),i.bubble()}};this.members=n.m.map(function(t,n){return"string"==typeof t?{get:function(){return t}}:t.t===di?((r=Xe(e,t.n))?r.register(o):(s=e.resolve(t.n,function(t){i.members[n]=t,t.register(o),i.handleChange(),ft(i.resolvers,s)}),i.resolvers.push(s)),r):((r=new za(e,t)).register(o),r);var r,s}),this.isUnresolved=!0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){this.base&&(this.dirty||this.handleChange())},e.prototype.forceResolution=function(){this.resolvers.forEach(function(t){return t.forceResolution()}),this.dirty=!0,this.bubble()},e.prototype.get=function(t){if(this.dirty){this.bubble();for(var e=this.members.length,n=!0;n&&e--;)this.members[e]||(n=!1);if(this.base&&n){var r=this.members.map(function(t){return Rt(String(t.get()))}),i=this.base.joinAll(r);i!==this.model&&(this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this)),this.model=i,this.parent=i.parent,this.model.register(this),this.model.registerTwowayBinding(this),this.keypathModel&&this.keypathModel.handleChange())}return this.value=this.model?this.model.get(t):void 0,this.dirty=!1,this.mark(),this.value}return this.model?this.model.get(t):void 0},e.prototype.getValue=function(){this.value=this.model?this.model.get():void 0;for(var t=this.bindings.length;t--;){var e=this.bindings[t].getValue();if(e!==this.value)return e}var n=je(this.deps);return n?n.value:this.value},e.prototype.getKeypath=function(){return this.model?this.model.getKeypath():"@undefined"},e.prototype.handleChange=function(){this.dirty=!0,this.mark()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Ua(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.dirty&&this.deps.forEach(ge),this.links.forEach(ve),this.children.forEach(me),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.value},e.prototype.rebinding=function(){},e.prototype.set=function(t){if(!this.model)throw new Error("Unresolved reference expression. This should not happen!");this.model.set(t)},e.prototype.teardown=function(){var t=this;this.resolvers.forEach(Ce),this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this)),this.members&&this.members.forEach(function(e){return e&&e.unregister&&e.unregister(t)})},e.prototype.unreference=function(){t.prototype.unreference.call(this),this.deps.length||this.refs||this.teardown()},e.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.deps.length||this.refs||this.teardown()},e}(Ye);function qa(t,e){return e.r?Xe(t,e.r):e.x?new za(t,e.x):e.rx?new Va(t,e.rx):void 0}function Wa(t){if(t.template.z){t.aliases={};for(var e=t.template.z,n=0;n<e.length;n++)t.aliases[e[n].n]=qa(t.parentFragment,e[n].x)}for(var r in t.aliases)t.aliases[r].reference()}var Ka=function(t){function e(e){t.call(this,e),this.fragment=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){Wa(this),this.fragment=new qh({owner:this,template:this.template.f}).bind()},e.prototype.detach=function(){return this.fragment?this.fragment.detach():E()},e.prototype.find=function(t){if(this.fragment)return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},e.prototype.rebinding=function(){var t=this;this.locked||(this.locked=!0,At.scheduleTask(function(){t.locked=!1,Wa(t)}))},e.prototype.render=function(t){this.rendered=!0,this.fragment&&this.fragment.render(t)},e.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},e.prototype.unbind=function(){for(var t in this.aliases={},this.fragment.aliases)this.aliases[t].unreference();this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment.update())},e}(La);function Ha(t,e,n){for(void 0===e&&(e=!0);t&&(t.type!==Gr||n&&t.name!==n)&&(!e||t.type!==ei);)t=t.owner?t.owner:t.component?t.containerFragment||t.component.parentFragment:t.parent?t.parent:t.parentFragment?t.parentFragment:void 0;return t}var Ya=/\s+/,$a=/\/\*(?:[\s\S]*?)\*\//g,Ga=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\1).)*\2/gi,Xa=/\0(\d+)/g;function Qa(t){for(var e=t.split(Ya),n=e.length;n--;)e[n]||e.splice(n,1);return e}var Za=[void 0,"text","search","url","email","hidden","password","search","reset","submit"];function Ja(t){var e=this.node,n=this.getValue();if(this.ractive.nodes[e.id]===e&&delete this.ractive.nodes[e.id],t)return e.removeAttribute("id");this.ractive.nodes[n]=e,e.id=n}function tu(t){var e=this.getValue();M(e)||(e=[e]);var n=this.node.options,r=n.length;if(t)for(;r--;)n[r].selected=!1;else for(;r--;){var i=n[r],o=i._ractive?i._ractive.value:i.value;i.selected=ht(e,o)}}function eu(t){var e=this.getValue();if(!this.locked){this.node._ractive.value=e;var n=this.node.options,r=n.length,i=!1;if(t)for(;r--;)n[r].selected=!1;else for(;r--;){var o=n[r],s=o._ractive?o._ractive.value:o.value;if(o.disabled&&o.selected&&(i=!0),s==e)return void(o.selected=!0)}i||(this.node.selectedIndex=-1)}}function nu(t){var e=this.getValue();this.locked||(this.node.innerHTML=t?"":void 0===e?"":e)}function ru(t){var e=this.node,n=e.checked,r=this.getValue();if(t)return e.checked=!1;e.value=this.node._ractive.value=r,e.checked=r===this.element.getAttribute("name"),n&&!e.checked&&this.element.binding&&this.element.binding.rendered&&this.element.binding.group.model.set(this.element.binding.group.getValue())}function iu(t){if(!this.locked){if(t)return this.node.removeAttribute("value"),void(this.node.value=this.node._ractive.value=null);var e=this.getValue();this.node.value=this.node._ractive.value=e,this.node.setAttribute("value",A(e))}}function ou(t){if(!this.locked){if(t)return this.node._ractive.value="",void this.node.removeAttribute("value");var e=this.getValue();this.node._ractive.value=e,this.node.value=A(e),this.node.setAttribute("value",A(e))}}function su(t){this.node.checked=!t&&this.getValue()==this.node._ractive.value}function au(t){var e=this.element,n=this.node,r=e.binding,i=this.getValue(),o=e.getAttribute("value");if(M(i)){for(var s=i.length;s--;)if(o==i[s])return void(r.isChecked=n.checked=!0);r.isChecked=n.checked=!1}else r.isChecked=n.checked=i==o}function uu(t){for(var e,n,r=t?{}:(e=this.getValue()||"",n=[],"string"!=typeof e?{}:e.replace(Ga,function(t){return"\0"+(n.push(t)-1)}).replace($a,"").split(";").filter(function(t){return!!t.trim()}).map(function(t){return t.replace(Xa,function(t,e){return n[e]})}).reduce(function(t,e){var n=e.indexOf(":");return t[e.substr(0,n).trim()]=e.substr(n+1).trim(),t},{})),i=this.node.style,o=Object.keys(r),s=this.previous||[],a=0;a<o.length;){if(o[a]in i){var u=r[o[a]].replace("!important","");i.setProperty(o[a],u,u.length!==r[o[a]].length?"important":"")}a++}for(a=s.length;a--;)!~o.indexOf(s[a])&&s[a]in i&&i.setProperty(s[a],"","");this.previous=o}function cu(t){this.style||(this.style=N(this.name.substr(6)));var e=t?"":A(this.getValue()),n=e.replace("!important","");this.node.style.setProperty(this.style,n,n.length!==e.length?"important":"")}function hu(t){var e=t?[]:Qa(A(this.getValue())),n=this.node.className,r=Qa(n=void 0!==n.baseVal?n.baseVal:n),i=this.previous||r.slice(0),o=e.concat(r.filter(function(t){return!~i.indexOf(t)})).join(" ");o!==n&&("string"!=typeof this.node.className?this.node.className.baseVal=o:this.node.className=o),this.previous=e}function lu(t){var e=this.name.substr(6),n=this.node.className,r=Qa(n=void 0!==n.baseVal?n.baseVal:n),i=!t&&this.getValue();this.inlineClass||(this.inlineClass=e),i&&!~r.indexOf(e)?r.push(e):!i&&~r.indexOf(e)&&r.splice(r.indexOf(e),1),"string"!=typeof this.node.className?this.node.className.baseVal=r.join(" "):this.node.className=r.join(" ")}function pu(t){if(!this.locked){if(t)return this.useProperty&&(this.node[this.propertyName]=!1),void this.node.removeAttribute(this.propertyName);this.useProperty?this.node[this.propertyName]=this.getValue():this.getValue()?this.node.setAttribute(this.propertyName,""):this.node.removeAttribute(this.propertyName)}}function fu(t){t?this.node.removeAttribute(this.name):this.node.setAttribute(this.name,A(this.getString()))}function du(t){t?this.node.removeAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1)):this.node.setAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1),A(this.getString()))}var gu={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};var mu=!1;var vu=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.namespace=null,this.owner=e.owner||e.parentFragment.owner||e.element||Ha(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:Ha(e.parentFragment)),this.parentFragment=e.parentFragment,this.ractive=this.parentFragment.ractive,this.rendered=!1,this.updateDelegate=null,this.fragment=null,this.element.attributeByName[this.name]=this,M(e.template.f)?this.fragment=new qh({owner:this,template:e.template.f}):(this.value=e.template.f,0===this.value&&(this.value="")),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Wr&&this.fragment.items[0],this.interpolator&&(this.interpolator.owner=this)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.parentFragment.bubble(),this.element.bubble(),this.dirty=!0)},e.prototype.destroyed=function(){this.updateDelegate(!0)},e.prototype.getString=function(){mu=!0;var t=this.fragment?this.fragment.toString():null!=this.value?""+this.value:"";return mu=!1,t},e.prototype.getValue=function(){mu=!0;var t=this.fragment?this.fragment.valueOf():!!Ui.test(this.name)||this.value;return mu=!1,t},e.prototype.render=function(){var t=this.element.node;if(this.node=t,t.namespaceURI&&t.namespaceURI!==C.html||(this.propertyName=gu[this.name]||this.name,void 0!==t[this.propertyName]&&(this.useProperty=!0),(Ui.test(this.name)||this.isTwoway)&&(this.isBoolean=!0),"value"===this.propertyName&&(t._ractive.value=this.value)),t.namespaceURI){var e=this.name.indexOf(":");this.namespace=-1!==e?function(t,e){for(var n="xmlns:"+e;t;){if(t.hasAttribute&&t.hasAttribute(n))return t.getAttribute(n);t=t.parentNode}return C[e]}(t,this.name.slice(0,e)):t.namespaceURI}this.rendered=!0,this.updateDelegate=function(t){var e=t.element,n=t.name;if("id"===n)return Ja;if("value"===n){if(t.interpolator&&(t.interpolator.bound=!0),"select"===e.name&&"value"===n)return e.getAttribute("multiple")?tu:eu;if("textarea"===e.name)return ou;if(null!=e.getAttribute("contenteditable"))return nu;if("input"===e.name){var r=e.getAttribute("type");if("file"===r)return U;if("radio"===r&&e.binding&&"name"===e.binding.attribute.name)return ru;if(~Za.indexOf(r))return ou}return iu}var i=e.node;if(t.isTwoway&&"name"===n){if("radio"===i.type)return su;if("checkbox"===i.type)return au}if("style"===n)return uu;if(0===n.indexOf("style-"))return cu;if("class"===n&&(!i.namespaceURI||i.namespaceURI===w))return hu;if(0===n.indexOf("class-"))return lu;if(t.isBoolean){var o=e.getAttribute("type");return!t.interpolator||"checked"!==n||"checkbox"!==o&&"radio"!==o||(t.interpolator.bound=!0),pu}return t.namespace&&t.namespace!==t.node.namespaceURI?du:fu}(this),this.updateDelegate()},e.prototype.toString=function(){mu=!0;var t=this.getValue();if("value"!==this.name||void 0===this.element.getAttribute("contenteditable")&&"select"!==this.element.name&&"textarea"!==this.element.name){if("name"===this.name&&"input"===this.element.name&&this.interpolator&&"radio"===this.element.getAttribute("type"))return'name="{{'+this.interpolator.model.getKeypath()+'}}"';if(this.owner!==this.element||"style"!==this.name&&"class"!==this.name&&!this.style&&!this.inlineClass){if(this.rendered||this.owner!==this.element||this.name.indexOf("style-")&&this.name.indexOf("class-")){if(Ui.test(this.name))return t?this.name:"";if(null==t)return"";var e=T(this.getString());return mu=!1,e?this.name+'="'+e+'"':this.name}this.name.indexOf("style-")?this.inlineClass=this.name.substr(6):this.style=N(this.name.substr(6))}}},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(){this.updateDelegate(!0),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),this.rendered&&this.updateDelegate(),this.isTwoway&&!this.locked&&this.interpolator.twowayBinding.lastVal(!0,this.interpolator.model.get()))},e}(La),yu=function(t){function e(e){t.call(this,e),this.owner=e.owner||e.parentFragment.owner||Ha(e.parentFragment),this.element=this.owner.attributeByName?this.owner:Ha(e.parentFragment),this.flag="l"===e.template.v?"lazy":"twoway",this.element.type===Gr&&(M(e.template.f)&&(this.fragment=new qh({owner:this,template:e.template.f})),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Wr&&this.fragment.items[0])}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind(),bu(this,this.getValue(),!0)},e.prototype.bubble=function(){this.dirty||(this.element.bubble(),this.dirty=!0)},e.prototype.getValue=function(){return this.fragment?this.fragment.valueOf():"value"in this?this.value:!("f"in this.template)||this.template.f},e.prototype.render=function(){bu(this,this.getValue(),!0)},e.prototype.toString=function(){return""},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind(),delete this.element[this.flag]},e.prototype.unrender=function(){this.element.rendered&&this.element.recreateTwowayBinding()},e.prototype.update=function(){this.dirty&&(this.fragment&&this.fragment.update(),bu(this,this.getValue(),!0))},e}(La);function bu(t,e,n){t.value=0===e||("true"===e||"false"!==e&&"0"!==e&&e);var r=t.element[t.flag];return t.element[t.flag]=t.value,n&&!t.element.attributes.binding&&r!==t.value&&t.element.recreateTwowayBinding(),t.value}var wu=s?c("div"):null,xu=!1;function Cu(){return xu}var Eu=function(t){function e(e){t.call(this,e),this.attributes=[],this.owner=e.owner,this.fragment=new qh({ractive:this.ractive,owner:this,template:this.template}),this.fragment.findNextNode=U,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},e.prototype.render=function(){this.node=this.owner.node,this.node&&(this.isSvg=this.node.namespaceURI===x),xu=!0,this.rendered||this.fragment.render(),xu=!1,this.rendered=!0,this.dirty=!0,this.update()},e.prototype.toString=function(){return this.fragment.toString()},e.prototype.unbind=function(){this.fragment.unbind()},e.prototype.unrender=function(){this.rendered=!1,this.fragment.unrender()},e.prototype.update=function(){var t,e,n=this;this.dirty&&(this.dirty=!1,xu=!0,this.fragment.update(),xu=!1,this.rendered&&this.node&&(t=this.fragment.toString(),e=function(t,e){var n=e?"svg":"div";return t?(wu.innerHTML="<"+n+" "+t+"></"+n+">")&&dt(wu.childNodes[0].attributes):[]}(t,this.isSvg),this.attributes.filter(function(t){return function(t,e){var n=t.length;for(;n--;)if(t[n].name===e.name)return!1;return!0}(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e))},e}(La);function _u(t,e,n,r){var i=t.__model;r&&i.shuffle(r)}var ku,Au,Tu=["pop","push","reverse","shift","sort","splice","unshift"],Su=[];Tu.forEach(function(t){O(Su,t,{value:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=Ze(this.length,t,e);this._ractive.wrappers.forEach(function(t){t.magic&&(t.magic.locked=!0)});var i=Array.prototype[t].apply(this,arguments);At.start(),this._ractive.setting=!0;for(var o=this._ractive.wrappers.length;o--;)_u(this._ractive.wrappers[o],0,0,r);return At.end(),this._ractive.setting=!1,this._ractive.wrappers.forEach(function(t){t.magic&&(t.magic.locked=!1)}),i},configurable:!0})}),!{}.__proto__?(ku=function(t){for(var e=Tu.length;e--;){var n=Tu[e];O(t,n,{value:Su[n],configurable:!0})}},Au=function(t){for(var e=Tu.length;e--;)delete t[Tu[e]]}):(ku=function(t){return t.__proto__=Su},Au=function(t){return t.__proto__=Array.prototype}),ku.unpatch=Au;var Ou,Fu=ku,Iu="Something went wrong in a rather interesting way",Ru={filter:function(t){return M(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Nu(t,e,n)}},Nu=function(t,e){this.root=t,this.value=e,this.__model=null,e._ractive||(O(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Fu(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)};Nu.prototype.get=function(){return this.value},Nu.prototype.reset=function(t){return this.value===t},Nu.prototype.teardown=function(){var t,e,n,r,i;if(n=(e=(t=this.value)._ractive).wrappers,r=e.instances,e.setting)return!1;if(-1===(i=n.indexOf(this)))throw new Error(Iu);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(-1===(i=r.indexOf(this.root)))throw new Error(Iu);r.splice(i,1)}}else delete t._ractive,Fu.unpatch(this.value)};try{Object.defineProperty({},"test",{get:function(){},set:function(){}}),Ou={filter:function(t){return t&&"object"==typeof t},wrap:function(t,e,n){return new Bu(t,e,n)}}}catch(t){Ou=!1}var ju=Ou;var Bu=function(t,e,n){var r=this;this.ractive=t,this.value=e,this.keypath=n,this.originalDescriptors={},Object.keys(e).forEach(function(e){var i=Object.getOwnPropertyDescriptor(r.value,e);r.originalDescriptors[e]=i;var o=n?n+"."+Rt(e):Rt(e),s=function(t,e,n,r){if(t.set&&t.set.__magic)return t.set.__magic.dependants.push({ractive:e,keypath:n}),t;var i,o=[{ractive:e,keypath:n}],s={get:function(){return"value"in t?t.value:t.get.call(this)},set:function(e){i||("value"in t?t.value=e:t.set.call(this,e),r.locked||(i=!0,o.forEach(function(t){var n=t.ractive,r=t.keypath;n.set(r,e)}),i=!1))},enumerable:!0};return s.set.__magic={dependants:o,originalDescriptor:t},s}(i,t,o,r);Object.defineProperty(r.value,e,s)})};Bu.prototype.get=function(){return this.value},Bu.prototype.reset=function(t){return this.value===t},Bu.prototype.set=function(t,e){this.value[t]=e},Bu.prototype.teardown=function(){var t=this;Object.keys(this.value).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t.value,e);n.set&&n.set.__magic&&(!function(t,e,n){if(!t.set||!t.set.__magic)return!0;for(var r=t.set.__magic,i=r.length;i--;){var o=r[i];if(o.ractive===e&&o.keypath===n)return r.splice(i,1),!1}}(n),1===n.set.__magic.dependants.length&&Object.defineProperty(t.value,e,n.set.__magic.originalDescriptor))})};var Pu=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ju.wrap(t,e,n),this.arrayWrapper=Ru.wrap(t,e,n),this.arrayWrapper.magic=this.magicWrapper,Object.defineProperty(this,"__model",{get:function(){return this.arrayWrapper.__model},set:function(t){this.arrayWrapper.__model=t}})};Pu.prototype.get=function(){return this.value},Pu.prototype.teardown=function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},Pu.prototype.reset=function(t){return this.arrayWrapper.reset(t)&&this.magicWrapper.reset(t)};var Mu={filter:function(t,e,n){return ju.filter(t,e,n)&&Ru.filter(t)},wrap:function(t,e,n){return new Pu(t,e,n)}};function Lu(t){if(!t)return"";for(var e=t.split("\n"),n=Du.name+".getValue",r=[],i=e.length,o=1;o<i;o+=1){var s=e[o];if(~s.indexOf(n))return r.join("\n");r.push(s)}}var Du=function(t){function n(e,n,r){t.call(this,null,null),this.root=this.parent=e,this.signature=n,this.key=r,this.isExpression=r&&"@"===r[0],this.isReadonly=!this.signature.setter,this.context=e.computationContext,this.dependencies=[],this.children=[],this.childByKey={},this.deps=[],this.dirty=!0,this.shuffle=void 0}return n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(t){return t&&le(this),this.dirty&&(this.dirty=!1,this.value=this.getValue(),this.wrapper&&(this.newWrapperValue=this.value),this.adapt()),t&&this.wrapper?this.wrapperValue:this.value},n.prototype.getValue=function(){var t,n,r,i;ce();try{t=this.signature.getter.call(this.context)}catch(t){if(X("Failed to compute "+this.getKeypath()+": "+(t.message||t)),u){e.groupCollapsed&&e.groupCollapsed("%cshow details","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;");var o=(n=this.signature.getterString,r=n.replace(/^\t+/gm,function(t){return t.split("\t").join("  ")}).split("\n"),i=r.length<2?0:r.slice(1).reduce(function(t,e){return Math.min(t,/^\s*/.exec(e)[0].length)},1/0),r.map(function(t,e){return"    "+(e?t.substring(i):t)}).join("\n")),s=this.signature.getterUseStack?"\n\n"+Lu(t.stack):"";e.error(t.name+": "+t.message+"\n\n"+o+s),e.groupCollapsed&&e.groupEnd()}}var a=he();return this.setDependencies(a),"value"in this&&t!==this.value&&this.registerChange(this.getKeypath(),t),t},n.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},n.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Da(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},n.prototype.mark=function(){this.handleChange()},n.prototype.rebinding=function(t,e){t!==e&&this.handleChange()},n.prototype.set=function(t){if(!this.signature.setter)throw new Error("Cannot set read-only computed value '"+this.key+"'");this.signature.setter(t),this.mark()},n.prototype.setDependencies=function(t){for(var e=this.dependencies.length;e--;){var n=this.dependencies[e];~t.indexOf(n)||n.unregister(this)}for(e=t.length;e--;){var r=t[e];~this.dependencies.indexOf(r)||r.register(this)}this.dependencies=t},n.prototype.teardown=function(){for(var e=this.dependencies.length;e--;)this.dependencies[e]&&this.dependencies[e].unregister(this);this.root.computations[this.key]===this&&delete this.root.computations[this.key],t.prototype.teardown.call(this)},n.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.isExpression&&0===this.deps.length&&this.teardown()},n}(Ye),zu=function(t){function e(e){t.call(this,null,""),this.value=e,this.isRoot=!0,this.root=this,this.adaptors=[],this.ractive=e,this.changes={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@this"},e}(Ye),Uu=Object.prototype.hasOwnProperty,Vu=function(t){function e(e){t.call(this,null,null),this.changes={},this.isRoot=!0,this.root=this,this.ractive=e.ractive,this.value=e.data,this.adaptors=e.adapt,this.adapt(),this.computationContext=e.ractive,this.computations={},this.expressions={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyChanges=function(){return this._changeHash={},this.flush(),this._changeHash},e.prototype.compute=function(t,e){var n=new Du(this,e,t);return this.computations[Rt(t)]=n,n},e.prototype.createLink=function(t,e,n){for(var r=jt(t),i=this;r.length;){var o=r.shift();i=this.childByKey[o]||this.joinKey(o)}return i.link(e,n)},e.prototype.get=function(t,e){if(t&&le(this),e&&!1===e.virtual)return this.value;for(var n=this.getVirtual(),r=Object.keys(this.computations),i=r.length;i--;){var o=this.computations[r[i]];o.isExpression||(n[r[i]]=o.get())}return n},e.prototype.getKeypath=function(){return""},e.prototype.getRactiveModel=function(){return this.ractiveModel||(this.ractiveModel=new zu(this.ractive))},e.prototype.getValueChildren=function(){var e=t.prototype.getValueChildren.call(this,this.value);for(var n in this.children.forEach(function(t){if(t._link){var n=e.indexOf(t);~n?e.splice(n,1,t._link):e.push(t._link)}}),this.computations)e.push(this.computations[n]);return e},e.prototype.handleChange=function(){this.deps.forEach(ge)},e.prototype.has=function(t){var e=this.value,n=Bt(t);if(Uu.call(e,n))return!0;if(t in this.computations||this.childByKey[n]&&this.childByKey[n]._link)return!0;if(t in this.expressions)return!0;for(var r=e.constructor;r!==Function&&r!==Array&&r!==Object;){if(Uu.call(r.prototype,n))return!0;r=r.constructor}return!1},e.prototype.joinKey=function(e,n){return"@global"===e?$e:"@this"===e?this.getRactiveModel():this.expressions.hasOwnProperty(e)?(X("Accessing expression keypaths ("+e.substr(1)+") from the instance is deprecated. You can used a getNodeInfo or event object to access keypaths with expression context."),this.expressions[e]):this.computations.hasOwnProperty(e)?this.computations[e]:t.prototype.joinKey.call(this,e,n)},e.prototype.map=function(t,e){this.joinKey(t).link(e)},e.prototype.rebinding=function(){},e.prototype.set=function(t){var e=this.wrapper;e?(!e.reset||!1===e.reset(t))&&(e.teardown(),this.wrapper=null,this.value=t,this.adapt()):(this.value=t,this.adapt());this.deps.forEach(ge),this.children.forEach(me),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.wrapper?this.wrapper.get():this.value},e.prototype.teardown=function(){for(var e in t.prototype.teardown.call(this),this.computations)this.computations[e].teardown()},e.prototype.update=function(){},e}(Ye);function qu(t,e,n){var r,i,o,s,a;return"function"==typeof n&&(r=Mt(n,t),o=n.toString(),s=!0),"string"==typeof n&&(r=fa(n,t),o=n),"object"==typeof n&&("string"==typeof n.get?(r=fa(n.get,t),o=n.get):"function"==typeof n.get?(r=Mt(n.get,t),o=n.get.toString(),s=!0):$("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=Mt(n.set,t),a=n.set.toString())),{getter:r,setter:i,getterString:o,setterString:a,getterUseStack:s}}var Wu=new ut("construct"),Ku=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Hu=0;function Yu(e,n){rl.DEBUG&&W(),function(t){t._guid="r-"+Hu++,t._subs=S(null),t._config={},t.nodes={},t.event=null,t._eventQueue=[],t._liveQueries=[],t._liveComponentQueries=[],t._observers=[],t.component||(t.root=t,t.parent=t.container=null)}(e),O(e,"data",{get:$u}),Wu.fire(e,n),Ku.forEach(function(t){e[t]=j(S(e.constructor[t]||null),n[t])});var r=new Vu({adapt:function(e,n,r){n=n.map(c);var i=lt(r.adapt).map(c),o=[],s=[n,i];e.parent&&!e.isolated&&s.push(e.parent.viewmodel.adaptors);s.push(o);var a="magic"in r?r.magic:e.magic,u="modifyArrays"in r?r.modifyArrays:e.modifyArrays;if(a){if(!t)throw new Error("Getters and setters (magic mode) are not supported in this browser");u&&o.push(Mu),o.push(ju)}u&&o.push(Ru);return function(t){var e=[],n=e.concat.apply(e,t),r=n.length;for(;r--;)~e.indexOf(n[r])||e.unshift(n[r]);return e}(s);function c(t){return"string"==typeof t&&((t=et("adaptors",e,t))||$(tt(t,"adaptor"))),t}}(e,e.adapt,n),data:Sr.init(e.constructor,e,n),ractive:e});e.viewmodel=r;var i=j(S(e.constructor.prototype.computed),n.computed);for(var o in i){var s=qu(e,o,i[o]);r.compute(o,s)}}function $u(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function Gu(t,e){return t[e._guid]||(t[e._guid]=[])}var Xu=function(t){this.hook=new ut(t),this.inProcess={},this.queue={}};Xu.prototype.begin=function(t){this.inProcess[t._guid]=!0},Xu.prototype.end=function(t){var e=t.parent;e&&this.inProcess[e._guid]?Gu(this.queue,e).push(t):function t(e,n){var r=Gu(e.queue,n);for(e.hook.fire(n);r.length;)t(e,r.shift());delete e.queue[n._guid]}(this,t),delete this.inProcess[t._guid]};var Qu=new ut("config"),Zu=new Xu("init");function Ju(t,e,n){var r,i;(Object.keys(t.viewmodel.computations).forEach(function(e){var n=t.viewmodel.computations[e];t.viewmodel.value.hasOwnProperty(e)&&n.set(t.viewmodel.value[e])}),Oa.init(t.constructor,t,e),Qu.fire(t),Zu.begin(t),t.template)&&((n.cssIds||t.cssId)&&(i=n.cssIds?n.cssIds.slice():[],t.cssId&&i.push(t.cssId)),t.fragment=r=new qh({owner:t,template:t.template,cssIds:i}).bind(t.viewmodel));if(Zu.end(t),r){var o=_(t.el);if(o){var s=t.render(o,t.append);rl.DEBUG_PROMISES&&s.catch(function(e){throw Q("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),X("An error happened during rendering",{ractive:t}),function(){rl.DEBUG&&V.apply(null,arguments)}(e),e})}}}var tc=function(t,e){-1!==t.indexOf("*")&&$('Only component proxy-events may contain "*" wildcards, <'+e.name+" on-"+t+'="..."/> is not valid'),this.name=t,this.owner=e,this.node=null,this.handler=null};tc.prototype.listen=function(t){var e=this.node=this.owner.node,n=this.name;"on"+n in e||G(tt(n,"events")),e.addEventListener(n,this.handler=function(n){t.fire({node:e,original:n})},!1)},tc.prototype.unlisten=function(){this.handler&&this.node.removeEventListener(this.name,this.handler,!1)};var ec=function(t,e){this.eventPlugin=t,this.owner=e,this.handler=null};ec.prototype.listen=function(t){var e=this.owner.node;this.handler=this.eventPlugin(e,function(n){void 0===n&&(n={}),n.node=n.node||e,t.fire(n)})},ec.prototype.unlisten=function(){this.handler.teardown()};var nc=function(t,e){this.ractive=t,this.name=e,this.handler=null};nc.prototype.listen=function(t){var e=this.ractive;this.handler=e.on(this.name,function(){var n;arguments.length&&arguments[0]&&arguments[0].node&&((n=Array.prototype.shift.call(arguments)).component=e);var r=Array.prototype.slice.call(arguments);return t.fire(n,r),!1})},nc.prototype.unlisten=function(){this.handler.cancel()};var rc=/^(event|arguments)(\..+)?$/,ic=/^\$(\d+)(\..+)?$/,oc=function(t){var e=this;this.owner=t.owner||t.parentFragment.owner||Ha(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Ha(t.parentFragment),this.template=t.template,this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.events=[],this.element.type===ei?this.template.n.split("-").forEach(function(t){e.events.push(new nc(e.element.instance,t))}):this.template.n.split("-").forEach(function(t){var n=et("events",e.ractive,t);e.events.push(n?new ec(n,e.element):new tc(t,e.element))}),this.context=null,this.resolvers=null,this.models=null,this.action=null,this.args=null};function sc(t){t.makeDirty()}oc.prototype.bind=function(){var t=this;this.context=this.parentFragment.findContext();var e=this.template.f;e.x?(this.fn=Dr(e.x.s,e.x.r.length),this.resolvers=[],this.models=e.x.r.map(function(e,n){var r=rc.exec(e);if(r)return{special:r[1],keys:r[2]?jt(r[2].substr(1)):[]};var i,o=ic.exec(e);if(o)return{special:"arguments",keys:[o[1]-1].concat(o[2]?jt(o[2].substr(1)):[])};var s=Xe(t.parentFragment,e);return s?s.register(t):(i=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,i),e.register(t)}),t.resolvers.push(i)),s})):(this.action="string"==typeof e?e:"string"==typeof e.n?e.n:new qh({owner:this,template:e.n}),this.args=e.a?"string"==typeof e.a?[e.a]:e.a:e.d?new qh({owner:this,template:e.d}):[]),this.action&&"string"!=typeof this.action&&this.action.bind(),this.args&&e.d&&this.args.bind()},oc.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},oc.prototype.destroyed=function(){this.events.forEach(function(t){return t.unlisten()})},oc.prototype.fire=function(t,e){if(void 0===e&&(e=[]),t&&!t.hasOwnProperty("_element")&&Wn(t,this.owner),this.fn){var n=[];t&&e.unshift(t),this.models&&this.models.forEach(function(r){if(!r)return n.push(void 0);if(r.special){for(var i="event"===r.special?t:e,o=r.keys.slice();o.length;)i=i[o.shift()];return n.push(i)}if(r.wrapper)return n.push(r.wrapperValue);n.push(r.get())});var r=this.ractive,i=r.event;if(r.event=t,!1===this.fn.apply(r,n).pop()){var o=t?t.original:void 0;o?(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()):Q("handler '"+this.template.n+"' returned false, but there is no event available to cancel")}r.event=i}else{var s=this.action.toString(),a=this.template.f.d?this.args.getArgsList():this.args;e.length&&(a=a.concat(e)),t&&(t.name=s),ne(this.ractive,s,{event:t,args:a})}},oc.prototype.handleChange=function(){},oc.prototype.rebinding=function(t,e){var n=this;if(this.models){var r=this.models.indexOf(e);~r&&(this.models.splice(r,1,t),e.unregister(this),t&&t.addShuffleTask(function(){return t.register(n)}))}},oc.prototype.render=function(){var t=this;At.scheduleTask(function(){return t.events.forEach(function(e){return e.listen(t)},!0)})},oc.prototype.toString=function(){return""},oc.prototype.unbind=function(){var t=this;this.template.f.x?(this.resolvers&&this.resolvers.forEach(Ce),this.resolvers=[],this.models&&this.models.forEach(function(e){e&&e.unregister&&e.unregister(t)}),this.models=null):(this.action&&this.action.unbind&&this.action.unbind(),this.args&&this.args.unbind&&this.args.unbind())},oc.prototype.unrender=function(){this.events.forEach(function(t){return t.unlisten()})},oc.prototype.update=function(){!this.method&&this.dirty&&(this.dirty=!1,this.action&&this.action.update&&this.action.update(),this.args&&this.args.update&&this.args.update())};var ac=new ut("teardown"),uc=function(t){function e(e,n){var r=this;t.call(this,e),this.type=ei;var i=S(n.prototype);this.instance=i,this.name=e.template.e,this.parentFragment=e.parentFragment,this.liveQueries=[],i.el&&X("The <"+this.name+"> component has a default 'el' property; it has been disregarded");var o=e.template.p||{};"content"in o||(o.content=e.template.f||[]),this._partials=o,this.yielders={};for(var s,a=e.parentFragment;a;){if(a.owner.type===ni){s=a.owner.container;break}a=a.parent}i.parent=this.parentFragment.ractive,i.container=s||null,i.root=i.parent.root,i.component=this,Yu(this.instance,{partials:o}),i._inlinePartials=o,this.attributeByName={},this.attributes=[];var u=[];(this.template.m||[]).forEach(function(t){switch(t.t){case Jr:case Oi:case Ii:r.attributes.push(zh({owner:r,parentFragment:r.parentFragment,template:t}));break;case Ri:case Fi:break;default:u.push(t)}}),this.attributes.push(new Eu({owner:this,parentFragment:this.parentFragment,template:u})),this.eventHandlers=[],this.template.v&&this.setupEvents()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.attributes.forEach(fe),Ju(this.instance,{partials:this._partials},{cssIds:this.parentFragment.cssIds}),this.eventHandlers.forEach(fe),this.bound=!0},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},e.prototype.checkYielders=function(){var t=this;Object.keys(this.yielders).forEach(function(e){if(t.yielders[e].length>1)throw At.end(),new Error("A component template can only have one {{yield"+(e?" "+e:"")+"}} declaration at a time")})},e.prototype.destroyed=function(){this.instance.fragment&&this.instance.fragment.destroyed()},e.prototype.detach=function(){return this.instance.fragment.detach()},e.prototype.find=function(t){return this.instance.fragment.find(t)},e.prototype.findAll=function(t,e){this.instance.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return t&&this.name!==t?this.instance.fragment?this.instance.fragment.findComponent(t):void 0:this.instance},e.prototype.findAllComponents=function(t,e){e.test(this)&&(e.add(this.instance),e.live&&this.liveQueries.push(e)),this.instance.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.instance.fragment.firstNode(t)},e.prototype.render=function(t,e){fr(this.instance,t,null,e),this.checkYielders(),this.attributes.forEach(we),this.eventHandlers.forEach(we),function(t){var e=t.ractive;do{for(var n=e._liveComponentQueries,r=n.length;r--;){var i=n["_"+n[r]];i.test(t)&&(i.add(t.instance),t.liveQueries.push(i))}}while(e=e.parent)}(this),this.rendered=!0},e.prototype.setupEvents=function(){var t=this,e=this.eventHandlers;Object.keys(this.template.v).forEach(function(n){var r=n.split("-"),i=t.template.v[n];r.forEach(function(n){var r=new nc(t.instance,n);e.push(new oc(t,r,i))})})},e.prototype.shuffled=function(){this.liveQueries.forEach(sc),t.prototype.shuffled.call(this)},e.prototype.toString=function(){return this.instance.toHTML()},e.prototype.unbind=function(){this.bound=!1,this.attributes.forEach(Ce);var t=this.instance;t.viewmodel.teardown(),t.fragment.unbind(),t._observers.forEach(de),function(t){for(var e=t.ractive;e;){var n=e._liveComponentQueries["_"+t.name];n&&n.remove(t),e=e.parent}}(this),t.el&&t.el.__ractive_instances__&&ft(t.el.__ractive_instances__,t),ac.fire(t)},e.prototype.unrender=function(t){var e=this;this.rendered=!1,this.shouldDestroy=t,this.instance.unrender(),this.attributes.forEach(Ee),this.eventHandlers.forEach(Ee),this.liveQueries.forEach(function(t){return t.remove(e.instance)})},e.prototype.update=function(){this.dirty=!1,this.instance.fragment.update(),this.checkYielders(),this.attributes.forEach(ke),this.eventHandlers.forEach(ke)},e}(La),cc={update:U,teardown:U},hc=function(t){this.owner=t.owner||t.parentFragment.owner||Ha(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Ha(t.parentFragment),this.parentFragment=this.owner.parentFragment,this.ractive=this.owner.ractive;var e=this.template=t.template;this.dynamicName="object"==typeof e.f.n,this.dynamicArgs=!!e.f.d,this.dynamicName?this.nameFragment=new qh({owner:this,template:e.f.n}):this.name=e.f.n||e.f,this.dynamicArgs?this.argsFragment=new qh({owner:this,template:e.f.d}):e.f.a&&e.f.a.s?this.args=[]:this.args=e.f.a||[],this.node=null,this.intermediary=null,this.element.decorators.push(this)};hc.prototype.bind=function(){var t=this;this.dynamicName&&(this.nameFragment.bind(),this.name=this.nameFragment.toString()),this.dynamicArgs&&this.argsFragment.bind(),this.template.f.a&&this.template.f.a.s&&(this.resolvers=[],this.models=this.template.f.a.r.map(function(e,n){var r,i=Xe(t.parentFragment,e);return i?i.register(t):(r=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,r),e.register(t)}),t.resolvers.push(r)),i}),this.argsFn=Dr(this.template.f.a.s,this.template.f.a.r.length))},hc.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},hc.prototype.destroyed=function(){this.intermediary&&this.intermediary.teardown(),this.shouldDestroy=!0},hc.prototype.handleChange=function(){this.bubble()},hc.prototype.rebinding=function(t,e,n){var r=this.models.indexOf(e);~r&&(t=Pe(this.template.f.a.r[r],t,e))!==e&&(e.unregister(this),this.models.splice(r,1,t),t&&t.addShuffleRegister(this,"mark"),n||this.bubble())},hc.prototype.render=function(){var t=this;At.scheduleTask(function(){var e,n=et("decorators",t.ractive,t.name);if(!n)return G(tt(t.name,"decorator")),void(t.intermediary=cc);if(t.node=t.element.node,t.argsFn?(e=t.models.map(function(t){if(t)return t.get()}),e=t.argsFn.apply(t.ractive,e)):e=t.dynamicArgs?t.argsFragment.getArgsList():t.args,t.intermediary=n.apply(t.ractive,[t.node].concat(e)),!t.intermediary||!t.intermediary.teardown)throw new Error("The '"+t.name+"' decorator must return an object with a teardown method");t.shouldDestroy&&t.destroyed()},!0),this.rendered=!0},hc.prototype.toString=function(){return""},hc.prototype.unbind=function(){var t=this;this.dynamicName&&this.nameFragment.unbind(),this.dynamicArgs&&this.argsFragment.unbind(),this.resolvers&&this.resolvers.forEach(Ce),this.models&&this.models.forEach(function(e){e&&e.unregister(t)})},hc.prototype.unrender=function(t){t&&!this.element.rendered||!this.intermediary||this.intermediary.teardown(),this.rendered=!1},hc.prototype.update=function(){if(this.dirty){this.dirty=!1;var t=!1;if(this.dynamicName&&this.nameFragment.dirty){var e=this.nameFragment.toString();t=e!==this.name,this.name=e}if(this.intermediary)if(t||!this.intermediary.update)this.unrender(),this.render();else if(this.dynamicArgs){if(this.argsFragment.dirty){var n=this.argsFragment.getArgsList();this.intermediary.update.apply(this.ractive,n)}}else if(this.argsFn){var r=this.models.map(function(t){if(t)return t.get()});this.intermediary.update.apply(this.ractive,this.argsFn.apply(this.ractive,r))}else this.intermediary.update.apply(this.ractive,this.args);this.dynamicName&&this.nameFragment.dirty&&this.nameFragment.update(),this.dynamicArgs&&this.argsFragment.dirty&&this.argsFragment.update()}};var lc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.render=function(){},e.prototype.teardown=function(){},e.prototype.toString=function(){return"<!DOCTYPE"+this.template.a+">"},e.prototype.unbind=function(){},e.prototype.unrender=function(){},e.prototype.update=function(){},e}(La);function pc(t,e){Q("The "+t+" being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:e})}var fc=function(t,e){void 0===e&&(e="value"),this.element=t,this.ractive=t.ractive,this.attribute=t.attributeByName[e];var n=this.attribute.interpolator;n.twowayBinding=this;var r=n.model;if(r){if(r.isUnresolved)r.forceResolution(),pc("expression",this.ractive);else if(r.isReadonly){var i=r.getKeypath().replace(/^@/,"");return Q("Cannot use two-way binding on <"+t.name+"> element: "+i+" is read-only. To suppress this warning use <"+t.name+" twoway='false'...>",{ractive:this.ractive}),!1}}else n.resolver.forceResolution(),r=n.model,pc("'"+n.template.r+"' reference",this.ractive);this.attribute.isTwoway=!0,this.model=r;var o=r.get();this.wasUndefined=void 0===o,void 0===o&&this.getInitialValue&&(o=this.getInitialValue(),r.set(o)),this.lastVal(!0,o);var s=Ha(this.element,!1,"form");s&&(this.resetValue=o,s.formBindings.push(this))};function dc(){this._ractive.binding.handleChange()}fc.prototype.bind=function(){this.model.registerTwowayBinding(this)},fc.prototype.handleChange=function(){var t=this,e=this.getValue();this.lastVal()!==e&&(At.start(this.root),this.attribute.locked=!0,this.model.set(e),this.lastVal(!0,e),this.model.get()!==e?this.attribute.locked=!1:At.scheduleTask(function(){return t.attribute.locked=!1}),At.end())},fc.prototype.lastVal=function(t,e){if(!t)return this.lastValue;this.lastValue=e},fc.prototype.rebinding=function(t,e){var n=this;this.model&&this.model===e&&e.unregisterTwowayBinding(this),t&&(this.model=t,At.scheduleTask(function(){return t.registerTwowayBinding(n)}))},fc.prototype.render=function(){this.node=this.element.node,this.node._ractive.binding=this,this.rendered=!0},fc.prototype.setFromNode=function(t){this.model.set(t.value)},fc.prototype.unbind=function(){this.model.unregisterTwowayBinding(this)},fc.prototype.unrender=function(){};var gc=function(t){function e(e){t.call(this,e,"checked")}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",dc,!1),this.node.attachEvent&&this.node.addEventListener("click",dc,!1)},e.prototype.unrender=function(){this.node.removeEventListener("change",dc,!1),this.node.removeEventListener("click",dc,!1)},e.prototype.getInitialValue=function(){return!!this.element.getAttribute("checked")},e.prototype.getValue=function(){return this.node.checked},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e}(fc);function mc(t,e,n){var r=t+"-bindingGroup";return e[r]||(e[r]=new vc(r,e,n))}var vc=function(t,e,n){var r=this;this.model=e,this.hash=t,this.getValue=function(){return r.value=n.call(r),r.value},this.bindings=[]};vc.prototype.add=function(t){this.bindings.push(t)},vc.prototype.bind=function(){this.value=this.model.get(),this.model.registerTwowayBinding(this),this.bound=!0},vc.prototype.remove=function(t){ft(this.bindings,t),this.bindings.length||this.unbind()},vc.prototype.unbind=function(){this.model.unregisterTwowayBinding(this),this.bound=!1,delete this.model[this.hash]},vc.prototype.rebinding=fc.prototype.rebinding;var yc=[].push;function bc(){var t=[];return this.bindings.filter(function(t){return t.node&&t.node.checked}).map(function(t){return t.element.getAttribute("value")}).forEach(function(e){ht(t,e)||t.push(e)}),t}var wc=function(t){function e(e){if(t.call(this,e,"name"),this.checkboxName=!0,this.group=mc("checkboxes",this.model,bc),this.group.add(this),this.noInitialValue&&(this.group.noInitialValue=!0),this.group.noInitialValue&&this.element.getAttribute("checked")){var n=this.model.get(),r=this.element.getAttribute("value");ht(n,r)||yc.call(n,r)}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.group.bound||this.group.bind()},e.prototype.changed=function(){var t=!!this.isChecked;return this.isChecked=this.node.checked,this.isChecked===t},e.prototype.getInitialValue=function(){return this.noInitialValue=!0,[]},e.prototype.getValue=function(){return this.group.value},e.prototype.handleChange=function(){this.isChecked=this.element.node.checked,this.group.value=this.model.get();var e=this.element.getAttribute("value");this.isChecked&&!ht(this.group.value,e)?this.group.value.push(e):!this.isChecked&&ht(this.group.value,e)&&ft(this.group.value,e),this.lastValue=null,t.prototype.handleChange.call(this)},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node,n=this.model.get(),r=this.element.getAttribute("value");M(n)?this.isChecked=ht(n,r):this.isChecked=n==r,e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.isChecked,e.addEventListener("change",dc,!1),e.attachEvent&&e.addEventListener("click",dc,!1)},e.prototype.setFromNode=function(t){if(this.group.bindings.forEach(function(t){return t.wasUndefined=!0}),t.checked){var e=this.group.getValue();e.push(this.element.getAttribute("value")),this.group.model.set(e)}},e.prototype.unbind=function(){this.group.remove(this)},e.prototype.unrender=function(){var t=this.element.node;t.removeEventListener("change",dc,!1),t.removeEventListener("click",dc,!1)},e}(fc),xc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return this.element.fragment?this.element.fragment.toString():""},e.prototype.getValue=function(){return this.element.node.innerHTML},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.addEventListener("change",dc,!1),e.addEventListener("blur",dc,!1),this.ractive.lazy||(e.addEventListener("input",dc,!1),e.attachEvent&&e.addEventListener("keyup",dc,!1))},e.prototype.setFromNode=function(t){this.model.set(t.innerHTML)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("blur",dc,!1),t.removeEventListener("change",dc,!1),t.removeEventListener("input",dc,!1),t.removeEventListener("keyup",dc,!1)},e}(fc);function Cc(){dc.call(this);var t=this._ractive.binding.model.get();this.value=void 0==t?"":t}var Ec=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return""},e.prototype.getValue=function(){return this.node.value},e.prototype.render=function(){t.prototype.render.call(this);var e=this.ractive.lazy,n=!1;"lazy"in this.element&&(e=this.element.lazy),D(e)&&(n=+e,e=!1),this.handler=n?function(t){var e;return function(){var n=this;e&&clearTimeout(e),e=setTimeout(function(){n._ractive.binding.rendered&&dc.call(n),e=null},t)}}(n):dc;var r=this.node;r.addEventListener("change",dc,!1),e||(r.addEventListener("input",this.handler,!1),r.attachEvent&&r.addEventListener("keyup",this.handler,!1)),r.addEventListener("blur",Cc,!1)},e.prototype.unrender=function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",dc,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",Cc,!1)},e}(fc),_c=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){},e.prototype.getValue=function(){return this.node.files},e.prototype.render=function(){this.element.lazy=!1,t.prototype.render.call(this)},e.prototype.setFromNode=function(t){this.model.set(t.files)},e}(Ec);function kc(t){return t.selectedOptions?dt(t.selectedOptions):t.options?dt(t.options).filter(function(t){return t.selected}):[]}var Ac=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,At.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},e.prototype.getValue=function(){for(var t=this.element.node.options,e=t.length,n=[],r=0;r<e;r+=1){var i=t[r];if(i.selected){var o=i._ractive?i._ractive.value:i.value;n.push(o)}}return n},e.prototype.handleChange=function(){var e=this.attribute.getValue(),n=this.getValue();return void 0!==e&&function(t,e){var n;if(!M(t)||!M(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}(n,e)||t.prototype.handleChange.call(this),this},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",dc,!1),void 0===this.model.get()&&this.handleChange()},e.prototype.setFromNode=function(t){for(var e=kc(t),n=e.length,r=new Array(n);n--;){var i=e[n];r[n]=i._ractive?i._ractive.value:i.value}this.model.set(r)},e.prototype.setValue=function(){throw new Error("TODO not implemented yet")},e.prototype.unrender=function(){this.node.removeEventListener("change",dc,!1)},e.prototype.updateModel=function(){void 0!==this.attribute.value&&this.attribute.value.length||this.keypath.set(this.initialValue)},e}(fc),Tc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){},e.prototype.getValue=function(){var t=parseFloat(this.node.value);return isNaN(t)?void 0:t},e.prototype.setFromNode=function(t){var e=parseFloat(t.value);isNaN(e)||this.model.set(e)},e}(Ec),Sc={};var Oc=function(t){function e(e){var n;t.call(this,e,"checked"),this.siblings=(n=this.ractive._guid+this.element.getAttribute("name"),Sc[n]||(Sc[n]=[])),this.siblings.push(this)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getValue=function(){return this.node.checked},e.prototype.handleChange=function(){At.start(this.root),this.siblings.forEach(function(t){t.model.set(t.getValue())}),At.end()},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",dc,!1),this.node.attachEvent&&this.node.addEventListener("click",dc,!1)},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e.prototype.unbind=function(){ft(this.siblings,this)},e.prototype.unrender=function(){this.node.removeEventListener("change",dc,!1),this.node.removeEventListener("click",dc,!1)},e}(fc);function Fc(){var t=this.bindings.filter(function(t){return t.node.checked});if(t.length>0)return t[0].element.getAttribute("value")}var Ic=function(t){function e(e){t.call(this,e,"name"),this.group=mc("radioname",this.model,Fc),this.group.add(this),e.checked&&(this.group.value=this.getValue())}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this;this.group.bound||this.group.bind(),this.nameAttributeBinding={handleChange:function(){return t.node.name="{{"+t.model.getKeypath()+"}}"},rebinding:U},this.model.getKeypathModel().register(this.nameAttributeBinding)},e.prototype.getInitialValue=function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},e.prototype.getValue=function(){return this.element.getAttribute("value")},e.prototype.handleChange=function(){this.node.checked&&(this.group.value=this.getValue(),t.prototype.handleChange.call(this))},e.prototype.lastVal=function(t,e){if(this.group)return t?void(this.group.lastValue=e):this.group.lastValue},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.model.get()==this.element.getAttribute("value"),e.addEventListener("change",dc,!1),e.attachEvent&&e.addEventListener("click",dc,!1)},e.prototype.setFromNode=function(t){t.checked&&this.group.model.set(this.element.getAttribute("value"))},e.prototype.unbind=function(){this.group.remove(this),this.model.getKeypathModel().unregister(this.nameAttributeBinding)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("change",dc,!1),t.removeEventListener("click",dc,!1)},e}(fc),Rc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,At.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){if(void 0===this.element.getAttribute("value")){var t=this.element.options,e=t.length;if(e){for(var n,r,i=e;i--;){var o=t[i];if(o.getAttribute("selected")){o.getAttribute("disabled")||(n=o.getAttribute("value")),r=!0;break}}if(!r)for(;++i<e;)if(!t[i].getAttribute("disabled")){n=t[i].getAttribute("value");break}return void 0!==n&&(this.element.attributeByName.value.value=n),n}}},e.prototype.getValue=function(){var t,e=this.node.options,n=e.length;for(t=0;t<n;t+=1){var r=e[t];if(e[t].selected&&!e[t].disabled)return r._ractive?r._ractive.value:r.value}},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",dc,!1)},e.prototype.setFromNode=function(t){var e=kc(t)[0];this.model.set(e._ractive?e._ractive.value:e.value)},e.prototype.setValue=function(t){this.model.set(t)},e.prototype.unrender=function(){this.node.removeEventListener("change",dc,!1)},e}(fc);function Nc(t){return t&&t.template.f&&1===t.template.f.length&&t.template.f[0].t===Wr&&!t.template.f[0].s}function jc(t){t.makeDirty()}var Bc=/;\s*$/,Pc=function(t){function e(e){var n=this;if(t.call(this,e),this.liveQueries=[],this.name=e.template.e.toLowerCase(),this.isVoid=Vi.test(this.name),this.parent=Ha(this.parentFragment,!1),this.parent&&"option"===this.parent.name)throw new Error("An <option> element cannot contain other elements (encountered <"+this.name+">)");this.decorators=[],this.attributeByName={},this.attributes=[];var r=[];(this.template.m||[]).forEach(function(t){switch(t.t){case Jr:case Ri:case Fi:case Oi:case Ii:n.attributes.push(zh({owner:n,parentFragment:n.parentFragment,template:t}));break;default:r.push(t)}}),r.length&&this.attributes.push(new Eu({owner:this,parentFragment:this.parentFragment,template:r}));for(var i=this.attributes.length;i--;){var o=n.attributes[i];"type"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"max"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"min"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"class"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"value"===o.name&&n.attributes.push(n.attributes.splice(i,1)[0])}e.template.f&&!e.deferContent&&(this.fragment=new qh({template:e.template.f,owner:this,cssIds:null})),this.binding=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.attributes.binding=!0,this.attributes.forEach(fe),this.attributes.binding=!1,this.fragment&&this.fragment.bind(),this.binding||this.recreateTwowayBinding()},e.prototype.createTwowayBinding=function(){if(!("twoway"in this?this.twoway:this.ractive.twoway))return null;var t=function(t){var e=t.attributeByName;if(t.getAttribute("contenteditable")||Nc(e.contenteditable))return Nc(e.value)?xc:null;if("input"===t.name){var n=t.getAttribute("type");if("radio"===n||"checkbox"===n){var r=Nc(e.name),i=Nc(e.checked);if(r&&i){if("radio"!==n)return gc;X("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root})}if(r)return"radio"===n?Ic:wc;if(i)return"radio"===n?Oc:gc}return"file"===n&&Nc(e.value)?_c:Nc(e.value)?"number"===n||"range"===n?Tc:Ec:null}return"select"===t.name&&Nc(e.value)?t.getAttribute("multiple")?Ac:Rc:"textarea"===t.name&&Nc(e.value)?Ec:void 0}(this);if(!t)return null;var e=new t(this);return e&&e.model?e:null},e.prototype.destroyed=function(){this.attributes.forEach(function(t){return t.destroyed()}),this.fragment&&this.fragment.destroyed()},e.prototype.detach=function(){return this.rendered||this.destroyed(),k(this.node)},e.prototype.find=function(t){return this.node&&h(this.node,t)?this.node:this.fragment?this.fragment.find(t):void 0},e.prototype.findAll=function(t,e){e.test(this.node)&&(e.add(this.node),e.live&&this.liveQueries.push(e)),this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return null},e.prototype.firstNode=function(){return this.node},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():void 0},e.prototype.recreateTwowayBinding=function(){this.binding&&(this.binding.unbind(),this.binding.unrender()),(this.binding=this.createTwowayBinding())&&(this.binding.bind(),this.rendered&&this.binding.render())},e.prototype.render=function(t,e){var n;this.namespace=function(t){var e=t.getAttribute("xmlns");if(e)return e;if("svg"===t.name)return x;var n=t.parent;if(n)return"foreignobject"===n.name?w:n.node.namespaceURI;return t.ractive.el.namespaceURI}(this);var r=!1;if(e)for(var i;i=e.shift();){if(i.nodeName.toUpperCase()===this.template.e.toUpperCase()&&i.namespaceURI===this.namespace){this.node=n=i,r=!0;break}k(i)}if(n||(n=c(this.template.e,this.namespace,this.getAttribute("is")),this.node=n),O(n,"_ractive",{value:{proxy:this}}),this.parentFragment.cssIds&&n.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),r&&this.foundNode&&this.foundNode(n),this.fragment){var o=r?dt(n.childNodes):void 0;this.fragment.render(n,o),o&&o.forEach(k)}if(r){this.binding&&this.binding.wasUndefined&&this.binding.setFromNode(n);for(var s=n.attributes.length;s--;){var a=n.attributes[s].name;a in this.attributeByName||n.removeAttribute(a)}}this.attributes.forEach(we),this.binding&&this.binding.render(),function(t){var e=t.node,n=t.ractive;do{for(var r=n._liveQueries,i=r.length;i--;){var o=r["_"+r[i]];o.test(e)&&(o.add(e),t.liveQueries.push(o))}}while(n=n.parent)}(this),this._introTransition&&this.ractive.transitionsEnabled&&(this._introTransition.isIntro=!0,At.registerTransition(this._introTransition)),r||t.appendChild(n),this.rendered=!0},e.prototype.shuffled=function(){this.liveQueries.forEach(jc),t.prototype.shuffled.call(this)},e.prototype.toString=function(){var t,e,n=this.template.e,r=this.attributes.map(Mc).join("");"option"===this.name&&this.isSelected()&&(r+=" selected"),"input"===this.name&&function(t){var e=t.attributeByName,n=e.type,r=e.value,i=e.name;if(!n||"radio"!==n.value||!r||!i.interpolator)return;if(r.getValue()===i.interpolator.model.get())return!0}(this)&&(r+=" checked"),this.attributes.forEach(function(n){"class"===n.name?e=(e||"")+(e?" ":"")+T(n.getString()):"style"===n.name?(t=(t||"")+(t?" ":"")+T(n.getString()))&&!Bc.test(t)&&(t+=";"):n.style?t=(t||"")+(t?" ":"")+n.style+": "+T(n.getString())+";":n.inlineClass&&n.getValue()&&(e=(e||"")+(e?" ":"")+n.inlineClass)}),void 0!==t&&(r=" style"+(t?'="'+t+'"':"")+r),void 0!==e&&(r=" class"+(e?'="'+e+'"':"")+r);var i="<"+n+r+">";return this.isVoid?i:("textarea"===this.name&&void 0!==this.getAttribute("value")?i+=Ji(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(i+=this.getAttribute("value")||""),this.fragment&&(i+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e))),i+="</"+n+">")},e.prototype.unbind=function(){this.attributes.unbinding=!0,this.attributes.forEach(Ce),this.attributes.unbinding=!1,this.binding&&this.binding.unbind(),this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){if(this.rendered){this.rendered=!1;var e=this._introTransition;e&&e.complete&&e.complete(),"option"===this.name?this.detach():t&&At.detachWhenReady(this),this.fragment&&this.fragment.unrender(),this.binding&&this.binding.unrender(),this._outroTransition&&this.ractive.transitionsEnabled&&(this._outroTransition.isIntro=!1,At.registerTransition(this._outroTransition)),function(t){var e=t.liveQueries.length;for(;e--;){var n=t.liveQueries[e];n.remove(t.node)}}(this)}},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.attributes.forEach(ke),this.fragment&&this.fragment.update())},e}(La);function Mc(t){var e=t.toString();return e?" "+e:""}var Lc=function(t){function e(e){t.call(this,e),this.formBindings=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.node.addEventListener("reset",Dc,!1)},e.prototype.unrender=function(e){this.node.removeEventListener("reset",Dc,!1),t.prototype.unrender.call(this,e)},e}(Pc);function Dc(){var t=this._ractive.proxy;At.start(),t.formBindings.forEach(zc),At.end()}function zc(t){t.model.set(t.resetValue)}var Uc=function(t){function e(e){t.call(this,e),this.parentFragment=e.parentFragment,this.template=e.template,this.index=e.index,e.owner&&(this.parent=e.owner),this.isStatic=!!e.template.s,this.model=null,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this,e=qa(this.parentFragment,this.template),n=e?e.get():void 0;this.isStatic?this.model={get:function(){return n}}:e?(e.register(this),this.model=e):this.template.r&&(this.resolver=this.parentFragment.resolve(this.template.r,function(e){t.model=e,e.register(t),t.handleChange(),t.resolver=null}))},e.prototype.handleChange=function(){this.bubble()},e.prototype.rebinding=function(t,e,n){return t=Pe(this.template,t,e),!this.static&&(t!==this.model&&(this.model&&this.model.unregister(this),t&&t.addShuffleRegister(this,"mark"),this.model=t,n||this.handleChange(),!0))},e.prototype.unbind=function(){this.isStatic||(this.model&&this.model.unregister(this),this.model=void 0,this.resolver&&this.resolver.unbind())},e}(La),Vc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){this.owner&&this.owner.bubble(),t.prototype.bubble.call(this)},e.prototype.detach=function(){return k(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.getString=function(){return this.model?A(this.model.get()):""},e.prototype.render=function(t,e){if(!Cu()){var n=this.getString();if(this.rendered=!0,e){var r=e[0];r&&3===r.nodeType?(e.shift(),r.nodeValue!==n&&(r.nodeValue=n)):(r=this.node=s.createTextNode(n),e[0]?t.insertBefore(r,e[0]):t.appendChild(r)),this.node=r}else this.node=s.createTextNode(n),t.appendChild(this.node)}},e.prototype.toString=function(t){var e=this.getString();return t?Ji(e):e},e.prototype.unrender=function(t){t&&this.detach(),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.rendered&&(this.node.data=this.getString()))},e.prototype.valueOf=function(){return this.model?this.model.get():void 0},e}(Uc),qc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.node.defaultValue=this.node.value},e}(Pc),Wc=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.owner=e.owner||e.parentFragment.owner||e.element||Ha(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:Ha(e.parentFragment)),this.parentFragment=this.element.parentFragment,this.ractive=this.parentFragment.ractive,this.fragment=null,this.element.attributeByName[this.name]=this,this.value=e.template.f}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind();var t=this.template.f,e=this.element.instance.viewmodel;if(0===t)e.joinKey(this.name).set(!0);else if("string"==typeof t){var n=Ho(t);e.joinKey(this.name).set(n?n.value:t)}else M(t)&&function(t){var e=t.template.f,n=t.element.instance.viewmodel,r=n.value;1===e.length&&e[0].t===Wr?(t.model=qa(t.parentFragment,e[0]),t.model||(Q("The "+t.name+"='{{"+e[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:t.element.instance}),t.parentFragment.ractive.get(t.name),t.model=t.parentFragment.findContext().joinKey(t.name)),t.link=n.createLink(t.name,t.model,e[0].r),void 0===t.model.get()&&!t.model.isReadonly&&t.name in r&&t.model.set(r[t.name])):(t.boundFragment=new qh({owner:t,template:e}).bind(),t.model=n.joinKey(t.name),t.model.set(t.boundFragment.valueOf()),t.boundFragment.bubble=function(){qh.prototype.bubble.call(t.boundFragment),At.scheduleTask(function(){t.boundFragment.update(),t.model.set(t.boundFragment.valueOf())})})}(this)},e.prototype.render=function(){},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind(),this.model&&this.model.unregister(this),this.boundFragment&&this.boundFragment.unbind(),this.element.bound&&this.link.target===this.model&&this.link.owner.unlink()},e.prototype.unrender=function(){},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),this.boundFragment&&this.boundFragment.update(),this.rendered&&this.updateDelegate())},e}(La);var Kc=function(t){function e(e){var n=e.template;n.a||(n.a={}),void 0!==n.a.value||"disabled"in n.a||(n.a.value=n.f||""),t.call(this,e),this.select=Ha(this.parent||this.parentFragment,!1,"select")}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.select){var e=this.attributeByName.selected;if(e&&void 0!==this.select.getAttribute("value")){var n=this.attributes.indexOf(e);this.attributes.splice(n,1),delete this.attributeByName.selected}t.prototype.bind.call(this),this.select.options.push(this)}else t.prototype.bind.call(this)},e.prototype.bubble=function(){var e=this.getAttribute("value");this.node&&this.node.value!==e&&(this.node._ractive.value=e),t.prototype.bubble.call(this)},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():"value"===t&&this.fragment?this.fragment.valueOf():void 0},e.prototype.isSelected=function(){var t=this.getAttribute("value");if(void 0===t||!this.select)return!1;var e=this.select.getAttribute("value");if(e==t)return!0;if(this.select.getAttribute("multiple")&&M(e))for(var n=e.length;n--;)if(e[n]==t)return!0},e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.attributeByName.value||(this.node._ractive.value=this.getAttribute("value"))},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.select&&ft(this.select.options,this)},e}(Pc);function Hc(t,e,n){var r=function(t,e,n){var r=function t(e,n){if(n){if(n.template&&n.template.p&&n.template.p[e])return n.template.p[e];if(n.parentFragment&&n.parentFragment.owner)return t(e,n.parentFragment.owner)}}(e,n.owner);if(r)return r;var i,o=nt("partials",t,e);if(!o)return;"function"==typeof(r=o.partials[e])&&((i=r.bind(o)).isOwner=o.partials.hasOwnProperty(e),r=i.call(t,da));if(!r&&""!==r)return void X(J,e,"partial","partial",{ractive:t});if(!da.isParsed(r)){var s=da.parseFor(r,o);s.p&&X("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?o:function(t,e){return t.partials.hasOwnProperty(e)?t:function t(e,n){if(!e)return;return e.partials.hasOwnProperty(n)?e:t(e._Parent,n)}(t.constructor,e)}(o,e);a.partials[e]=r=s.t}i&&(r._fn=i);return r.v?r.t:r}(t,e,n||{});if(r)return r;if(r=da.fromId(e,{noThrow:!0})){var i=da.parseFor(r,t);return i.p&&function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];e.forEach(function(e){for(var n in e)!B.call(e,n)||n in t||(t[n]=e[n])})}(t.partials,i.p),t.partials[e]=i.t}}var Yc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.refName=this.template.r;var e,n=this.refName&&Hc(this.ractive,this.refName,this.parentFragment)||null;n&&(this.named=!0,this.setTemplate(this.template.r,n)),n||(t.prototype.bind.call(this),this.model&&(e=this.model.get())&&"object"==typeof e&&("string"==typeof e.template||M(e.t))?(e.template?(this.source=e.template,e=$c(this.template.r,e.template,this.ractive)):this.source=e.t,this.setTemplate(this.template.r,e.t)):this.model&&"string"==typeof this.model.get()||!this.refName?this.setTemplate(this.model.get()):this.setTemplate(this.refName,n)),this.fragment=new qh({owner:this,template:this.partialTemplate}).bind()},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.forceResetTemplate=function(){var t=this;this.partialTemplate=void 0,this.refName&&(this.partialTemplate=Hc(this.ractive,this.refName,this.parentFragment)),this.partialTemplate||(this.partialTemplate=Hc(this.ractive,this.name,this.parentFragment)),this.partialTemplate||(Q("Could not find template for partial '"+this.name+"'"),this.partialTemplate=[]),this.inAttribute?(xu=!0,function(){return t.fragment.resetTemplate(t.partialTemplate)}(),xu=!1):this.fragment.resetTemplate(this.partialTemplate),this.bubble()},e.prototype.render=function(t,e){this.fragment.render(t,e)},e.prototype.setTemplate=function(t,e){this.name=t,e||null===e||(e=Hc(this.ractive,t,this.parentFragment)),e||Q("Could not find template for partial '"+t+"'"),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment.unbind()},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){var t;this.dirty&&(this.dirty=!1,this.named||(this.model&&(t=this.model.get()),t&&"string"==typeof t&&t!==this.name?(this.setTemplate(t),this.fragment.resetTemplate(this.partialTemplate)):t&&"object"==typeof t&&("string"==typeof t.template||M(t.t))&&t.t!==this.source&&t.template!==this.source&&(t.template?(this.source=t.template,t=$c(this.name,t.template,this.ractive)):this.source=t.t,this.setTemplate(this.name,t.t),this.fragment.resetTemplate(this.partialTemplate))),this.fragment.update())},e}(Uc);function $c(t,e,n){var r;try{r=da.parse(e,da.getParseOptions(n))}catch(e){X("Could not parse partial from expression '"+t+"'\n"+e.message)}return r||{t:[]}}var Gc=function(t){this.parent=t.owner.parentFragment,this.parentFragment=this,this.owner=t.owner,this.ractive=this.parent.ractive,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.context=null,this.rendered=!1,this.iterations=[],this.template=t.template,this.indexRef=t.indexRef,this.keyRef=t.keyRef,this.pendingNewIndices=null,this.previousIterations=null,this.isArray=!1};Gc.prototype.bind=function(t){var e=this;this.context=t;var n=t.get();if(this.isArray=M(n)){this.iterations=[];for(var r=n.length,i=0;i<r;i+=1)e.iterations[i]=e.createIteration(i,i)}else if(z(n)){if(this.isArray=!1,this.indexRef){var o=this.indexRef.split(",");this.keyRef=o[0],this.indexRef=o[1]}this.iterations=Object.keys(n).map(function(t,n){return e.createIteration(t,n)})}return this},Gc.prototype.bubble=function(){this.owner.bubble()},Gc.prototype.createIteration=function(t,e){var n=new qh({owner:this,template:this.template});n.key=t,n.index=e,n.isIteration=!0;var r=this.context.joinKey(t);return this.owner.template.z&&(n.aliases={},n.aliases[this.owner.template.z[0].n]=r),n.bind(r)},Gc.prototype.destroyed=function(){this.iterations.forEach(function(t){return t.destroyed()})},Gc.prototype.detach=function(){var t=E();return this.iterations.forEach(function(e){return t.appendChild(e.detach())}),t},Gc.prototype.find=function(t){var e,n=this.iterations.length;for(e=0;e<n;e+=1){var r=this.iterations[e].find(t);if(r)return r}},Gc.prototype.findAll=function(t,e){var n,r=this.iterations.length;for(n=0;n<r;n+=1)this.iterations[n].findAll(t,e)},Gc.prototype.findComponent=function(t){var e,n=this.iterations.length;for(e=0;e<n;e+=1){var r=this.iterations[e].findComponent(t);if(r)return r}},Gc.prototype.findAllComponents=function(t,e){var n,r=this.iterations.length;for(n=0;n<r;n+=1)this.iterations[n].findAllComponents(t,e)},Gc.prototype.findNextNode=function(t){if(t.index<this.iterations.length-1)for(var e=t.index+1;e<this.iterations.length;e++){var n=this.iterations[e].firstNode(!0);if(n)return n}return this.owner.findNextNode()},Gc.prototype.firstNode=function(t){return this.iterations[0]?this.iterations[0].firstNode(t):null},Gc.prototype.rebinding=function(t){var e=this;this.context=t,this.iterations.forEach(function(n){var r=t?t.joinKey(n.key||n.index):void 0;n.context=r,e.owner.template.z&&(n.aliases={},n.aliases[e.owner.template.z[0].n]=r)})},Gc.prototype.render=function(t,e){this.iterations&&this.iterations.forEach(function(n){return n.render(t,e)}),this.rendered=!0},Gc.prototype.shuffle=function(t){var e=this;this.pendingNewIndices||(this.previousIterations=this.iterations.slice()),this.pendingNewIndices||(this.pendingNewIndices=[]),this.pendingNewIndices.push(t);var n=[];t.forEach(function(t,r){if(-1!==t){var i=e.iterations[r];n[t]=i,t!==r&&i&&(i.dirty=!0)}}),this.iterations=n,this.bubble()},Gc.prototype.shuffled=function(){this.iterations.forEach(function(t){return t.shuffled()})},Gc.prototype.toString=function(t){return this.iterations?this.iterations.map(t?Te:Ae).join(""):""},Gc.prototype.unbind=function(){return this.iterations.forEach(Ce),this},Gc.prototype.unrender=function(t){this.iterations.forEach(t?_e:Ee),this.pendingNewIndices&&this.previousIterations&&this.previousIterations.forEach(function(e){e.rendered&&(t?_e(e):Ee(e))}),this.rendered=!1},Gc.prototype.update=function(){var t=this;if(this.pendingNewIndices)this.updatePostShuffle();else if(!this.updating){this.updating=!0;var e,n,r,i,o,s=this.context.get(),a=this.isArray,u=!0;if(this.isArray=M(s))a&&(u=!1,this.iterations.length>s.length&&(e=this.iterations.splice(s.length)));else if(z(s)&&!a)for(u=!1,e=[],n={},r=this.iterations.length;r--;){var c=t.iterations[r];c.key in s?n[c.key]=!0:(t.iterations.splice(r,1),e.push(c))}if(u&&(e=this.iterations,this.iterations=[]),e&&e.forEach(function(t){t.unbind(),t.unrender(!0)}),this.iterations.forEach(ke),(M(s)?s.length:z(s)?Object.keys(s).length:0)>this.iterations.length){if(i=this.rendered?E():null,r=this.iterations.length,M(s))for(;r<s.length;)o=t.createIteration(r,r),t.iterations.push(o),t.rendered&&o.render(i),r+=1;else if(z(s)){if(this.indexRef&&!this.keyRef){var h=this.indexRef.split(",");this.keyRef=h[0],this.indexRef=h[1]}Object.keys(s).forEach(function(e){n&&e in n||(o=t.createIteration(e,r),t.iterations.push(o),t.rendered&&o.render(i),r+=1)})}if(this.rendered){var l=this.parent.findParentNode(),p=this.parent.findNextNode(this.owner);l.insertBefore(i,p)}}this.updating=!1}},Gc.prototype.updatePostShuffle=function(){var t=this,e=this.pendingNewIndices[0];this.pendingNewIndices.slice(1).forEach(function(t){e.forEach(function(n,r){e[r]=t[n]})});var n,r=this.context.get().length,i=this.previousIterations.length,o={};e.forEach(function(e,n){var r=t.previousIterations[n];if(t.previousIterations[n]=null,-1===e)o[n]=r;else if(r.index!==e){var i=t.context.joinKey(e);r.index=r.key=e,r.context=i,t.owner.template.z&&(r.aliases={},r.aliases[t.owner.template.z[0].n]=i)}}),this.previousIterations.forEach(function(t,e){t&&(o[e]=t)});var s=this.rendered?E():null,a=this.rendered?this.parent.findParentNode():null,u="startIndex"in e;for(n=u?e.startIndex:0;n<r;n++){var c=t.iterations[n];c&&u?t.rendered&&(o[n]&&s.appendChild(o[n].detach()),s.childNodes.length&&a.insertBefore(s,c.firstNode())):(c||(t.iterations[n]=t.createIteration(n,n)),t.rendered&&(o[n]&&s.appendChild(o[n].detach()),c?s.appendChild(c.detach()):t.iterations[n].render(s)))}if(this.rendered){for(n=r;n<i;n++)o[n]&&s.appendChild(o[n].detach());s.childNodes.length&&a.insertBefore(s,this.owner.findNextNode())}Object.keys(o).forEach(function(t){return o[t].unbind().unrender(!0)}),this.iterations.forEach(ke),this.pendingNewIndices=null,this.shuffled()};var Xc=function(t){function e(e){t.call(this,e),this.sectionType=e.template.n||null,this.templateSectionType=this.sectionType,this.subordinate=1===e.template.l,this.fragment=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){t.prototype.bind.call(this),this.subordinate&&(this.sibling=this.parentFragment.items[this.parentFragment.items.indexOf(this)-1],this.sibling.nextSibling=this),this.model?(this.dirty=!0,this.update()):!this.sectionType||this.sectionType!==Ei||this.sibling&&this.sibling.isTruthy()||(this.fragment=new qh({owner:this,template:this.template.f}).bind())},e.prototype.detach=function(){return this.fragment?this.fragment.detach():E()},e.prototype.find=function(t){if(this.fragment)return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},e.prototype.isTruthy=function(){if(this.subordinate&&this.sibling.isTruthy())return!0;var t=this.model?this.model.isRoot?this.model.value:this.model.get():void 0;return!(!t||this.templateSectionType!==Ai&&function(t){return!t||M(t)&&0===t.length||z(t)&&0===Object.keys(t).length}(t))},e.prototype.rebinding=function(e,n,r){t.prototype.rebinding.call(this,e,n,r)&&this.fragment&&this.sectionType!==Ci&&this.sectionType!==Ei&&this.fragment.rebinding(e,n)},e.prototype.render=function(t,e){this.rendered=!0,this.fragment&&this.fragment.render(t,e)},e.prototype.shuffle=function(t){this.fragment&&this.sectionType===_i&&this.fragment.shuffle(t)},e.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},e.prototype.update=function(){if(this.dirty&&(this.fragment&&this.sectionType!==Ci&&this.sectionType!==Ei&&(this.fragment.context=this.model),this.model||this.sectionType===Ei)){this.dirty=!1;var t,e=this.model?this.model.isRoot?this.model.value:this.model.get():void 0,n=!this.subordinate||!this.sibling.isTruthy(),r=this.sectionType;if(null!==this.sectionType&&null!==this.templateSectionType||(this.sectionType=function(t,e){return e||M(t)?_i:z(t)||"function"==typeof t?Ai:void 0===t?null:Ci}(e,this.template.i)),r&&r!==this.sectionType&&this.fragment&&(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null),this.sectionType===_i||this.sectionType===ki||n&&(this.sectionType===Ei?!this.isTruthy():this.isTruthy()))if(this.fragment)this.fragment.update();else if(this.sectionType===_i)t=new Gc({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model);else{var i=this.sectionType!==Ci&&this.sectionType!==Ei?this.model:null;t=new qh({owner:this,template:this.template.f}).bind(i)}else this.fragment&&(this.fragment.unbind(),this.rendered&&this.fragment.unrender(!0)),this.fragment=null;if(t){if(this.rendered){var o=this.parentFragment.findParentNode(),s=this.parentFragment.findNextNode(this);if(s){var a=E();t.render(a),s.parentNode.insertBefore(a,s)}else t.render(o)}this.fragment=t}this.nextSibling&&(this.nextSibling.dirty=!0,this.nextSibling.update())}},e}(Uc);var Qc,Zc=function(t){function e(e){t.call(this,e),this.options=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.foundNode=function(t){if(this.binding){var e=kc(t);e.length>0&&(this.selectedOptions=e)}},e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.sync();for(var r=this.node,i=r.options.length;i--;)r.options[i].defaultSelected=r.options[i].selected;this.rendered=!0},e.prototype.sync=function(){var t=this,e=this.node;if(e){var n=dt(e.options);if(this.selectedOptions)return n.forEach(function(e){t.selectedOptions.indexOf(e)>=0?e.selected=!0:e.selected=!1}),this.binding.setFromNode(e),void delete this.selectedOptions;var r,i=this.getAttribute("value"),o=this.getAttribute("multiple"),s=o&&M(i);if(void 0!==i)n.forEach(function(t){var e=t._ractive?t._ractive.value:t.value,n=o?s&&function(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}(i,e):i==e;n&&(r=!0),t.selected=n}),r||o||this.binding&&this.binding.forceUpdate();else this.binding&&this.binding.forceUpdate()}},e.prototype.update=function(){var e=this.dirty;t.prototype.update.call(this),e&&this.sync()},e}(Pc),Jc=function(t){function e(e){var n=e.template;e.deferContent=!0,t.call(this,e),this.attributeByName.value||(n.f&&Nc({template:n})?this.attributes.push(zh({owner:this,template:{t:Jr,f:n.f,n:"value"},parentFragment:this.parentFragment})):this.fragment=new qh({owner:this,cssIds:null,template:n.f}))}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){var t=this;this.dirty||(this.dirty=!0,this.rendered&&!this.binding&&this.fragment&&At.scheduleTask(function(){t.dirty=!1,t.node.value=t.fragment.toString()}),this.parentFragment.bubble())},e}(qc),th=function(t){function e(e){t.call(this,e),this.type=qr}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.detach=function(){return k(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.render=function(t,e){if(!Cu())if(this.rendered=!0,e){var n=e[0];n&&3===n.nodeType?(e.shift(),n.nodeValue!==this.template&&(n.nodeValue=this.template)):(n=this.node=s.createTextNode(this.template),e[0]?t.insertBefore(n,e[0]):t.appendChild(n)),this.node=n}else this.node=s.createTextNode(this.template),t.appendChild(this.node)},e.prototype.toString=function(t){return t?Ji(this.template):this.template},e.prototype.unbind=function(){},e.prototype.unrender=function(t){this.rendered&&t&&this.detach(),this.rendered=!1},e.prototype.update=function(){},e.prototype.valueOf=function(){return this.template},e}(La);function eh(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})}if(a){var nh={},rh=c("div").style;Qc=function(t){if(t=eh(t),!nh[t])if(void 0!==rh[t])nh[t]=t;else for(var e=t.charAt(0).toUpperCase()+t.substring(1),n=b.length;n--;){var r=b[n];if(void 0!==rh[r+e]){nh[t]=r+e;break}}return nh[t]}}else Qc=null;var ih,oh=Qc,sh="hidden";if(s){var ah;if(sh in s)ah="";else for(var uh=b.length;uh--;){var ch=b[uh];if((sh=ch+"Hidden")in s){ah=ch;break}}void 0!==ah?(s.addEventListener(ah+"visibilitychange",hh),hh()):("onfocusout"in s?(s.addEventListener("focusout",lh),s.addEventListener("focusin",ph)):(o.addEventListener("pagehide",lh),o.addEventListener("blur",lh),o.addEventListener("pageshow",ph),o.addEventListener("focus",ph)),ih=!0)}function hh(){ih=!s[sh]}function lh(){ih=!1}function ph(){ih=!0}var fh=new RegExp("^-(?:"+b.join("|")+")-");var dh,gh=new RegExp("^(?:"+b.join("|")+")([A-Z])");function mh(t){return t?(gh.test(t)&&(t="-"+t),t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}if(a){var vh,yh,bh,wh,xh,Ch,Eh=c("div").style,_h=function(t){return t},kh={},Ah={};void 0!==Eh.transition?(vh="transition",yh="transitionend",bh=!0):void 0!==Eh.webkitTransition?(vh="webkitTransition",yh="webkitTransitionEnd",bh=!0):bh=!1,vh&&(wh=vh+"Duration",xh=vh+"Property",Ch=vh+"TimingFunction"),dh=function(t,e,n,r,i){setTimeout(function(){var o,s,a;function u(){clearTimeout(a)}function c(){o&&s&&(t.unregisterCompleteHandler(u),t.ractive.fire(t.name+":end",t.node,t.isIntro),i())}var h=(t.node.namespaceURI||"")+t.node.tagName,l=t.node.style,p={property:l[xh],timing:l[Ch],duration:l[wh]};function f(t){var e=r.indexOf(eh(t.propertyName.replace(fh,"")));-1!==e&&r.splice(e,1),r.length||(clearTimeout(a),d())}function d(){l[xh]=p.property,l[Ch]=p.duration,l[wh]=p.timing,t.node.removeEventListener(yh,f,!1),s=!0,c()}l[xh]=r.map(oh).map(mh).join(","),l[Ch]=mh(n.easing||"linear"),l[wh]=n.duration/1e3+"s",t.node.addEventListener(yh,f,!1),a=setTimeout(function(){r=[],d()},n.duration+(n.delay||0)+50),t.registerCompleteHandler(u),setTimeout(function(){for(var i,a,u,p,d,g,m,v=r.length,y=[];v--;)p=r[v],i=h+p,bh&&!Ah[i]&&(l[oh(p)]=e[p],kh[i]||(a=t.getStyle(p),kh[i]=t.getStyle(p)!=e[p],Ah[i]=!kh[i],Ah[i]&&(l[oh(p)]=a))),bh&&!Ah[i]||(void 0===a&&(a=t.getStyle(p)),-1===(u=r.indexOf(p))?X("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(u,1),d=/[^\d]*$/.exec(e[p])[0],g=rt(parseFloat(a),parseFloat(e[p]))||function(){return e[p]},y.push({name:oh(p),interpolator:g,suffix:d}));y.length?("string"==typeof n.easing?(m=t.ractive.easing[n.easing])||(Q(tt(n.easing,"easing")),m=_h):m="function"==typeof n.easing?n.easing:_h,new We({duration:n.duration,easing:m,step:function(e){for(var n=y.length;n--;){var r=y[n];t.node.style[r.name]=r.interpolator(e)+r.suffix}},complete:function(){o=!0,c()}})):o=!0;r.length||(t.node.removeEventListener(yh,f,!1),s=!0,c())},0)},n.delay||0)}}else dh=null;var Th=dh;var Sh=o&&(o.getComputedStyle||null.getComputedStyle),Oh=yt.resolve(),Fh={t0:"intro-outro",t1:"intro",t2:"outro"},Ih=function(t){this.owner=t.owner||t.parentFragment.owner||Ha(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Ha(t.parentFragment),this.ractive=this.owner.ractive,this.template=t.template,this.parentFragment=t.parentFragment,this.options=t,this.onComplete=[]};Ih.prototype.animateStyle=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");return ih?("string"==typeof t?(r={})[t]=e:(r=t,n=e),n||(Q('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this),new yt(function(t){if(!n.duration)return i.setStyle(r),void t();for(var e=Object.keys(r),o=[],s=Sh(i.node),a=e.length;a--;){var u=e[a],c=s[oh(u)];"0px"===c&&(c=0),c!=r[u]&&(o.push(u),i.node.style[oh(u)]=c)}o.length?Th(i,r,n,o,t):t()})):(this.setStyle(t,e),Oh)},Ih.prototype.bind=function(){var t=this,e=this.options,n=e.template&&e.template.v;n&&("t0"!==n&&"t1"!==n||(this.element._introTransition=this),"t0"!==n&&"t2"!==n||(this.element._outroTransition=this),this.eventName=Fh[n]);var r=this.owner.ractive;if(e.name)this.name=e.name;else{var i=e.template.f;if("string"==typeof i.n&&(i=i.n),"string"!=typeof i){var o=new qh({owner:this.owner,template:i.n}).bind();if(i=o.toString(),o.unbind(),""===i)return}this.name=i}if(e.params)this.params=e.params;else if(e.template.f.a&&!e.template.f.a.s)this.params=e.template.f.a;else if(e.template.f.d){var s=new qh({owner:this.owner,template:e.template.f.d}).bind();this.params=s.getArgsList(),s.unbind()}"function"==typeof this.name?(this._fn=this.name,this.name=this._fn.name):this._fn=et("transitions",r,this.name),this._fn||Q(tt(this.name,"transition"),{ractive:r}),e.template&&this.template.f.a&&this.template.f.a.s&&(this.resolvers=[],this.models=this.template.f.a.r.map(function(e,n){var r,i=Xe(t.parentFragment,e);return i?i.register(t):(r=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,r),e.register(t)}),t.resolvers.push(r)),i}),this.argsFn=Dr(this.template.f.a.s,this.template.f.a.r.length))},Ih.prototype.destroyed=function(){},Ih.prototype.getStyle=function(t){var e=Sh(this.node);if("string"==typeof t){var n=e[oh(t)];return"0px"===n?0:n}if(!M(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(var r={},i=t.length;i--;){var o=t[i],s=e[oh(o)];"0px"===s&&(s=0),r[o]=s}return r},Ih.prototype.handleChange=function(){},Ih.prototype.processParams=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),j({},e,t)},Ih.prototype.rebinding=function(t,e){var n=this.models.indexOf(e);~n&&(t=Pe(this.template.f.a.r[n],t,e))!==e&&(e.unregister(this),this.models.splice(n,1,t),t&&t.addShuffleRegister(this,"mark"))},Ih.prototype.registerCompleteHandler=function(t){ct(this.onComplete,t)},Ih.prototype.render=function(){},Ih.prototype.setStyle=function(t,e){var n;if("string"==typeof t)this.node.style[oh(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[oh(n)]=t[n]);return this},Ih.prototype.start=function(){var t,e=this,n=this.node=this.element.node,r=n.getAttribute("style"),i=this.params;if(this.complete=function(i){t||(e.onComplete.forEach(function(t){return t()}),!i&&e.isIntro&&function(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}(n,r),e._manager.remove(e),t=!0)},this._fn){if(this.argsFn){var o=this.models.map(function(t){if(t)return t.get()});i=this.argsFn.apply(this.ractive,o)}var s=this._fn.apply(this.ractive,[this].concat(i));s&&s.then(this.complete)}else this.complete()},Ih.prototype.toString=function(){return""},Ih.prototype.unbind=function(){if(this.resolvers&&this.resolvers.forEach(Ce),!this.element.attributes.unbinding){var t=this.options&&this.options.template&&this.options.template.v;"t0"!==t&&"t1"!==t||(this.element._introTransition=null),"t0"!==t&&"t2"!==t||(this.element._outroTransition=null)}},Ih.prototype.unregisterCompleteHandler=function(t){ft(this.onComplete,t)},Ih.prototype.unrender=function(){},Ih.prototype.update=function(){};var Rh,Nh,jh={};try{c("table").innerHTML="foo"}catch(t){Rh=!0,Nh={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}function Bh(t){return jh[t]||(jh[t]=c(t))}var Ph=function(t){function e(e){t.call(this,e)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.detach=function(){var t=E();return this.nodes.forEach(function(e){return t.appendChild(e)}),t},e.prototype.find=function(t){var e,n=this.nodes.length;for(e=0;e<n;e+=1){var r=this.nodes[e];if(1===r.nodeType){if(h(r,t))return r;var i=r.querySelector(t);if(i)return i}}return null},e.prototype.findAll=function(t,e){var n,r=this.nodes.length;for(n=0;n<r;n+=1){var i=this.nodes[n];if(1===i.nodeType){e.test(i)&&e.add(i);var o=i.querySelectorAll(t);if(o){var s,a=o.length;for(s=0;s<a;s+=1)e.add(o[s])}}}},e.prototype.findComponent=function(){return null},e.prototype.firstNode=function(){return this.nodes[0]},e.prototype.render=function(t){var e=this.model?this.model.get():"";this.nodes=function(t,e,n){var r,i,o,s,a,u=[];if(null==t||""===t)return u;for(Rh&&(i=Nh[e.tagName])?((r=Bh("DIV")).innerHTML=i[0]+t+i[1],"SELECT"===(r=r.querySelector(".x")).tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===x?((r=Bh("DIV")).innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):"TEXTAREA"===e.tagName?void 0!==(r=c("div")).textContent?r.textContent=t:r.innerHTML=t:((r=Bh(e.tagName)).innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1);return u}(e,this.parentFragment.findParentNode(),t),this.rendered=!0},e.prototype.toString=function(){var t=this.model&&this.model.get();return t=null!=t?""+t:"",mu?$i(t):t},e.prototype.unrender=function(){this.nodes&&this.nodes.forEach(function(t){return k(t)}),this.rendered=!1},e.prototype.update=function(){if(this.rendered&&this.dirty){this.dirty=!1,this.unrender();var t=E();this.render(t);var e=this.parentFragment.findParentNode(),n=this.parentFragment.findNextNode(this);e.insertBefore(t,n)}else this.dirty=!1},e}(Uc),Mh=function(t){function e(e){t.call(this,e),this.container=e.parentFragment.ractive,this.component=this.container.component,this.containerFragment=e.parentFragment,this.parentFragment=this.component.parentFragment,this.name=e.template.n||""}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this.name;(this.component.yielders[t]||(this.component.yielders[t]=[])).push(this);var e=this.container._inlinePartials[t||"content"];"string"==typeof e&&(e=sa(e).t),e||(X('Could not find template for partial "'+t+'"',{ractive:this.ractive}),e=[]),this.fragment=new qh({owner:this,ractive:this.container.parent,template:e}).bind()},e.prototype.bubble=function(){this.dirty||(this.containerFragment.bubble(),this.dirty=!0)},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return this.containerFragment.findNextNode(this)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.render=function(t,e){return this.fragment.render(t,e)},e.prototype.setTemplate=function(t){var e=this.parentFragment.ractive.partials[t];"string"==typeof e&&(e=sa(e).t),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){this.fragment.unbind(),ft(this.component.yielders[this.name],this)},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){this.dirty=!1,this.fragment.update()},e}(La);var Lh={};Lh[oi]=Ka,Lh[ii]=lc,Lh[Wr]=Vc,Lh[Xr]=Yc,Lh[Hr]=Xc,Lh[Kr]=Ph,Lh[ni]=Mh,Lh[Jr]=vu,Lh[Ri]=yu,Lh[Fi]=hc,Lh[Oi]=oc,Lh[Ii]=Ih;var Dh={doctype:lc,form:Lc,input:qc,option:Kc,select:Zc,textarea:Jc};function zh(t){if("string"==typeof t.template)return new th(t);if(t.template.t===Gr){var e=function t(e,n){var r,i=nt("components",e,n);if(i&&!(r=i.components[n])._Parent){var o=r.bind(i);if(o.isOwner=i.components.hasOwnProperty(n),!(r=o()))return void X(J,n,"component","component",{ractive:e});"string"==typeof r&&(r=t(e,r)),r._fn=o,i.components[n]=r}return r}(t.parentFragment.ractive,t.template.e);if(e)return new uc(t,e);var n=t.template.e.toLowerCase();return new(Dh[n]||Pc)(t)}var r;if(t.template.t===Jr){var i=t.owner;(!i||i.type!==ei&&i.type!==Gr)&&(i=Ha(t.parentFragment)),t.element=i,r=i.type===ei?Wc:vu}else r=Lh[t.template.t];if(!r)throw new Error("Unrecognised item type "+t.template.t);return new r(t)}function Uh(t,e,n,r){return void 0===r&&(r=0),t.map(function(t){if(t.type===qr)return t.template;if(t.fragment)return t.fragment.iterations?t.fragment.iterations.map(function(t){return Uh(t.items,e,n,r)}).join(""):Uh(t.fragment.items,e,n,r);var i=n+"-"+r++,o=t.model||t.newModel;return e[i]=o?o.wrapper?o.wrapperValue:o.get():void 0,"${"+i+"}"}).join("")}function Vh(t){t.unrender(!0)}var qh=function(t){this.owner=t.owner,this.isRoot=!t.owner.parentFragment,this.parent=this.isRoot?null:this.owner.parentFragment,this.ractive=t.ractive||(this.isRoot?t.owner:this.parent.ractive),this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.parentFragment:null,this.context=null,this.rendered=!1,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.resolvers=[],this.dirty=!1,this.dirtyArgs=this.dirtyValue=!0,this.template=t.template||[],this.createItems()};qh.prototype.bind=function(t){return this.context=t,this.items.forEach(fe),this.bound=!0,this.dirty&&this.update(),this},qh.prototype.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,this.dirty||(this.dirty=!0,this.isRoot?this.ractive.component?this.ractive.component.bubble():this.bound&&At.addFragment(this):this.owner.bubble())},qh.prototype.createItems=function(){var t=this.template.length;this.items=[];for(var e=0;e<t;e++)this.items[e]=zh({parentFragment:this,template:this.template[e],index:e})},qh.prototype.destroyed=function(){this.items.forEach(function(t){return t.destroyed()})},qh.prototype.detach=function(){var t=E();return this.items.forEach(function(e){return t.appendChild(e.detach())}),t},qh.prototype.find=function(t){var e,n=this.items.length;for(e=0;e<n;e+=1){var r=this.items[e].find(t);if(r)return r}},qh.prototype.findAll=function(t,e){if(this.items){var n,r=this.items.length;for(n=0;n<r;n+=1){var i=this.items[n];i.findAll&&i.findAll(t,e)}}return e},qh.prototype.findComponent=function(t){var e,n=this.items.length;for(e=0;e<n;e+=1){var r=this.items[e].findComponent(t);if(r)return r}},qh.prototype.findAllComponents=function(t,e){if(this.items){var n,r=this.items.length;for(n=0;n<r;n+=1){var i=this.items[n];i.findAllComponents&&i.findAllComponents(t,e)}}return e},qh.prototype.findContext=function(){for(var t=this;t&&!t.context;)t=t.parent;return t?t.context:this.ractive.viewmodel},qh.prototype.findNextNode=function(t){if(t)for(var e=t.index+1;e<this.items.length;e++)if(this.items[e]){var n=this.items[e].firstNode(!0);if(n)return n}return this.isRoot?this.ractive.component?this.ractive.component.parentFragment.findNextNode(this.ractive.component):null:this.parent?this.owner.findNextNode(this):void 0},qh.prototype.findParentNode=function(){var t=this;do{if(t.owner.type===Gr)return t.owner.node;if(t.isRoot&&!t.ractive.component)return t.ractive.el;t=t.owner.type===ni?t.owner.containerFragment:t.componentParent||t.parent}while(t);throw new Error("Could not find parent node")},qh.prototype.findRepeatingFragment=function(){for(var t=this;(t.parent||t.componentParent)&&!t.isIteration;)t=t.parent||t.componentParent;return t},qh.prototype.firstNode=function(t){for(var e,n=0;n<this.items.length;n++)if(e=this.items[n].firstNode(!0))return e;return t?null:this.parent.findNextNode(this.owner)},qh.prototype.getArgsList=function(){if(this.dirtyArgs){var t={},e=Ho("["+Uh(this.items,t,this.ractive._guid)+"]",t);this.argsList=e?e.value:[this.toString()],this.dirtyArgs=!1}return this.argsList},qh.prototype.rebinding=function(t){this.context=t},qh.prototype.render=function(t,e){if(this.rendered)throw new Error("Fragment is already rendered!");this.rendered=!0,this.items.forEach(function(n){return n.render(t,e)})},qh.prototype.resetTemplate=function(t){var e=this.bound,n=this.rendered;if(e&&(n&&this.unrender(!0),this.unbind()),this.template=t,this.createItems(),e&&(this.bind(this.context),n)){var r=this.findParentNode(),i=this.findNextNode();if(i){var o=E();this.render(o),r.insertBefore(o,i)}else this.render(r)}},qh.prototype.resolve=function(t,e){if(!this.context&&this.parent.resolve)return this.parent.resolve(t,e);var n=new $n(this,t,e);return this.resolvers.push(n),n},qh.prototype.shuffled=function(){this.items.forEach(function(t){return t.shuffled()})},qh.prototype.toHtml=function(){return this.toString()},qh.prototype.toString=function(t){return this.items.map(t?Te:Ae).join("")},qh.prototype.unbind=function(){return this.items.forEach(Ce),this.resolvers.forEach(Ce),this.bound=!1,this},qh.prototype.unrender=function(t){this.items.forEach(t?Vh:Ee),this.rendered=!1},qh.prototype.update=function(){this.dirty&&(this.updating?this.isRoot&&At.addFragmentToRoot(this):(this.dirty=!1,this.updating=!0,this.items.forEach(ke),this.updating=!1))},qh.prototype.valueOf=function(){if(1===this.items.length)return this.items[0].valueOf();if(this.dirtyValue){var t={},e=Ho(Uh(this.items,t,this.ractive._guid),t);this.value=e?e.value:this.toString(),this.dirtyValue=!1}return this.value};var Wh=tn("reverse").path;var Kh=tn("shift").path,Hh=tn("sort").path,Yh=tn("splice").path;var $h=new ut("teardown");function Gh(){var t=[this.cssId].concat(this.findAllComponents().map(function(t){return t.cssId}));return hr(Object.keys(t.reduce(function(t,e){return t[e]=!0,t},{})))}function Xh(){return this.fragment.toString(!0)}var Qh=new ut("unrender");var Zh={add:function(t,e){return qt(this,t,void 0===e?1:+e)},animate:function(t,e,n){if("object"==typeof t){var r=Object.keys(t);throw new Error("ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  "+r.map(function(e){return"'"+e+"': "+t[e]}).join("\n  ")+"\n}, {...}), do\n\n"+r.map(function(e){return"ractive.animate('"+e+"', "+t[e]+", {...});"}).join("\n")+"\n")}return Ht(this,this.viewmodel.joinAll(jt(t)),e,n)},detach:function(){return this.isDetached?this.el:(this.el&&ft(this.el.__ractive_instances__,this),this.el=this.fragment.detach(),this.isDetached=!0,Yt.fire(this),this.el)},find:function(t){if(!this.el)throw new Error("Cannot call ractive.find('"+t+"') unless instance is rendered to the DOM");return this.fragment.find(t)},findAll:function(t,e){if(!this.el)throw new Error("Cannot call ractive.findAll('"+t+"', ...) unless instance is rendered to the DOM");e=e||{};var n=this._liveQueries,r=n[t];return r?e&&e.live?r:r.slice():((r=new Zt(this,t,!!e.live,!1)).live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r.init(),r.result)},findAllComponents:function(t,e){e=e||{};var n=this._liveComponentQueries,r=n[t];return r?e&&e.live?r:r.slice():((r=new Zt(this,t,!!e.live,!0)).live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r.init(),r.result)},findComponent:function(t){return this.fragment.findComponent(t)},findContainer:function(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null},findParent:function(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null},fire:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ne(this,t,{args:e})},get:function(t,e){if("string"!=typeof t)return this.viewmodel.get(!0,t);var n,r=jt(t),i=r[0];return this.viewmodel.has(i)||this.component&&!this.isolated&&(n=Xe(this.component.parentFragment,i))&&this.viewmodel.map(i,n),(n=this.viewmodel.joinAll(r)).get(!0,e)},getNodeInfo:function(t){return"string"==typeof t&&(t=this.find(t)),Hn(t)},insert:function(t,e){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=_(t),e=_(e)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),e),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.isDetached=!1,function t(e){Yn.fire(e),e.findAllComponents("*").forEach(function(e){t(e.instance)})}(this)},link:function(t,e){if(e===t||0===(t+".").indexOf(e+".")||0===(e+".").indexOf(t+"."))throw new Error("A keypath cannot be linked to itself.");var n,r=At.start(),i=jt(t);return!this.viewmodel.has(i[0])&&this.component&&(n=(n=Xe(this.component.parentFragment,i[0])).joinAll(i.slice(1))),this.viewmodel.joinAll(jt(e)).link(n||this.viewmodel.joinAll(i),t),At.end(),r},merge:function(t,e,n){return nn(this,this.viewmodel.joinAll(jt(t)),e,n)},observe:function(t,e,n){var r=this;if(this.torndown)return{cancel:function(){}};var i,o,s=[];return z(t)?(i=t,n=e||{},Object.keys(i).forEach(function(t){var e=i[t],o=t.split(" ");o.length>1&&(o=o.filter(function(t){return t})),o.forEach(function(t){s.push(Gn(r,t,e,n))})})):("function"==typeof t?(n=e,e=t,o=[""]):o=t.split(" "),o.length>1&&(o=o.filter(function(t){return t})),o.forEach(function(t){s.push(Gn(r,t,e,n||{}))})),this._observers.push.apply(this._observers,s),{cancel:function(){s.forEach(function(t){ft(r._observers,t),t.cancel()})}}},observeList:function(t,e,n){if("string"!=typeof t)throw new Error("ractive.observeList() must be passed a string as its first argument");var r=this.viewmodel.joinAll(jt(t)),i=new Jn(this,r,e,n||{});return this._observers.push(i),{cancel:function(){i.cancel()}}},observeOnce:function(t,e,n){return z(t)||"function"==typeof t?(n=j(e||{},tr),this.observe(t,n)):(n=j(n||{},tr),this.observe(t,e,n))},off:function(t,e){var n=this;if(t)t.split(" ").map(er).filter(nr).forEach(function(t){var r=n._subs[t];if(r)if(e)for(var i=r.length;i--;)r[i].callback===e&&(r[i].off=!0,r.splice(i,1));else n._subs[t]=[]});else for(t in this._subs)delete this._subs[t];return this},on:function(t,e){var n=this;if("object"==typeof t){var r,i=[];for(r in t)t.hasOwnProperty(r)&&i.push(this.on(r,t[r]));return{cancel:function(){i.forEach(function(t){return t.cancel()})}}}var o=t.split(" ").map(er).filter(nr);return o.forEach(function(t){(n._subs[t]||(n._subs[t]=[])).push({callback:e})}),{cancel:function(){return o.forEach(function(t){return n.off(t,e)})}}},once:function(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n},pop:rr,push:ir,render:function(t,e){if(this.torndown)return X("ractive.render() was called on a Ractive instance that was already torn down"),Promise.resolve();if(t=_(t)||this.el,!this.append&&t){var n=t.__ractive_instances__;n&&n.forEach(xe),this.enhance||(t.innerHTML="")}var r=this.enhance?dt(t.childNodes):null,i=fr(this,t,e,r);if(r)for(;r.length;)t.removeChild(r.pop());return i},reset:function(t){if("object"!=typeof(t=t||{}))throw new Error("The reset method takes either no arguments, or an object containing new data");t=Sr.init(this.constructor,this,{data:t});var e=At.start(this,!0),n=this.viewmodel.wrapper;n&&n.reset?!1===n.reset(t)&&this.viewmodel.set(t):this.viewmodel.set(t);for(var r,i=Oa.reset(this),o=i.length;o--;)if(Ra.indexOf(i[o])>-1){r=!0;break}return r&&(Pa.fire(this),this.fragment.resetTemplate(this.template),Ba.fire(this),Na.fire(this)),At.end(),ja.fire(this,t),e},resetPartial:function(t,e){var n=[];!function t(e,n,r,i){e.forEach(function(e){if(e.type===Xr&&(e.refName===n||e.name===n))return e.inAttribute=r,void i.push(e);if(e.fragment)t(e.fragment.iterations||e.fragment.items,n,r,i);else if(M(e.items))t(e.items,n,r,i);else if(e.type===ei&&e.instance){if(e.instance.partials[n])return;t(e.instance.fragment.items,n,r,i)}e.type===Gr&&M(e.attributes)&&t(e.attributes,n,!0,i)})}(this.fragment.items,t,!1,n);var r=At.start(this,!0);return this.partials[t]=e,n.forEach(Ma),At.end(),r},resetTemplate:function(t){ga.init(null,this,{template:t});var e=this.transitionsEnabled;this.transitionsEnabled=!1;var n=this.component;n&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind().unrender(!0),this.fragment=new qh({template:this.template,root:this,owner:this});var r=E();this.fragment.bind(this.viewmodel).render(r),n?this.fragment.findParentNode().insertBefore(r,n.findNextNode()):this.el.insertBefore(r,this.anchor),this.transitionsEnabled=e},reverse:Wh,set:function(t,e){return Lt(this,Ut(this,t,e))},shift:Kh,sort:Hh,splice:Yh,subtract:function(t,e){return qt(this,t,void 0===e?-1:-e)},teardown:function(){if(this.torndown)return X("ractive.teardown() was called on a Ractive instance that was already torn down"),yt.resolve();this.torndown=!0,this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(de),this.fragment.rendered&&this.el.__ractive_instances__&&ft(this.el.__ractive_instances__,this),this.shouldDestroy=!0;var t=this.fragment.rendered?this.unrender():yt.resolve();return $h.fire(this),t},toggle:function(t){if("string"!=typeof t)throw new TypeError(Z);return Lt(this,zt(this,t).map(function(t){return[t,!t.get()]}))},toCSS:Gh,toCss:Gh,toHTML:Xh,toHtml:Xh,toText:function(){return this.fragment.toString(!1)},transition:function(t,e,n){e instanceof HTMLElement||z(e)&&(n=e),(e=e||this.event.node)&&e._ractive||$("No node was supplied for transition "+t),n=n||{};var r=e._ractive.proxy,i=new Ih({owner:r,parentFragment:r.parentFragment,name:t,params:n});i.bind();var o=At.start(this,!0);return At.registerTransition(i),At.end(),o.then(function(){return i.unbind()}),o},unlink:function(t){var e=At.start();return this.viewmodel.joinAll(jt(t),{lastLink:!1}).unlink(),At.end(),e},unrender:function(){if(!this.fragment.rendered)return X("ractive.unrender() was called on a Ractive instance that was not rendered"),yt.resolve();var t=At.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;return this.fragment.unrender(e),ft(this.el.__ractive_instances__,this),Qh.fire(this),At.end(),t},unshift:tn("unshift").path,update:function(t){return t&&(t=jt(t)),on(this,t?this.viewmodel.joinAll(t):this.viewmodel)},updateModel:function(t,e){var n=At.start(this,!0);return t?this.viewmodel.joinAll(jt(t)).updateFromBindings(!1!==e):this.viewmodel.updateFromBindings(!0),At.end(),n}};function Jh(t,e){wa.forEach(function(n){!function(t,e,n){var r,i=Object.keys(t[n]);if(!i.length)return;(r=e[n])||(r=e[n]={});i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]})}(n.useDefaults?t.prototype:t,e,n.name)})}function tl(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r,i,o,s=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof s&&e[n]._method){var a,u=s._method;u&&(s=s._method),r=e[n]._method,i=s,a=o||function(t,e){return"function"==typeof e&&/_super/.test(t)}(r,i)?function(){var t,e="_super"in this,n=this._super;return this._super=i,t=r.apply(this,arguments),e&&(this._super=n),t}:r,u&&(a._method=a),e[n]=a}}else e[n]=s._method?s._method:s}})}function el(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.length?t.reduce(nl,this):nl(this)}function nl(t,e){var n,r;return void 0===e&&(e={}),e.prototype instanceof rl&&(e=function(t){for(var e={};t;)Jh(t,e),tl(t,e),t=t._Parent!==rl&&t._Parent;return e}(e)),n=function(t){if(!(this instanceof n))return new n(t);Yu(this,t||{}),Ju(this,t||{},{})},(r=S(t.prototype)).constructor=n,F(n,{defaults:{value:r},extend:{value:el,writable:!0,configurable:!0},_Parent:{value:t}}),Oa.extend(t,r,e),Sr.extend(t,r,e),e.computed&&(r.computed=j(S(t.prototype.computed),e.computed)),n.prototype=r,n}if("function"!=typeof Date.now||"function"!=typeof String.prototype.trim||"function"!=typeof Object.keys||"function"!=typeof Array.prototype.indexOf||"function"!=typeof Array.prototype.forEach||"function"!=typeof Array.prototype.map||"function"!=typeof Array.prototype.filter||o&&"function"!=typeof o.addEventListener)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");function rl(t){if(!(this instanceof rl))return new rl(t);Yu(this,t||{}),Ju(this,t||{},{})}return j(rl.prototype,Zh,r),rl.prototype.constructor=rl,rl.defaults=rl.prototype,F(rl,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:el},escapeKey:{value:Rt},getNodeInfo:{value:Hn},joinKeys:{value:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.map(Rt).join(".")}},parse:{value:sa},splitKeypath:{value:function(t){return jt(t).map(Bt)}},unescapeKey:{value:Bt},getCSS:{value:hr},Promise:{value:yt},enhance:{writable:!0,value:!1},svg:{value:y},magic:{value:t},VERSION:{value:"0.8.14"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:i},events:{writable:!0,value:{}},interpolators:{writable:!0,value:st},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}}),rl},t.exports=r()}).call(e,n(1),n(0))},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(t){var r,i=n(53),o=n(22),s=n(59),a=n(60),u=n(61);t&&t.ArrayBuffer&&(r=n(62));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=c||h;e.protocol=3;var p=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(p),d={type:"error",data:"parser error"},g=n(63);function m(t,e,n){for(var r=new Array(t.length),i=a(t.length,n),o=function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===n.data?void 0:n.data.buffer||n.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=p[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(n,r,o);if(g&&s instanceof t.Blob)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(l)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=p[t.type];var o=new g([i.buffer,t.data]);return r(o)}(n,r,o);if(s&&s.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(n,o);var a=p[n.type];return void 0!==n.data&&(a+=i?u.encode(String(n.data),{strict:!1}):String(n.data)),o(""+a)},e.encodeBase64Packet=function(n,r){var i,o="b"+e.packets[n.type];if(g&&n.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];r(o+t)},s.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var a=new Uint8Array(n.data),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a[c];i=String.fromCharCode.apply(null,u)}return o+=t.btoa(i),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&f[i]?t.length>1?{type:f[i],data:t.substring(1)}:{type:f[i]}:d}i=new Uint8Array(t)[0];var o=s(t,1);return g&&"blob"===n&&(o=new g([o])),{type:f[i],data:o}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&g&&(i=new g([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return g&&!l?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,function(t,r){e.encodePacket(t,!!i&&n,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var o,s,a="",u=0,c=t.length;u<c;u++){var h=t.charAt(u);if(":"===h){if(""===a||a!=(o=Number(a)))return r(d,0,1);if(a!=(s=t.substr(u+1,o)).length)return r(d,0,1);if(s.length){if(i=e.decodePacket(s,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,u+o,c))return}u+=o,a=""}else a+=h}return""!==a?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var r=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)})},e.encodePayloadAsBlob=function(t,n){m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,g){var a=new g([e.buffer,s.buffer,t]);n(null,a)}})},function(t,e){return n(new g(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",h=1;255!==a[h];h++){if(c.length>310)return r(d,0,1);c+=a[h]}i=s(i,2+c.length),c=parseInt(c);var l=s(i,0,c);if(u)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var p=new Uint8Array(l);l="";for(h=0;h<p.length;h++)l+=String.fromCharCode(p[h])}o.push(l),i=s(i,c)}var f=o.length;o.forEach(function(t,i){r(e.decodePacket(t,n,!0),i,f)})}}).call(e,n(0))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],h=!1,l=-1;function p(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&f())}function f(){if(!h){var t=a(p);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||h||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(45)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(1),n(6))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(64)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(1),n(6))},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(u=t,o,"day")||a(u,i,"hour")||a(u,r,"minute")||a(u,n,"second")||u+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(46)("socket.io-parser"),i=n(3),o=n(48),s=n(17),a=n(18);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=l;var c=e.ERROR+'"encode error"';function h(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",t,n),n}function l(){this.reconstructor=null}function p(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var n=o.deconstructPacket(t),r=h(n.packet),i=n.buffers;i.unshift(r),e(i)})}(t,n):n([h(t)])},i(l.prototype),l.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return f("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){var a=t.charAt(n);if(","===a)break;if(i.nsp+=a,n===t.length)break}else i.nsp="/";var u=t.charAt(n+1);if(""!==u&&Number(u)==u){for(i.id="";++n;){var a=t.charAt(n);if(null==a||Number(a)!=a){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),h=!1!==c&&(i.type===e.ERROR||s(c));if(!h)return f("invalid payload");i.data=c}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){(function(e){var r=n(51);t.exports=function(t){var n=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,n(0))},function(t,e,n){var r=n(4),i=n(3);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){(function(t,r,i){var o=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])m(a)||!x(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(n,o){if(b(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return function(){if(!s){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?i.trace(o):i.error(o),s=!0}return n.apply(this,arguments)}};var s,a={};function u(t,n){var r={seen:[],stylize:h};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function h(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=l(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(_(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return p(n)}var c,h="",x=!1,k=["{","}"];(d(n)&&(x=!0,k=["[","]"]),_(n))&&(h=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(h=" "+RegExp.prototype.toString.call(n)),C(n)&&(h=" "+Date.prototype.toUTCString.call(n)),E(n)&&(h=" "+p(n)),0!==s.length||x&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=x?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)S(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return f(t,n,r,a,e,x)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,h,k)):k[0]+h+k[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),S(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function w(t){return x(t)&&"[object RegExp]"===k(t)}function x(t){return"object"==typeof t&&null!==t}function C(t){return x(t)&&"[object Date]"===k(t)}function E(t){return x(t)&&("[object Error]"===k(t)||t instanceof Error)}function _(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(s)&&(s=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(s)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);i.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=w,e.isObject=x,e.isDate=C,e.isError=E,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(29);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;i.log("%s - %s",(t=new Date,n=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(30),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(0),n(6),n(1))},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},u=14;u--;)a[r[u]]=s[u]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.Buffer.isBuffer(t)||r&&(t instanceof e.ArrayBuffer||i(t))};var n="function"==typeof e.Buffer&&"function"==typeof e.Buffer.isBuffer,r="function"==typeof e.ArrayBuffer,i=r&&"function"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(e,n(0))},function(t,e,n){var r=n(49),i=n(25),o=n(3),s=n(12),a=n(26),u=n(27),c=n(7)("socket.io-client:manager"),h=n(24),l=n(69),p=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),t&&t()}),s=a(n,"error",function(e){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var h=setTimeout(function(){c("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(o),this.subs.push(s),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",u(this,"ondata"))),this.subs.push(a(t,"ping",u(this,"onping"))),this.subs.push(a(t,"pong",u(this,"onpong"))),this.subs.push(a(t,"error",u(this,"onerror"))),this.subs.push(a(t,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&o()}function o(){~h(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=h(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){var r=n(13),i=n(52),o=n(65),s=n(66);e.polling=function(e){var n=!1,s=!1,a=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),n=e.hostname!==location.hostname||c!==e.port,s=e.secure!==u}if(e.xdomain=n,e.xscheme=s,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},e.websocket=s}).call(e,n(0))},function(t,e,n){var r=n(14),i=n(8),o=n(4),s=n(9),a=n(23),u=n(10)("engine.io-client:polling");t.exports=h;var c=null!=new(n(13))({xdomain:!1}).responseType;function h(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}s(h,r),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||n()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||n()}))}else n()},h.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(t){var e=this;u("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},h.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(58),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(t(n[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(e,n(54).Buffer)},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,u=0;function c(t){var e="";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function h(){var t=c(+new Date);return t!==r?(a=0,r=t):t+"."+c(a++)}for(;u<o;u++)s[i[u]]=u;h.encode=c,h.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*o+s[t.charAt(u)];return e},t.exports=h},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(12),i=n(3),o=n(68),s=n(26),a=n(27),u=n(7)("socket.io-client:socket"),c=n(8),h=n(22);t.exports=f;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},f.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(l.hasOwnProperty(t))return p.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},f.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i),e.packet({type:h(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){(function(t){var e=n(2);window.Ractive=e,window.rt=n(33);var r=n(35),i=n(36);window.timeago=i;var o=n(37);async function s(){var e=await db.getItem("company_id");ractive.set("company_id",e);var n=await db.getItem("setings");ractive.set("setings",n);var r=await db.getItem("rows");ractive.set("rows",r);var i=await db.getItem("ts");ractive.set("ts",i),t.log(ractive.get())}async function a(){t.log("onDeviceReady");var r=n(42);window.localforage=r;var i=r.createInstance();await i.ready(),window.db=i;var o=new e.components.Root({el:"body",append:!1});window.ractive=o;var a=await i.getItem("company_id"),u=n(43).connect("http://194.32.76.34/webclient");window.socket=u,u.on("connect",function(){t.log("connection, sending company_id",a),u.emit("company_id",a)}),u.on("msg",function(e){t.log(e)}),u.on("setings",async function(e){t.log("setings",e),await i.setItem("setings",e);var n=o.get("selectedModule");o.set("setings",e),n&&o.set("selectedModule",null).then(function(){o.set("selectedModule",n)})}),u.on("set_rows",async function(e,n){t.log("set_rows",e,n),o.set("rows."+e,n);var r=await i.getItem("rows");r||(r={}),r[e]=n,await i.setItem("rows",r);var s=new Date;o.set("ts."+e,s);var a=await i.getItem("ts");a||(a={}),a[e]=s,await i.setItem("ts",a)}),document.addEventListener("backbutton",function(){if(o.get("QRScannerActive"))return o.set("QRScannerActive",!1),void QRScanner.destroy();o.get("selectedModule")?o.set("selectedModule",null):navigator.app.exitApp()},!1),s()}window.izitoast=o,o.settings({progressBar:!1}),e.prototype.unset=function(t){var e=t.lastIndexOf("."),n=t.substr(0,e),r=t.substring(e+1);return this.set(t),delete this.get(n)[r],this.update(t)},e.defaults.data.formatNumber=function(t){return r.formatNumber(t,2," ")},e.defaults.data.timeago=i().format,e.components.Root=n(38),e.components.f2table=n(39),e.components.Grid=n(40),e.components.settings=n(41),document.addEventListener("deviceready",a,!1),window.cordova||a()}).call(e,n(1))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(15),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function h(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var l=t.exports=v,p=/\s*function\s+([^\(\s]*)\s*/;function f(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(p);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(u||!o.isFunction(t))return o.inspect(t);var e=f(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,n,r,i){throw new l.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function v(t,e){t||m(t,!0,e,"==",l.ok)}function y(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(h(t)&&h(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),s=b(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),y(t,e,n);var u,c,h=C(t),l=C(e);if(h.length!==l.length)return!1;for(h.sort(),l.sort(),c=h.length-1;c>=0;c--)if(h[c]!==l[c])return!1;for(c=h.length-1;c>=0;c--)if(u=h[c],!y(t[u],e[u],n,r))return!1;return!0}(t,e,n,s))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&m(i,n,"Missing expected exception"+r);var s="string"==typeof r,a=!t&&o.isError(i),u=!t&&i&&!n;if((a&&s&&w(i,n)||u)&&m(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}l.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(g((e=this).actual),128)+" "+e.operator+" "+d(g(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=f(n),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(l.AssertionError,Error),l.fail=m,l.ok=v,l.equal=function(t,e,n){t!=e&&m(t,e,n,"==",l.equal)},l.notEqual=function(t,e,n){t==e&&m(t,e,n,"!=",l.notEqual)},l.deepEqual=function(t,e,n){y(t,e,!1)||m(t,e,n,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(t,e,n){y(t,e,!0)||m(t,e,n,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(t,e,n){y(t,e,!1)&&m(t,e,n,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function t(e,n,r){y(e,n,!0)&&m(e,n,r,"notDeepStrictEqual",t)},l.strictEqual=function(t,e,n){t!==e&&m(t,e,n,"===",l.strictEqual)},l.notStrictEqual=function(t,e,n){t===e&&m(t,e,n,"!==",l.notStrictEqual)},l.throws=function(t,e,n){x(!0,t,e,n)},l.doesNotThrow=function(t,e,n){x(!1,t,e,n)},l.ifError=function(t){if(t)throw t};var C=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(e,n(0))},function(t,e){t.exports=function(){return(new Date).getTime()}},function(t,e,n){var r,i,o,s;s=function(t,e){var n,r={tap:{recognizerClass:e.Tap,options:{time:500},events:["tap"]},doubletap:{recognizerClass:e.Tap,options:{taps:2,event:"doubletap"},recognizeWith:["tap"],events:["doubletap"]},swipe:{recognizerClass:e.Swipe,options:{},events:["swipe","swipeleft","swiperight","swipeup","swipedown"]},pan:{recognizerClass:e.Pan,options:{direction:e.DIRECTION_HORIZONTAL},recognizeWith:["swipe"],events:["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown"]},press:{recognizerClass:e.Press,options:{},events:["press"]},rotate:{recognizerClass:e.Rotate,options:{},events:["rotate","rotatestart","rotatemove","rotateend","rotatecancel"]},pinch:{recognizerClass:e.Pinch,options:{},recognizeWith:["rotate"],events:["pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout"]}};for(var i in r)if(r.hasOwnProperty(i))for(var o=r[i].events,s=0;s<o.length;s++)a(o[s],i,r[i]);function a(e,n,i){t.events[e]=function(t,e,n){return function(i,o){var s=c(i),a=null!==s.get(e);if(!a){var h=new n.recognizerClass(n.options),l=function(t,e){for(var n,r=t.attributes,i=new RegExp("^(?:data-)?"+e+"-(.*)$"),o=r.length-1;o>=0;o--){var s=r[o],a=s.name.match(i);a&&(n||(n={}),n[a[1]]=u(s.value,a[1]))}return n}(i,e);l&&h.set(l),s.add(h),function(t){for(var e=0;e<t.recognizers.length;e++){var n=t.recognizers[e],i=n.options.event;if(r[i].hasOwnProperty("recognizeWith"))for(var o=r[i].recognizeWith,s=0;s<o.length;s++)t.get(o[s])&&n.recognizeWith(o[s])}}(s)}return s.on(t,function(t){o({node:i,original:t})}),{teardown:function(){c(i).destroy(),delete i._hammer}}}}(e,n,i)}function u(t,e){return t.match&&t.match(/^-?\d+(?:\.\d+)?$/)?+t:n[e]&&n[e][t]||n.all[t]||t}function c(t){return t._hammer?t._hammer:(t._hammer=new e.Manager(t,{recognizers:[]}),t._hammer)}return n={all:{true:!0,false:!1,undefined:void 0,null:null},direction:{none:e.DIRECTION_NONE,all:e.DIRECTION_ALL,up:e.DIRECTION_UP,down:e.DIRECTION_DOWN,left:e.DIRECTION_LEFT,right:e.DIRECTION_RIGHT,horizontal:e.DIRECTION_HORIZONTAL,vertical:e.DIRECTION_VERTICAL}},{defaults:r}},i=[n(2),n(34)],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r;!function(i,o,s,a){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],h=o.createElement("div"),l="function",p=Math.round,f=Math.abs,d=Date.now;function g(t,e,n){return setTimeout(C(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=y(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===a)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),w=y(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function x(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==l?t.apply(e&&e[0]||a,e):t}function _(t,e){return t===a?e:t}function k(t,e,n){v(O(e),function(e){t.addEventListener(e,n,!1)})}function A(t,e,n){v(O(e),function(e){t.removeEventListener(e,n,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function F(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];F(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function N(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return a}var j=1;function B(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var P="ontouchstart"in i,M=N(i,"PointerEvent")!==a,L=P&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D=25,z=1,U=2,V=4,q=8,W=1,K=2,H=4,Y=8,$=16,G=K|H,X=Y|$,Q=G|X,Z=["x","y"],J=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&z&&r-i==0,s=e&(V|q)&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e));i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,u=s?s.center:o.center,c=e.center=rt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(u,c),e.distance=st(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==z&&o.eventType!==V||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var h=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=s?(l=s.pointers,p=r,st(p[0],p[1],J)/st(l[0],l[1],J)):1,e.rotation=s?function(t,e){return at(e[1],e[0],J)+at(t[1],t[0],J)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=q&&(u>D||s.velocity===a)){var c=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,l=it(u,c,h);r=l.x,i=l.y,n=f(l.x)>f(l.y)?l.x:l.y,o=ot(c,h),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l,p;var g=t.element;T(e.srcEvent.target,g)&&(g=e.srcEvent.target);e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:p(n/e),y:p(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?W:f(t)>=f(e)?t<0?K:H:e<0?Y:$}function st(t,e,n){n||(n=Z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function at(t,e,n){n||(n=Z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(B(this.element),this.evWin,this.domHandler)}};var ut={mousedown:z,mousemove:U,mouseup:V},ct="mousedown",ht="mousemove mouseup";function lt(){this.evEl=ct,this.evWin=ht,this.pressed=!1,tt.apply(this,arguments)}x(lt,tt,{handler:function(t){var e=ut[t.type];e&z&&0===t.button&&(this.pressed=!0),e&U&&1!==t.which&&(e=V),this.pressed&&(e&V&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var pt={pointerdown:z,pointermove:U,pointerup:V,pointercancel:q,pointerout:q},ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},dt="pointerdown",gt="pointermove pointerup pointercancel";function mt(){this.evEl=dt,this.evWin=gt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(dt="MSPointerDown",gt="MSPointerMove MSPointerUp MSPointerCancel"),x(mt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=pt[r],o=ft[t.pointerType]||t.pointerType,s="touch"==o,a=F(e,t.pointerId,"pointerId");i&z&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):i&(V|q)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var vt={touchstart:z,touchmove:U,touchend:V,touchcancel:q},yt="touchstart",bt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=yt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}x(wt,tt,{handler:function(t){var e=vt[t.type];if(e===z&&(this.started=!0),this.started){var n=function(t,e){var n=I(t.touches),r=I(t.changedTouches);e&(V|q)&&(n=R(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(V|q)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var xt={touchstart:z,touchmove:U,touchend:V,touchcancel:q},Ct="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=Ct,this.targetIds={},tt.apply(this,arguments)}x(Et,tt,{handler:function(t){var e=xt[t.type],n=function(t,e){var n=I(t.touches),r=this.targetIds;if(e&(z|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=I(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return T(t.target,u)}),e===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(V|q)&&delete r[s[i].identifier],i++;if(!a.length)return;return[R(o.concat(a),"identifier",!0),a]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var _t=2500,kt=25;function At(){tt.apply(this,arguments);var t=C(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new lt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Tt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},_t)}}x(At,tt,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&z?(this.primaryTouch=e.changedPointers[0].identifier,Tt.call(this,e)):t&(V|q)&&Tt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=kt&&s<=kt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var St=N(h.style,"touchAction"),Ot=St!==a,Ft="auto",It="manipulation",Rt="none",Nt="pan-x",jt="pan-y",Bt=function(){if(!Ot)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function Pt(t,e){this.manager=t,this.set(e)}Pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ot&&this.manager.element.style&&Bt[t]&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(S(t,Rt))return Rt;var e=S(t,Nt),n=S(t,jt);if(e&&n)return Rt;if(e||n)return e?Nt:jt;if(S(t,It))return It;return Ft}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=S(r,Rt)&&!Bt[Rt],o=S(r,jt)&&!Bt[jt],s=S(r,Nt)&&!Bt[Nt];if(i){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}if(!s||!o)return i||o&&n&G||s&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Mt=1,Lt=2,Dt=4,zt=8,Ut=zt,Vt=16;function qt(t){this.options=u({},this.defaults,t||{}),this.id=j++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Mt,this.simultaneous={},this.requireFail=[]}function Wt(t){return t&Vt?"cancel":t&zt?"end":t&Dt?"move":t&Lt?"start":""}function Kt(t){return t==$?"down":t==Y?"up":t==K?"left":t==H?"right":""}function Ht(t,e){var n=e.manager;return n?n.get(t):t}function Yt(){qt.apply(this,arguments)}function $t(){Yt.apply(this,arguments),this.pX=null,this.pY=null}function Gt(){Yt.apply(this,arguments)}function Xt(){qt.apply(this,arguments),this._timer=null,this._input=null}function Qt(){Yt.apply(this,arguments)}function Zt(){Yt.apply(this,arguments)}function Jt(){qt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=_(e.recognizers,te.defaults.preset),new ee(t,e)}qt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ht(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Ht(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===F(e,t=Ht(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Ht(t,this);var e=F(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<zt&&r(e.options.event+Wt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=zt&&r(e.options.event+Wt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Mt)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ut|Vt|32)&&(this.state=Mt),this.state=this.process(e),this.state&(Lt|Dt|zt|Vt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(Yt,qt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Lt|Dt),i=this.attrTest(t);return r&&(n&q||!i)?e|Vt:r||i?n&V?e|zt:e&Lt?e|Dt:Lt:32}}),x($t,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&G&&e.push(jt),t&X&&e.push(Nt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&G?(i=0===o?W:o<0?K:H,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?W:s<0?Y:$,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Yt.prototype.attrTest.call(this,t)&&(this.state&Lt||!(this.state&Lt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Kt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(Gt,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Lt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),x(Xt,qt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ft]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(V|q)&&!i)this.reset();else if(t.eventType&z)this.reset(),this._timer=g(function(){this.state=Ut,this.tryEmit()},e.time,this);else if(t.eventType&V)return Ut;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ut&&(t&&t.eventType&V?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),x(Qt,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Lt)}}),x(Zt,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:G|X,pointers:1},getTouchAction:function(){return $t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(G|X)?e=t.overallVelocity:n&G?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&V},emit:function(t){var e=Kt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(Jt,qt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[It]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=V)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Ut,this.tryEmit()},e.interval,this),Lt):Ut}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Qt,{enable:!1}],[Gt,{enable:!1},["rotate"]],[Zt,{direction:G}],[$t,{direction:G},["swipe"]],[Jt],[Jt,{event:"doubletap",taps:2},["tap"]],[Xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var n;this.options=u({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(M?mt:L?Et:P?At:lt))(n,et),this.touchAction=new Pt(this,this.options.touchAction),ne(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,function(i,o){n=N(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Ut)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Lt|Dt|zt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof qt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=F(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return v(O(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return v(O(t),function(t){e?n[t]&&n[t].splice(F(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(te,{INPUT_START:z,INPUT_MOVE:U,INPUT_END:V,INPUT_CANCEL:q,STATE_POSSIBLE:Mt,STATE_BEGAN:Lt,STATE_CHANGED:Dt,STATE_ENDED:zt,STATE_RECOGNIZED:Ut,STATE_CANCELLED:Vt,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:K,DIRECTION_RIGHT:H,DIRECTION_UP:Y,DIRECTION_DOWN:$,DIRECTION_HORIZONTAL:G,DIRECTION_VERTICAL:X,DIRECTION_ALL:Q,Manager:ee,Input:tt,TouchAction:Pt,TouchInput:Et,MouseInput:lt,PointerEventInput:mt,TouchMouseInput:At,SingleTouchInput:wt,Recognizer:qt,AttrRecognizer:Yt,Tap:Jt,Pan:$t,Swipe:Zt,Pinch:Gt,Rotate:Qt,Press:Xt,on:k,off:A,each:v,merge:w,extend:b,assign:u,inherit:x,bindFn:C,prefixed:N}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=te,(r=function(){return te}.call(e,n,e,t))===a||(t.exports=r)}(window,document)},function(t,e,n){!function(n,r){var i={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},o=Array.prototype.map,s=Array.isArray,a=Object.prototype.toString;function u(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function c(t){return s?s(t):"[object Array]"===a.call(t)}function h(t){return t&&"[object Object]"===a.call(t)}function l(t,e){var n;for(n in t=t||{},e=e||{})e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function p(t,e,n){var r,i,s=[];if(!t)return s;if(o&&t.map===o)return t.map(e,n);for(r=0,i=t.length;r<i;r++)s[r]=e.call(n,t[r],r,t);return s}function f(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function d(t){var e=i.settings.currency.format;return"function"==typeof t&&(t=t()),u(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:u(e)?i.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var g=i.unformat=i.parse=function(t,e){if(c(t))return p(t,function(t){return g(t,e)});if("number"==typeof(t=t||0))return t;e=e||i.settings.number.decimal;var n=new RegExp("[^0-9-"+e+"]",["g"]),r=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(r)?0:r},m=i.toFixed=function(t,e){e=f(e,i.settings.number.precision);var n=Math.pow(10,e);return(Math.round(i.unformat(t)*n)/n).toFixed(e)},v=i.formatNumber=i.format=function(t,e,n,r){if(c(t))return p(t,function(t){return v(t,e,n,r)});t=g(t);var o=l(h(e)?e:{precision:e,thousand:n,decimal:r},i.settings.number),s=f(o.precision),a=t<0?"-":"",u=parseInt(m(Math.abs(t||0),s),10)+"",d=u.length>3?u.length%3:0;return a+(d?u.substr(0,d)+o.thousand:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(s?o.decimal+m(Math.abs(t),s).split(".")[1]:"")},y=i.formatMoney=function(t,e,n,r,o,s){if(c(t))return p(t,function(t){return y(t,e,n,r,o,s)});t=g(t);var a=l(h(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),u=d(a.format);return(t>0?u.pos:t<0?u.neg:u.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(t),f(a.precision),a.thousand,a.decimal))};i.formatColumn=function(t,e,n,r,o,s){if(!t)return[];var a=l(h(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),m=d(a.format),y=m.pos.indexOf("%s")<m.pos.indexOf("%v"),b=0;return p(p(t,function(t,e){if(c(t))return i.formatColumn(t,a);var n=((t=g(t))>0?m.pos:t<0?m.neg:m.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(t),f(a.precision),a.thousand,a.decimal));return n.length>b&&(b=n.length),n}),function(t,e){return u(t)&&t.length<b?y?t.replace(a.symbol,a.symbol+new Array(b-t.length+1).join(" ")):new Array(b-t.length+1).join(" ")+t:t})},void 0!==t&&t.exports&&(e=t.exports=i),e.accounting=i}()},function(t,e){var n,r;n="undefined"!=typeof window?window:this,r=function(){function t(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(e(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(e(t))}function e(t){return parseInt(t)}function n(t,n,r){n=h[n]?n:h[r]?r:"en";for(var i=0,o=t<0?1:0,s=t=Math.abs(t);t>=l[i]&&i<p;i++)t/=l[i];return(t=e(t))>(0===(i*=2)?9:1)&&(i+=1),h[n](t,i,s)[o].replace("%s",t)}function r(e,n){return((n=n?t(n):new Date)-t(e))/1e3}function i(t){return o(t,"data-timeago")||o(t,"datetime")}function o(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0}function s(t,e){this.nowDate=t,this.defaultLocale=e||"en"}function a(t,e){return new s(t,e)}var u="second_minute_hour_day_week_month_year".split("_"),c="秒_分钟_小时_天_周_月_年".split("_"),h={en:function(t,e){if(0===e)return["just now","right now"];var n=u[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var n=c[parseInt(e/2)];return[t+n+"前",t+n+"后"]}},l=[60,60,24,7,365/7/12,12],p=6,f="data-tid",d={};return s.prototype.doRender=function(t,e,i){var o,s=r(e,this.nowDate),a=this;t.innerHTML=n(s,i,this.defaultLocale),d[o=setTimeout(function(){a.doRender(t,e,i),delete d[o]},Math.min(1e3*function(t){for(var e=1,n=0,r=Math.abs(t);t>=l[n]&&n<p;n++)t/=l[n],e*=l[n];return r=(r%=e)?e-r:e,Math.ceil(r)}(s),2147483647))]=0,function(t,e){t.setAttribute?t.setAttribute(f,e):t.attr&&t.attr(f,e)}(t,o)},s.prototype.format=function(t,e){return n(r(t,this.nowDate),e,this.defaultLocale)},s.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0,r=t.length;n<r;n++)this.doRender(t[n],i(t[n]),e)},s.prototype.setLocale=function(t){this.defaultLocale=t},a.register=function(t,e){h[t]=e},a.cancel=function(t){var e;if(t)(e=o(t,f))&&(clearTimeout(e),delete d[e]);else{for(e in d)clearTimeout(e);d={}}},a},"object"==typeof t&&t.exports?(t.exports=r(),t.exports.default=t.exports):n.timeago=r()},function(t,e,n){(function(n,r){var i,o,s;void 0!==n||(window||this.window||this.global),o=[],i=function(t){"use strict";var e={},n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),i=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),o="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],u={};e.children={};var c={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var h=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};h.prototype=window.Event.prototype,window.CustomEvent=h}var l=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t);else if(t)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},p=function(t,e){var n={};return l(t,function(e,r){n[r]=t[r]}),l(e,function(t,r){n[r]=e[r]}),n},f=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e},d={move:function(t,e,n,r){var s;0!==r&&(t.classList.add("iziToast-dragged"),t.style.transform="translateX("+r+"px)",r>0?(s=(180-r)/180)<.3&&e.hide(p(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag"):(s=(180+r)/180)<.3&&e.hide(p(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag"),t.style.opacity=s,s<.3&&((i||o)&&(t.style.left=r+"px"),t.parentNode.style.opacity=.3,this.stopMoving(t,null)))},startMoving:function(t,e,n,r){r=r||window.event;var i=s?r.touches[0].clientX:r.clientX,o=t.style.transform.replace("px)",""),a=i-(o=o.replace("translateX(",""));n.transitionIn&&t.classList.remove(n.transitionIn),n.transitionInMobile&&t.classList.remove(n.transitionInMobile),t.style.transition="",s?document.ontouchmove=function(r){r.preventDefault();var i=(r=r||window.event).touches[0].clientX-a;d.move(t,e,n,i)}:document.onmousemove=function(r){r.preventDefault();var i=(r=r||window.event).clientX-a;d.move(t,e,n,i)}},stopMoving:function(t,e){s?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.opacity="",t.style.transform="",t.classList.contains("iziToast-dragged")&&(t.classList.remove("iziToast-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}};return e.setSetting=function(t,n,r){e.children[t][n]=r},e.getSetting=function(t,n){return e.children[t][n]},e.destroy=function(){l(document.querySelectorAll(".iziToast-overlay"),function(t,e){t.remove()}),l(document.querySelectorAll(".iziToast-wrapper"),function(t,e){t.remove()}),l(document.querySelectorAll(".iziToast"),function(t,e){t.remove()}),this.children={},document.removeEventListener("iziToast-opened",{},!1),document.removeEventListener("iziToast-opening",{},!1),document.removeEventListener("iziToast-closing",{},!1),document.removeEventListener("iziToast-closed",{},!1),document.removeEventListener("keyup",{},!1),u={}},e.settings=function(t){e.destroy(),u=t,c=p(c,t||{})},l({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(t,n){e[n]=function(e){var n=p(u,e||{});n=p(t,n||{}),this.show(n)}}),e.progress=function(t,e,n){var r=this,i=e.getAttribute("data-iziToast-ref"),o=p(this.children[i],t||{}),s=e.querySelector(".iziToast-progressbar div");return{start:function(){void 0===o.time.REMAINING&&(e.classList.remove("iziToast-reseted"),null!==s&&(s.style.transition="width "+o.timeout+"ms "+o.progressBarEasing,s.style.width="0%"),o.time.START=(new Date).getTime(),o.time.END=o.time.START+o.timeout,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),e.classList.contains("iziToast-closing")||(r.hide(o,e,"timeout"),"function"==typeof n&&n.apply(r))},o.timeout),r.setSetting(i,"time",o.time))},pause:function(){if(void 0!==o.time.START&&!e.classList.contains("iziToast-paused")&&!e.classList.contains("iziToast-reseted")){if(e.classList.add("iziToast-paused"),o.time.REMAINING=o.time.END-(new Date).getTime(),clearTimeout(o.time.TIMER),r.setSetting(i,"time",o.time),null!==s){var t=window.getComputedStyle(s).getPropertyValue("width");s.style.transition="none",s.style.width=t}"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}},resume:function(){void 0!==o.time.REMAINING?(e.classList.remove("iziToast-paused"),null!==s&&(s.style.transition="width "+o.time.REMAINING+"ms "+o.progressBarEasing,s.style.width="0%"),o.time.END=(new Date).getTime()+o.time.REMAINING,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),e.classList.contains("iziToast-closing")||(r.hide(o,e,"timeout"),"function"==typeof n&&n.apply(r))},o.time.REMAINING),r.setSetting(i,"time",o.time)):this.start()},reset:function(){clearTimeout(o.time.TIMER),delete o.time.REMAINING,r.setSetting(i,"time",o.time),e.classList.add("iziToast-reseted"),e.classList.remove("iziToast-paused"),null!==s&&(s.style.transition="none",s.style.width="100%"),"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}}},e.hide=function(t,e,i){"object"!=typeof e&&(e=document.querySelector(e));var o=this,s=p(this.children[e.getAttribute("data-iziToast-ref")],t||{});s.closedBy=i||null,delete s.time.REMAINING,e.classList.add("iziToast-closing"),function(){var t=document.querySelector(".iziToast-overlay");if(null!==t){var e=t.getAttribute("data-iziToast-ref"),n=(e=e.split(",")).indexOf(String(s.ref));-1!==n&&e.splice(n,1),t.setAttribute("data-iziToast-ref",e.join()),0===e.length&&(t.classList.remove("fadeIn"),t.classList.add("fadeOut"),setTimeout(function(){t.remove()},700))}}(),s.transitionIn&&e.classList.remove(s.transitionIn),s.transitionInMobile&&e.classList.remove(s.transitionInMobile),n||window.innerWidth<=568?s.transitionOutMobile&&e.classList.add(s.transitionOutMobile):s.transitionOut&&e.classList.add(s.transitionOut);var a=e.parentNode.offsetHeight;e.parentNode.style.height=a+"px",e.style.pointerEvents="none",(!n||window.innerWidth>568)&&(e.parentNode.style.transitionDelay="0.2s");try{var u=new CustomEvent("iziToast-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(u)}catch(t){r.warn(t)}setTimeout(function(){e.parentNode.style.height="0px",e.parentNode.style.overflow="",setTimeout(function(){delete o.children[s.ref],e.parentNode.remove();try{var t=new CustomEvent("iziToast-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(t){r.warn(t)}void 0!==s.onClosed&&s.onClosed.apply(null,[s,e,i])},1e3)},200),void 0!==s.onClosing&&s.onClosing.apply(null,[s,e,i])},e.show=function(t){var i,o=this,h=p(u,t||{});if((h=p(c,h)).time={},null===h.id&&(h.id=(i=h.title+h.message+h.color,btoa(encodeURIComponent(i)).replace(/=/g,""))),1===h.displayMode||"once"==h.displayMode)try{if(document.querySelectorAll(".iziToast#"+h.id).length>0)return!1}catch(t){r.warn("[iziToast] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}if(2===h.displayMode||"replace"==h.displayMode)try{l(document.querySelectorAll(".iziToast#"+h.id),function(t,e){o.hide(h,t,"replaced")})}catch(t){r.warn("[iziToast] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}h.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),e.children[h.ref]=h;var g,m={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:h.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};m.toast.setAttribute("data-iziToast-ref",h.ref),m.toast.appendChild(m.toastBody),m.toastCapsule.appendChild(m.toast),function(){if(m.toast.classList.add("iziToast"),m.toast.classList.add("iziToast-opening"),m.toastCapsule.classList.add("iziToast-capsule"),m.toastBody.classList.add("iziToast-body"),m.toastTexts.classList.add("iziToast-texts"),n||window.innerWidth<=568?h.transitionInMobile&&m.toast.classList.add(h.transitionInMobile):h.transitionIn&&m.toast.classList.add(h.transitionIn),h.class){var t=h.class.split(" ");l(t,function(t,e){m.toast.classList.add(t)})}var e;h.id&&(m.toast.id=h.id),h.rtl&&(m.toast.classList.add("iziToast-rtl"),m.toast.setAttribute("dir","rtl")),h.layout>1&&m.toast.classList.add("iziToast-layout"+h.layout),h.balloon&&m.toast.classList.add("iziToast-balloon"),h.maxWidth&&(isNaN(h.maxWidth)?m.toast.style.maxWidth=h.maxWidth:m.toast.style.maxWidth=h.maxWidth+"px"),""===h.theme&&"light"===h.theme||m.toast.classList.add("iziToast-theme-"+h.theme),h.color&&("#"==(e=h.color).substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)?m.toast.style.background=h.color:m.toast.classList.add("iziToast-color-"+h.color)),h.backgroundColor&&(m.toast.style.background=h.backgroundColor,h.balloon&&(m.toast.style.borderColor=h.backgroundColor))}(),h.image&&(m.cover.classList.add("iziToast-cover"),m.cover.style.width=h.imageWidth+"px",function(t){try{return btoa(atob(t))==t}catch(t){return!1}}(h.image.replace(/ /g,""))?m.cover.style.backgroundImage="url(data:image/png;base64,"+h.image.replace(/ /g,"")+")":m.cover.style.backgroundImage="url("+h.image+")",h.rtl?m.toastBody.style.marginRight=h.imageWidth+10+"px":m.toastBody.style.marginLeft=h.imageWidth+10+"px",m.toast.appendChild(m.cover)),h.close?(m.buttonClose=document.createElement("button"),m.buttonClose.type="button",m.buttonClose.classList.add("iziToast-close"),m.buttonClose.addEventListener("click",function(t){t.target,o.hide(h,m.toast,"button")}),m.toast.appendChild(m.buttonClose)):h.rtl?m.toast.style.paddingLeft="18px":m.toast.style.paddingRight="18px",h.progressBar&&(m.progressBar=document.createElement("div"),m.progressBarDiv=document.createElement("div"),m.progressBar.classList.add("iziToast-progressbar"),m.progressBarDiv.style.background=h.progressBarColor,m.progressBar.appendChild(m.progressBarDiv),m.toast.appendChild(m.progressBar)),h.timeout&&(h.pauseOnHover&&!h.resetOnHover&&(m.toast.addEventListener("mouseenter",function(t){o.progress(h,m.toast).pause()}),m.toast.addEventListener("mouseleave",function(t){o.progress(h,m.toast).resume()})),h.resetOnHover&&(m.toast.addEventListener("mouseenter",function(t){o.progress(h,m.toast).reset()}),m.toast.addEventListener("mouseleave",function(t){o.progress(h,m.toast).start()}))),h.iconUrl?(m.icon.setAttribute("class","iziToast-icon"),m.icon.setAttribute("src",h.iconUrl)):h.icon&&(m.icon.setAttribute("class","iziToast-icon "+h.icon),h.iconText&&m.icon.appendChild(document.createTextNode(h.iconText)),h.iconColor&&(m.icon.style.color=h.iconColor)),(h.icon||h.iconUrl)&&(h.rtl?m.toastBody.style.paddingRight="33px":m.toastBody.style.paddingLeft="33px",m.toastBody.appendChild(m.icon)),h.title.length>0&&(m.strong=document.createElement("strong"),m.strong.classList.add("iziToast-title"),m.strong.appendChild(f(h.title)),m.toastTexts.appendChild(m.strong),h.titleColor&&(m.strong.style.color=h.titleColor),h.titleSize&&(isNaN(h.titleSize)?m.strong.style.fontSize=h.titleSize:m.strong.style.fontSize=h.titleSize+"px"),h.titleLineHeight&&(isNaN(h.titleSize)?m.strong.style.lineHeight=h.titleLineHeight:m.strong.style.lineHeight=h.titleLineHeight+"px")),h.message.length>0&&(m.p=document.createElement("p"),m.p.classList.add("iziToast-message"),m.p.appendChild(f(h.message)),m.toastTexts.appendChild(m.p),h.messageColor&&(m.p.style.color=h.messageColor),h.messageSize&&(isNaN(h.titleSize)?m.p.style.fontSize=h.messageSize:m.p.style.fontSize=h.messageSize+"px"),h.messageLineHeight&&(isNaN(h.titleSize)?m.p.style.lineHeight=h.messageLineHeight:m.p.style.lineHeight=h.messageLineHeight+"px")),h.title.length>0&&h.message.length>0&&(h.rtl?m.strong.style.marginLeft="10px":2===h.layout||h.rtl||(m.strong.style.marginRight="10px")),m.toastBody.appendChild(m.toastTexts),h.inputs.length>0&&(m.inputs.classList.add("iziToast-inputs"),l(h.inputs,function(t,e){m.inputs.appendChild(f(t[0])),(g=m.inputs.childNodes)[e].classList.add("iziToast-inputs-child"),t[3]&&setTimeout(function(){g[e].focus()},300),g[e].addEventListener(t[1],function(e){return(0,t[2])(o,m.toast,this,e)})}),m.toastBody.appendChild(m.inputs)),h.buttons.length>0&&(m.buttons.classList.add("iziToast-buttons"),l(h.buttons,function(t,e){m.buttons.appendChild(f(t[0]));var n=m.buttons.childNodes;n[e].classList.add("iziToast-buttons-child"),t[2]&&setTimeout(function(){n[e].focus()},300),n[e].addEventListener("click",function(e){return e.preventDefault(),(0,t[1])(o,m.toast,this,e,g)})})),m.toastBody.appendChild(m.buttons),h.message.length>0&&(h.inputs.length>0||h.buttons.length>0)&&(m.p.style.marginBottom="0"),(h.inputs.length>0||h.buttons.length>0)&&(h.rtl?m.toastTexts.style.marginLeft="10px":m.toastTexts.style.marginRight="10px",h.inputs.length>0&&h.buttons.length>0&&(h.rtl?m.inputs.style.marginLeft="8px":m.inputs.style.marginRight="8px")),m.toastCapsule.style.visibility="hidden",setTimeout(function(){var t=m.toast.offsetHeight,e=m.toast.currentStyle||window.getComputedStyle(m.toast),n=e.marginTop;n=n.split("px"),n=parseInt(n[0]);var r=e.marginBottom;r=r.split("px"),r=parseInt(r[0]),m.toastCapsule.style.visibility="",m.toastCapsule.style.height=t+r+n+"px",setTimeout(function(){m.toastCapsule.style.height="auto",h.target&&(m.toastCapsule.style.overflow="visible")},500),h.timeout&&o.progress(h,m.toast).start()},100),function(){var t=h.position;if(h.target)m.wrapper=document.querySelector(h.target),m.wrapper.classList.add("iziToast-target"),h.targetFirst?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule);else{if(-1==a.indexOf(h.position))return void r.warn("[iziToast] Incorrect position.\nIt can be › "+a);t=n||window.innerWidth<=568?"bottomLeft"==h.position||"bottomRight"==h.position||"bottomCenter"==h.position?"iziToast-wrapper-bottomCenter":"topLeft"==h.position||"topRight"==h.position||"topCenter"==h.position?"iziToast-wrapper-topCenter":"iziToast-wrapper-center":"iziToast-wrapper-"+t,m.wrapper=document.querySelector(".iziToast-wrapper."+t),m.wrapper||(m.wrapper=document.createElement("div"),m.wrapper.classList.add("iziToast-wrapper"),m.wrapper.classList.add(t),document.body.appendChild(m.wrapper)),"topLeft"==h.position||"topCenter"==h.position||"topRight"==h.position?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule)}isNaN(h.zindex)?r.warn("[iziToast] Invalid zIndex."):m.wrapper.style.zIndex=h.zindex}(),h.overlay&&(null!==document.querySelector(".iziToast-overlay.fadeIn")?(m.overlay=document.querySelector(".iziToast-overlay"),m.overlay.setAttribute("data-iziToast-ref",m.overlay.getAttribute("data-iziToast-ref")+","+h.ref),isNaN(h.zindex)||null===h.zindex||(m.overlay.style.zIndex=h.zindex-1)):(m.overlay.classList.add("iziToast-overlay"),m.overlay.classList.add("fadeIn"),m.overlay.style.background=h.overlayColor,m.overlay.setAttribute("data-iziToast-ref",h.ref),isNaN(h.zindex)||null===h.zindex||(m.overlay.style.zIndex=h.zindex-1),document.querySelector("body").appendChild(m.overlay)),h.overlayClose?(m.overlay.removeEventListener("click",{}),m.overlay.addEventListener("click",function(t){o.hide(h,m.toast,"overlay")})):m.overlay.removeEventListener("click",{})),function(){if(h.animateInside){m.toast.classList.add("iziToast-animateInside");var t=[200,100,300];"bounceInLeft"!=h.transitionIn&&"bounceInRight"!=h.transitionIn||(t=[400,200,400]),h.title.length>0&&setTimeout(function(){m.strong.classList.add("slideIn")},t[0]),h.message.length>0&&setTimeout(function(){m.p.classList.add("slideIn")},t[1]),(h.icon||h.iconUrl)&&setTimeout(function(){m.icon.classList.add("revealIn")},t[2]);var e=150;h.buttons.length>0&&m.buttons&&setTimeout(function(){l(m.buttons.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150})},h.inputs.length>0?150:0),h.inputs.length>0&&m.inputs&&(e=150,l(m.inputs.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150}))}}(),h.onOpening.apply(null,[h,m.toast]);try{var v=new CustomEvent("iziToast-opening",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(t){r.warn(t)}setTimeout(function(){m.toast.classList.remove("iziToast-opening"),m.toast.classList.add("iziToast-opened");try{var t=new CustomEvent("iziToast-opened",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(t){r.warn(t)}h.onOpened.apply(null,[h,m.toast])},1e3),h.drag&&(s?(m.toast.addEventListener("touchstart",function(t){d.startMoving(this,o,h,t)},!1),m.toast.addEventListener("touchend",function(t){d.stopMoving(this,t)},!1)):(m.toast.addEventListener("mousedown",function(t){t.preventDefault(),d.startMoving(this,o,h,t)},!1),m.toast.addEventListener("mouseup",function(t){t.preventDefault(),d.stopMoving(this,t)},!1))),h.closeOnEscape&&document.addEventListener("keyup",function(t){27==(t=t||window.event).keyCode&&o.hide(h,m.toast,"esc")}),h.closeOnClick&&m.toast.addEventListener("click",function(t){o.hide(h,m.toast,"toast")}),o.toast=m.toast},e}(),void 0===(s="function"==typeof i?i.apply(e,o):i)||(t.exports=s)}).call(e,n(0),n(1))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:function(){var t=this;this.on("onModuleSelect",function(n,r){return e.log(n,r),n.original.preventDefault(),n.original.stopPropagation(),t.set("selectedModule",r),socket.emit("get_rows",r),!1}),this.observe("QRScannerActive",function(t,e,n,r){document.body.style.backgroundColor=t?"rgba(255,255,255,0)":"rgba(255,255,255,1)"},{init:!1}),this.observe("company_id",function(e,n,r,i){e||t.set("selectedModule","settings")},{init:!1})},data:function(){return{selectedModule:null,QRScannerActive:!1,company_id:""}}},i.exports.template={v:4,t:[{p:[2,1,1],t:7,e:"nav",f:[" ",{p:[4,5,103],t:7,e:"label",f:[" ",{p:[6,9,175],t:7,e:"input",m:[{n:"type",f:"checkbox",t:13}]}," ",{p:[9,9,291],t:7,e:"header",f:[" ",{p:[11,13,384],t:7,e:"a",f:[{p:[11,16,387],t:7,e:"img",m:[{n:"src",f:"favicon-32x32.png",t:13}]},{t:2,x:{r:["selectedModule"],s:'_0?_0:"PanLite"'},p:[11,45,416]}]}]}," ",{p:[15,9,584],t:7,e:"ul",f:[{p:[16,13,601],t:7,e:"li",m:[{n:"click",f:{x:{r:["@this"],s:'[_0.set("selectedModule",null)]'}},t:70}],f:[{p:[16,61,649],t:7,e:"a",f:["Home"]}]}," ",{p:[17,13,678],t:7,e:"li",m:[{n:"click",f:{x:{r:["@this"],s:'[_0.set("selectedModule","settings")]'}},t:70}],f:[{p:[17,67,732],t:7,e:"a",f:["Settings"]}]}," "]}]}]}," ",{t:4,f:[{p:[33,1,1277],t:7,e:"Grid",m:[{n:"G",f:[{t:2,r:".",p:[33,9,1285]}],t:13},{n:"selectedModule",f:[{t:2,r:"selectedModule",p:[33,30,1306]}],t:13},{n:"rows",f:[{t:2,rx:{r:"rows",m:[{t:30,n:"selectedModule"}]},p:[33,54,1330]}],t:13},{n:"ts",f:[{t:2,rx:{r:"ts",m:[{t:30,n:"selectedModule"}]},p:[33,82,1358]}],t:13},{n:"columns",f:[{t:2,rx:{r:"setings",m:[{t:30,n:"selectedModule"},"columns"]},p:[33,113,1389]}],t:13}]}],n:50,x:{r:["selectedModule"],s:'_0&&_0!="settings"'},p:[32,1,1222]},{t:4,f:[{p:[36,1,1478],t:7,e:"settings",m:[{n:"G",f:[{t:2,r:".",p:[36,13,1490]}],t:13}]}],n:50,x:{r:["selectedModule"],s:'_0=="settings"'},p:[35,1,1441]},{t:4,f:[{p:[40,5,1546],t:7,e:"div",m:[{n:"style",f:"flex: 1;display: flex;flex-flow: column;overflow: auto;",t:13}],f:[{t:4,f:[{t:4,f:[{p:[43,9,1680],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this","key"],s:'[_0.fire("onModuleSelect",_0.event,_1)]'}},t:70},{n:"style",f:"height:100%;font-size: 2.2rem;line-height: 3rem;margin-top:1rem; min-height:10rem",t:13}],f:[{t:2,x:{r:[".label","key"],s:"_0||_1"},p:[43,178,1849]}]}],n:50,r:".show_in_menu",p:[42,9,1650]}],n:52,i:"key",r:"setings",p:[41,5,1620]}]}],n:50,x:{r:["selectedModule"],s:"!_0"},p:[39,1,1517]}],e:{'_0?_0:"PanLite"':function(t){return t||"PanLite"},'[_0.set("selectedModule",null)]':function(t){return[t.set("selectedModule",null)]},'[_0.set("selectedModule","settings")]':function(t){return[t.set("selectedModule","settings")]},'_0&&_0!="settings"':function(t){return t&&"settings"!=t},'_0=="settings"':function(t){return"settings"==t},'[_0.fire("onModuleSelect",_0.event,_1)]':function(t,e){return[t.fire("onModuleSelect",t.event,e)]},"_0||_1":function(t,e){return t||e},"!_0":function(t){return!t}}},t.exports=r.extend(i.exports)}).call(e,n(5)(t),n(1))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={isolated:!0,onrender:function(t){var n=this,r=n.nodes.flexGridBody;n.set("ScrollbarWidth",function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),e-r}());var i=function(){var t=n.nodes.flexGridBody;t?n.set("hasScrollbar",t.scrollHeight>t.clientHeight):e.log("el undefined")};i(),this.observe("viewport",function(t,e,n){i(),setTimeout(i,1e3)},{defer:!0}),this.observe("rows refresh",function(t,r,i){if(e.log('observe("rows")'),(!n.get("columns")||0==n.get("columns").length)&&n.get("rows")&&n.get("rows").length>0){e.log("GET columns definition from first row if no definition");var o=[];for(var s in n.get("rows.0"))o.push({visible:!0,filter:!0,compId:s,label:s});n.set("columns",o)}},{init:!1}),window.addEventListener("resize",i),r.addEventListener("scroll",onscroll),n.on("teardown",function(){window.removeEventListener("resize",i)});this.on("tableclickhandler",function(t,e,n){}),this.observe("columns",function(t,e,r){var i=n.get("columns")||[],o=i.length;n.set("partialsList",{});for(var s=0;s<o;s++)i[s].template&&""!=i[s].template?(n.partials["part_"+i[s].compId]=i[s].template,n.set("partialsList."+i[s].compId,!0)):i[s].compType}),n.observe("cp_computed",function(){n.nodes.flexGridBody.scrollTop=0},{defer:!0}),n.on("setPage",function(t,e){n.set("cp_computed",e)}),n.on("nextPage",function(t,e){var r=n.get("cp_computed"),i=n.get("filteredRows").length,o=n.get("ipp");r<Math.ceil(i/o)-1&&n.add("cp_computed")}),n.on("prevPage",function(t,e){n.get("cp_computed")>0&&n.subtract("cp_computed")}),n.on("sortArr",function(t,e,r){var i=n.get("currentSortField");n.get("currentSortAsc");i===e?n.toggle("currentSortAsc"):n.set({currentSortField:e,currentSortAsc:!0,currentSortFieldType:r})})},data:function(){return{row:{},env:{objectname:"urlzaajax"},selectid:null,clickedRow:-1,visible:!0,headerFixedHeight:!0,variableRowHeight:!1,showSearch:!0,showPaginator:!0,showHeaders:!0,alternateColor:!0,loading:!1,nodata:!1,serviceName:null,columns:[],hasScrollbar:!1,ScrollbarWidth:16,rows:[],refresh:0,partialsList:{},ipp:30,cp:0,currentSortField:"",currentSortAsc:!0,ippSelect:[5,10,30,50,100],filterfield:"",currFilterIndex:null,highlightClass:"highlight"}},computed:{cp_computed:{get:function(){var t=this.get("ipp"),e=this.get("cp"),n=Math.floor(this.get("filteredRows").length/t);return e>n?n:e},set:function(t){this.set("cp",t)}},filteredRows:function(){var t,n=this.get("filterfield").toLowerCase(),r=(this.get("serviceName"),this.get("columns")||[]),i=r.length;if(!i)return[];if(""!==n)t=this.get("rows").filter(function(t){for(var e=0;e<i;e++)if(r[e].filter&&t[r[e].compId]&&String(t[r[e].compId]).toLowerCase().indexOf(n)>=0)return!0;return!1});else{if(""==o)return this.get("rows");t=this.get("rows").slice()}var o=this.get("currentSortField"),s=this.get("currentSortAsc");return e.log("currentSortField",o,"currentSortAsc",s),s=2*s-1,""!==o&&("number"!=this.get("currentSortFieldType")&&"range"!=this.get("currentSortFieldType")?t.sort(function(t,e){return t[o]<e[o]?-1*s:s}):t.sort(function(t,e){return Number(t[o])<Number(e[o])?-1*s:s})),t},paginationbuttons:function(){return new Array(Math.ceil(this.get("filteredRows").length/this.get("ipp")))},viewport:function(){var t=this.get("filteredRows");if(!this.get("showPaginator"))return t;var e=this.get("ipp"),n=this.get("cp_computed");return t.slice(n*e,n*e+e)},computedW:function(){for(var t,e=this.get("columns")||[],n=0,r=0,i=0,o=e.length,s=0;s<o;s++)!0!==e[s].visible&&"true"!==e[s].visible||i++,!0!==e[s].visible&&"true"!==e[s].visible||!e[s].w||(t=(t=e[s].w.replace(/\s/g,"")).split("%")[0],(t=isNaN(t)?0:parseInt(t,10))&&(n+=t),r++);return 100==n?"0%":(n=(100-n)/(i-r))+"%"}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"div",m:[{n:"style",f:["display:",{t:2,x:{r:["visible"],s:'_0?"box":"none"'},p:[1,21,20]},"; display:",{t:2,x:{r:["visible"],s:'_0?"flex":"none"'},p:[1,55,54]},"; box-orient: vertical; flex-flow:column; ",{t:2,r:"style",p:[1,122,121]},"; position: relative;overflow-x: hidden;"],t:13},{n:"class",f:[{t:2,r:"class",p:[1,181,180]}],t:13}],f:[{t:4,f:[{p:[4,11,223],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"filterfield",p:[4,26,238]}],t:13},{n:"style",f:"margin-bottom: 0; text-align: center;",t:13},{n:"placeholder",f:"Search",t:13}]}],r:"showSearch",p:[2,5,196]}," ",{p:[7,5,349],t:7,e:"div",m:[{n:"class",f:"flexGrid",t:13},{n:"style",f:"box-sizing: border-box; display:box; display: flex; background-color: #679; color: #fff; flex-shrink:0",t:13}],f:[{t:4,f:[" ",{t:4,f:[{t:4,f:[{p:[12,17,750],t:7,e:"div",m:[{n:"class",f:["flexGridHead ",{t:2,x:{r:["headerFixedHeight"],s:'_0?"truncate":""'},p:[12,42,775]}," textAlign-",{t:2,r:".compType",p:[12,88,821]}],t:13},{n:"style",f:["width:",{t:2,x:{r:[".w","computedW"],s:"_0||_1"},p:[12,116,849]}],t:13},{n:"tap",f:{n:"sortArr",d:[{t:2,r:".compId",p:[13,33,902]},",",{t:2,r:".compType",p:[13,45,914]}]},t:70}],f:[{t:4,f:[{p:[14,51,980],t:7,e:"i",m:[{n:"class",f:["glyphicon glyphicon-arrow-",{t:2,x:{r:["currentSortAsc"],s:'_0?"down":"up"'},p:[14,87,1016]}],t:13}]}],x:{r:["currentSortField",".compId"],s:"_0==_1"},p:[14,21,950]}," ",{t:2,r:".label",p:[14,130,1059]}]}],n:50,x:{r:[".visible"],s:'_0&&(_0===true||_0==="true")'},p:[11,13,673]}],r:"columns",p:[10,9,648]}],n:50,r:"showHeaders",p:[8,7,489]}," ",{t:4,f:[{p:[21,13,1190],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,r:"ScrollbarWidth",p:[21,31,1208]},"px"],t:13}]}],n:50,r:".hasScrollbar",p:[20,9,1156]}]}," ",{p:[25,5,1269],t:7,e:"div",m:[{n:"style",f:"box-flex:1; flex:1; overflow-y:auto; overflow-x:hidden",t:13},{n:"id",f:"flexGridBody",t:13}],f:[{t:4,f:[" ",{p:[29,13,1462],t:7,e:"div",m:[{n:"id",f:["fgr",{t:2,r:"i",p:[29,25,1474]}],t:13},{n:"style",f:[{t:4,f:["color:",{t:2,r:"._rowColor",p:[29,94,1543]},";"],n:50,x:{r:["._rowColor",".id","~/selectid"],s:"_0&&!(_1&&_1==_2)"},p:[29,39,1488]}],t:13},{n:"class",f:["flexGridRow ",{t:2,x:{r:["alternateColor","i"],s:'_0&&(_1)%2==0?"oddRow":""'},p:[30,32,1599]}," ",{t:2,x:{r:[".id","~/selectid","~/highlightClass"],s:'(_0&&_0==_1)?_2:""'},p:[30,76,1643]}],t:13},{n:"click",f:{n:"tableclickhandler",d:[{t:2,r:"i",p:[31,41,1735]}]},t:70}],f:[" ",{t:4,f:[" ",{t:4,f:[{p:[40,25,2304],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,x:{r:[".w","computedW"],s:"_0||_1"},p:[40,43,2322]}],t:13},{n:"class",f:["rowcel ",{t:2,x:{r:["variableRowHeight"],s:'_0?"":"truncate"'},p:[40,79,2358]}," textAlign-",{t:2,r:".compType",p:[40,125,2404]}],t:13},{n:"data-th",f:[{t:2,r:".label",p:[41,34,2452]}],t:13},{t:4,f:[{n:"title",f:[{t:2,x:{r:[".dataTipField",".compId","i","viewport"],s:"_0?_3[_2][_0]:_3[_2][_1]"},p:[43,32,2541]}],t:13}],n:50,r:".showDataTips",p:[42,25,2488]}],f:[" ",{t:4,f:[{t:8,x:{r:[".compId"],s:'"part_"+_0'},p:[48,37,2849]}],n:50,rx:{r:"partialsList",m:[{t:30,n:".compId"}]},p:[47,33,2783]},{t:4,n:51,f:[{t:4,f:[],n:50,x:{r:[".compType"],s:'_0=="checkbox"'},p:[50,37,2949]},{t:4,n:50,f:[{t:2,x:{r:["formatNumber",".compId","i","viewport"],s:"_0(_3[_2][_1])"},p:[54,41,3465]}],x:{r:[".compType"],s:'_0=="number"'},l:1},{t:4,n:50,f:[" ",{p:[56,41,3612],t:7,e:"div",m:[{n:"style",f:["background-color:",{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[56,70,3641]},"; width:7em; max-width:100%"],t:13}],f:[{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[56,123,3694]}," "]}],x:{r:[".compType"],s:'_0=="color"'},l:1},{t:4,n:50,f:[" ",{t:3,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[58,41,3838]}],x:{r:[".compType"],s:'_0=="html"'},l:1},{t:4,n:50,f:[" ",{p:[60,42,3980],t:7,e:"img",m:[{n:"class",f:"img-responsive img-rounded",t:13},{n:"src",f:[{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[60,87,4025]}],t:13},{n:"alt",f:"",t:13},{n:"style",f:"max-height:4em; height:4em",t:13}]}],x:{r:[".compType"],s:'_0=="imagebase64"'},l:1},{t:4,n:50,f:[" ",{p:[62,42,4204],t:7,e:"img",m:[{n:"class",f:"img-responsive img-rounded",t:13},{n:"src",f:["objengine/images/",{t:2,x:{r:[".compId","i","viewport"],s:'_2[_1][_0]||"noimage.svg"'},p:[62,104,4266]}],t:13},{n:"alt",f:"",t:13},{n:"style",f:"max-height:4em; height:4em; margin: auto",t:13}]}],x:{r:[".compType"],s:'_0=="image"'},l:1},{t:4,n:51,f:[" ",{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[64,41,4452]}],l:1}],l:1}]}],n:50,x:{r:[".visible"],s:'_0&&(_0===true||_0==="true")'},p:[39,21,2217]}],r:"columns",p:[35,17,2012]}]}," "],i:"i",r:"viewport",p:[26,9,1364]}," ",{t:4,f:[{p:[76,9,4741],t:7,e:"div",m:[{n:"class",f:"spinner-loader",t:13},{n:"style",f:"position: absolute;top: 0; bottom: 0; margin: auto; left: 0; right: 0",t:13}]}],n:50,r:"loading",p:[75,9,4717]}," ",{t:4,f:[{p:[79,9,4901],t:7,e:"div",m:[{n:"class",f:"animated infinite flash",t:13},{n:"style",f:"position: absolute;top: 50%; bottom: 50%; margin: auto; left: 0; right: 0;font-weight: bold; color:grey; text-align:center",t:13}],f:["No data"]}],n:50,r:"nodata",p:[78,9,4878]}]}," ",{t:4,f:[{p:[86,9,5183],t:7,e:"div",m:[{n:"style",f:"display:flex; flex-shrink:0; align-items: center;",t:13}],f:[{p:[87,13,5260],t:7,e:"div",f:[{p:[88,17,5283],t:7,e:"span",f:[{p:[88,23,5289],t:7,e:"strong",f:[{t:2,r:"filteredRows.length",p:[88,31,5297]}]}," item",{t:2,x:{r:["filteredRows.length"],s:'_0>1?"s":""'},p:[88,68,5334]},"."]}," "]}," ",{p:[98,13,5640],t:7,e:"div",m:[{n:"style",f:"flex:1; display: flex; justify-content: flex-end; align-items: center;",t:13}],f:[" ",{p:[103,17,6143],t:7,e:"button",m:[{n:"type",f:"button",t:13},{n:"style",f:"margin: 0;padding:0 ;width: 4rem;height: 4rem;",t:13},{n:"tap",f:"prevPage",t:70},{n:"disabled",f:[{t:2,x:{r:["cp_computed"],s:"_0==0"},p:[104,45,6265]}],t:13}],f:[{p:[104,66,6286],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-triangle-left",t:13}],f:[]}]}," ",{p:[106,17,6359],t:7,e:"div",m:[{n:"style",f:"width:4px",t:13}]}," ",{p:[108,17,6440],t:7,e:"select",m:[{n:"value",f:[{t:2,r:"cp_computed",p:[108,32,6455]}],t:13},{n:"style",f:"width:5em; margin: 0.2em; height: 4rem;",t:13}],f:[{t:4,f:[{p:[110,25,6591],t:7,e:"option",m:[{n:"value",f:[{t:2,r:"p",p:[110,39,6605]}],t:13}],f:[{t:2,x:{r:["p"],s:"_0+1"},p:[110,45,6611]}]}],i:"p",r:"paginationbuttons",p:[109,21,6542]}]}," / ",{t:2,r:"paginationbuttons.length",p:[112,34,6687]}," ",{p:[113,17,6735],t:7,e:"div",m:[{n:"style",f:"width:4px",t:13}]}," ",{p:[115,17,6782],t:7,e:"button",m:[{n:"type",f:"button",t:13},{n:"style",f:"margin: 0;padding:0 ;width: 4rem;height: 4rem;",t:13},{n:"tap",f:"nextPage",t:70},{n:"disabled",f:[{t:2,x:{r:["paginationbuttons.length","cp_computed"],s:"(_0-1)==_1"},p:[115,122,6887]}],t:13}],f:[{p:[115,170,6935],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-triangle-right",t:13}]}]}," "]}]}],x:{r:["showPaginator","filteredRows.length","ipp"],s:"_0&&_1>=_2"},p:[85,5,5125]}]}],e:{'_0?"box":"none"':function(t){return t?"box":"none"},'_0?"flex":"none"':function(t){return t?"flex":"none"},'_0?"truncate":""':function(t){return t?"truncate":""},"_0||_1":function(t,e){return t||e},'_0?"down":"up"':function(t){return t?"down":"up"},"_0==_1":function(t,e){return t==e},'_0&&(_0===true||_0==="true")':function(t){return t&&(!0===t||"true"===t)},"_0&&!(_1&&_1==_2)":function(t,e,n){return t&&!(e&&e==n)},'_0&&(_1)%2==0?"oddRow":""':function(t,e){return t&&e%2==0?"oddRow":""},'(_0&&_0==_1)?_2:""':function(t,e,n){return t&&t==e?n:""},'_0?"":"truncate"':function(t){return t?"":"truncate"},"_0?_3[_2][_0]:_3[_2][_1]":function(t,e,n,r){return t?r[n][t]:r[n][e]},'"part_"+_0':function(t){return"part_"+t},'_0=="checkbox"':function(t){return"checkbox"==t},"_0(_3[_2][_1])":function(t,e,n,r){return t(r[n][e])},'_0=="number"':function(t){return"number"==t},'_0=="color"':function(t){return"color"==t},'_0=="html"':function(t){return"html"==t},'_0=="imagebase64"':function(t){return"imagebase64"==t},'_2[_1][_0]||"noimage.svg"':function(t,e,n){return n[e][t]||"noimage.svg"},'_0=="image"':function(t){return"image"==t},'_0>1?"s":""':function(t){return t>1?"s":""},"_0==0":function(t){return 0==t},"_0+1":function(t){return t+1},"(_0-1)==_1":function(t,e){return t-1==e},"_0&&_1>=_2":function(t,e,n){return t&&e>=n}}},i.exports.css="select:active,select:focus,select:hover{background-color:#fff!important}.highlight{background-color:#e0e0e0!important}.flexGridRow,.flexGridRowDUMMY:nth-child(odd){background-color:#fff}.flexGridHead,.rowcel{width:20%;margin:0;padding:4px;word-break:break-all;word-wrap:break-word;white-space:pre-line;cursor:pointer}.flexGridHead{font-weight:700;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flexGridRow{box-sizing:border-box;display:box;display:flex;align-items:center}.oddRow{background-color:#eee}.flexGridRow:hover{background-color:#e8e8e8}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.green{color:green}.red{color:red}.textAlign-number,.textAlign-range{text-align:right}",t.exports=r.extend(i.exports)}).call(e,n(5)(t),n(1))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:function(){e.log("Grid onrender");var t=this;window.Grid=t,t.observe("selectedModule",function(){e.log('observe("selectedModule")'),setTimeout(function(){t.add("refresh",1),t.update()},1)}),this.on("onModuleSelect",function(n){return e.log("refreshing",t.get("selectedModule")),n.original.preventDefault(),n.original.stopPropagation(),socket.emit("get_rows",t.get("selectedModule")),!1}),this.formatDate=function(t){return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}},data:function(){return{G:null,columns:null,rows:[],selectedModule:null,refresh:0}}},i.exports.template={v:4,t:[{p:[2,1,1],t:7,e:"section",m:[{n:"style",f:"flex:1; padding-bottom:0.5rem; padding-top:0.5rem; overflow:auto",t:13}],f:[{p:[3,5,88],t:7,e:"div",m:[{n:"style",f:"display:box; display:flex; height:100%; overflow:auto; flex:1",t:13}],f:[{p:[4,9,172],t:7,e:"f2table",m:[{n:"style",f:"width:100%",t:13},{n:"rows",f:[{t:2,r:"rows",p:[4,42,205]}],t:13},{n:"visible",f:"true",t:13},{n:"headerFixedHeight",f:[{t:2,x:{r:[],s:"true"},p:[4,85,248]}],t:13},{n:"alternateColor",f:[{t:2,x:{r:[],s:"true"},p:[4,110,273]}],t:13},{n:"columns",f:[{t:2,r:"columns",p:[5,21,304]}],t:13},{n:"ipp",f:"100",t:13},{n:"refresh",f:[{t:2,r:"refresh",p:[5,52,335]}],t:13},{n:"variableRowHeight",f:[{t:2,x:{r:[],s:"false"},p:[6,31,377]}],t:13},{n:"showSearch",f:[{t:2,x:{r:[],s:"true"},p:[6,52,398]}],t:13},{n:"showPaginator",f:[{t:2,x:{r:[],s:"true"},p:[6,75,421]}],t:13},{n:"showHeaders",f:[{t:2,x:{r:[],s:"true"},p:[6,96,442]}],t:13},{n:"selectid",f:[{t:2,r:"selectid",p:[6,114,460]}],t:13},{n:"loading",f:[{t:2,x:{r:[],s:"false"},p:[6,135,481]}],t:13},{n:"nodata",f:[{t:2,x:{r:[],s:"false"},p:[6,152,498]}],t:13}],f:[]}]}]}," ",{p:[10,1,551],t:7,e:"section",m:[{n:"style",f:"padding-bottom:0.5rem; padding-top:0.5rem",t:13}],f:[{p:[11,5,615],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"style",f:"width: 100%;",t:13},{n:"click",f:{x:{r:["@this"],s:'[_0.fire("onModuleSelect",_0.event)]'}},t:70}],f:["Last sync: ",{t:2,x:{r:["timeago","ts"],s:"_0(_1)"},p:[11,112,722]}," ",{p:[12,9,746],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:["glyphicon ",{t:2,x:{r:["stanjeIsLoading"],s:'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"'},p:[12,49,786]}],t:13}]}]}]}],e:{true:function(){return!0},false:function(){return!1},'[_0.fire("onModuleSelect",_0.event)]':function(t){return[t.fire("onModuleSelect",t.event)]},"_0(_1)":function(t,e){return t(e)},'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"':function(t){return t?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"}}},t.exports=r.extend(i.exports)}).call(e,n(5)(t),n(1))},function(t,e,n){(function(t){var e=n(2),r=t;r.exports={onrender:async function(){var t=this,e=await db.getItem("company_id");t.set("company_id",e),this.showQRScanner=function(){t.set("G.QRScannerActive",!0),QRScanner.show(),QRScanner.scan(function(e,n){e?(t.set("G.QRScannerActive",!1),QRScanner.destroy(),izitoast.error({message:"No camera, error!"})):(t.set("G.QRScannerActive",!1),izitoast.success({message:n}),QRScanner.destroy(),t.set("company_id",n))})},this.save=async function(){var e=t.get("company_id"),n=await db.getItem("company_id");n&&n==e||await db.clear(),await db.setItem("company_id",e),t.set("G.company_id",e),socket.emit("company_id",e),t.set("G.selectedModule",null)}},data:function(){return{company_id:null,G:null}}},r.exports.template={v:4,t:[{t:4,f:[{p:[3,1,27],t:7,e:"center",f:["Searching for QR Code"]}],n:50,r:"G.QRScannerActive",p:[2,1,1]},{t:4,n:51,f:[{p:[5,1,75],t:7,e:"section",m:[{n:"style",f:"padding-bottom:0.5rem; padding-top:0.5rem; overflow:auto;\nflex: 1; position: relative; margin-left: auto; margin-right: auto; margin-top: unset;margin-bottom: unset;",t:13}],f:[{p:[7,5,263],t:7,e:"label",f:["Id kompanije ",{p:[8,9,292],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"company_id",p:[8,23,306]}],t:13},{n:"placeholder",f:"Company id",t:13}]}]}," ",{p:[10,5,365],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.showQRScanner()]"}},t:70},{n:"style",f:"width: 100%;",t:13}],f:["or scan QR code ",{p:[11,9,467],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:"glyphicon glyphicon-qrcode ",t:13}]}]}," ",{p:[14,5,550],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.save()]"}},t:70},{n:"style",f:"width: 100%; position: absolute; bottom: 0; left: 0;",t:13}],f:["Save ",{p:[15,9,672],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:"glyphicon glyphicon-ok ",t:13}]}]}]}," "],l:1}],e:{"[_0.showQRScanner()]":function(t){return[t.showQRScanner()]},"[_0.save()]":function(t){return[t.save()]}}},t.exports=e.extend(r.exports)}).call(e,n(5)(t))},function(t,e,n){(function(e,n){var r,i;i=function(){return function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){if(!u&&("function"==typeof r&&r))return r(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n||t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,r){(function(t){"use strict";var e,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(h),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),e=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var u=new t.MessageChannel;u.port1.onmessage=h,e=function(){u.port2.postMessage(0)}}var c=[];function h(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}n.exports=function(t){1!==c.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(t,e,n){r(function(){var r;try{r=e(n)}catch(e){return o.reject(t,e)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var s=d(function(){e(i,r)});"error"===s.status&&r(s.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(i);this.state!==u?l(n,this.state===a?t:e,this.outcome):this.queue.push(new h(n,t,e));return n},h.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){o.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(p,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,u=-1,c=new this(i);for(;++u<n;)h(t[u],u);return c;function h(t,i){e.resolve(t).then(function(t){s[i]=t,++a!==n||r||(r=!0,o.resolve(c,s))},function(t){r||(r=!0,o.reject(c,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var s=-1,a=new this(i);for(;++s<n;)u=t[s],e.resolve(u).then(function(t){r||(r=!0,o.resolve(a,t))},function(t){r||(r=!0,o.reject(a,t))});var u;return a}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function s(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function u(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function h(t){return"string"!=typeof t&&(n.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",f=void 0,d={},g=Object.prototype.toString,m="readonly",v="readwrite";function y(t){return"boolean"==typeof f?a.resolve(f):function(t){return new a(function(e){var n=t.transaction(p,v),r=s([""]);n.objectStore(p).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return f=t})}function b(t){var e=d[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function w(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function x(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function C(t,e){return new a(function(r,i){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);b(t),t.db.close()}var s=[t.name];e&&s.push(t.version);var a=o.open.apply(o,s);e&&(a.onupgradeneeded=function(e){var r=a.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r;n.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),i(a.error)},a.onsuccess=function(){r(a.result),w(t)}})}function E(t){return C(t,!1)}function _(t){return C(t,!0)}function k(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,o=t.version>t.db.version;if(i&&(t.version!==e&&n.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var s=t.db.version+1;s>t.version&&(t.version=s)}return!0}return!1}function A(t){return s([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function T(t){return t&&t.__local_forage_encoded_blob}function S(t){var e=this,n=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function O(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),_(t)}).then(function(){return function(t){b(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,E(t).then(function(e){return t.db=e,k(t)?_(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw x(t,e),e})}(t).then(function(){O(t,e,n,r-1)})}).catch(n);n(i)}}var F={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=S);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==e&&o.push(c._initReady().catch(s))}var h=i.forages.slice(0);return a.all(o).then(function(){return n.db=i.db,E(n)}).then(function(t){return n.db=t,k(n,e._defaultConfig.version)?_(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<h.length;r++){var o=h[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;T(r)&&(r=A(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=h(t);var r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),T(t)&&(t=A(t)),e(t)},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){var r=this;t=h(t);var i=new a(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===g.call(e)?y(o.db).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){O(r._dbInfo,v,function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(t){i(t)}})}).catch(i)});return u(i,n),i},removeItem:function(t,e){var n=this;t=h(t);var r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,v,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,m,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){O(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,m,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var i=t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):E(t).then(function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e});n=t.storeName?i.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;b(t);var r=d[t.name],i=r.forages;e.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,w(n._dbInfo)}}).catch(function(e){throw(x(t,e)||a.resolve()).catch(function(){}),e})}}):i.then(function(e){b(t);var n=d[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)w(r[e]._dbInfo)}).catch(function(e){throw(x(t,e)||a.resolve()).catch(function(){}),e})})}else n=a.reject("Invalid arguments");return u(n,e),n}};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R="~~local_forage_type~",N=/^~~local_forage_type~([^~]+)~/,j="__lfsc__:",B=j.length,P="arbf",M="blob",L="si08",D="ui08",z="uic8",U="si16",V="si32",q="ur16",W="ui32",K="fl32",H="fl64",Y=B+P.length,$=Object.prototype.toString;function G(t){var e,n,r,i,o,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),h=new Uint8Array(c);for(e=0;e<a;e+=4)n=I.indexOf(t[e]),r=I.indexOf(t[e+1]),i=I.indexOf(t[e+2]),o=I.indexOf(t[e+3]),h[u++]=n<<2|r>>4,h[u++]=(15&r)<<4|i>>2,h[u++]=(3&i)<<6|63&o;return c}function X(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=I[n[e]>>2],r+=I[(3&n[e])<<4|n[e+1]>>4],r+=I[(15&n[e+1])<<2|n[e+2]>>6],r+=I[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Q={serialize:function(t,e){var r="";if(t&&(r=$.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===$.call(t.buffer))){var i,o=j;t instanceof ArrayBuffer?(i=t,o+=P):(i=t.buffer,"[object Int8Array]"===r?o+=L:"[object Uint8Array]"===r?o+=D:"[object Uint8ClampedArray]"===r?o+=z:"[object Int16Array]"===r?o+=U:"[object Uint16Array]"===r?o+=q:"[object Int32Array]"===r?o+=V:"[object Uint32Array]"===r?o+=W:"[object Float32Array]"===r?o+=K:"[object Float64Array]"===r?o+=H:e(new Error("Failed to get type for BinaryArray"))),e(o+X(i))}else if("[object Blob]"===r){var s=new FileReader;s.onload=function(){var n=R+t.type+"~"+X(this.result);e(j+M+n)},s.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){n.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,B)!==j)return JSON.parse(t);var e,n=t.substring(Y),r=t.substring(B,Y);if(r===M&&N.test(n)){var i=n.match(N);e=i[1],n=n.substring(i[0].length)}var o=G(n);switch(r){case P:return o;case M:return s([o],{type:e});case L:return new Int8Array(o);case D:return new Uint8Array(o);case z:return new Uint8ClampedArray(o);case U:return new Int16Array(o);case q:return new Uint16Array(o);case V:return new Int32Array(o);case W:return new Uint32Array(o);case K:return new Float32Array(o);case H:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:G,bufferToString:X};function Z(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function J(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,a){a.rows.length?o(t,s):Z(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,s)},o)}var tt={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(i){Z(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Q,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){J(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=h(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){J(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){return function t(e,n,r,i){var o=this;e=h(e);var s=new a(function(s,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,h){h?a(h):c.db.transaction(function(t){J(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){s(u)},function(t,e){a(e)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void s(t.apply(o,[e,u,r,i-1]));a(n)}})})}).catch(a)});return u(s,r),s}.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=h(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){J(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){J(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){J(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){J(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){J(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return u(r=t.name?new a(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function i(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],s=0,u=t.storeNames.length;s<u;s++)o.push(i(t.storeNames[s]));a.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function et(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function nt(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=et(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=Q,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),s++)))return c}}});return u(r,e),r},getItem:function(t,e){var n=this;t=h(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return u(r,e),r},setItem:function(t,e,n){var r=this;t=h(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(i,o){var s=r._dbInfo;s.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+t,e),i(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}})})});return u(i,n),i},removeItem:function(t,e){var n=this;t=h(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return u(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return u(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return u(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return u(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return u(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return u(r=t.name?new a(function(e){t.storeName?e(et(t,i._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},it=function(t,e){for(var n,r,i=t.length,o=0;o<i;){if((n=t[o])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},ot=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},ut={INDEXEDDB:F,WEBSQL:tt,LOCALSTORAGE:rt},ct=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],ht=["dropInstance"],lt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ht),pt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(ot(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var gt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(n)){var r=ut[n],i=r._driver;this[n]=i,st[i]||this.defineDriver(r)}this._defaultConfig=dt({},pt),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var i=new a(function(e,r){try{var i=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var s=lt.concat("_initStorage"),c=0,h=s.length;c<h;c++){var l=s[c];if((!it(ht,l)||t[l])&&"function"!=typeof t[l])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return u(n,arguments[arguments.length-1]),n}},n=0,r=ht.length;n<r;n++){var i=ht[n];t[i]||(t[i]=e(i))}}();var p=function(r){st[i]&&n.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(p,r):p(!!t._support):p(!0)}catch(t){r(t)}});return c(i,e,r),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=st[t]?a.resolve(st[t]):a.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(Q);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;ot(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function s(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=u.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=lt.length;t<e;t++)ft(this,lt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=gt},{3:3}]},{},[4])(4)},t.exports=i()}).call(e,n(0),n(1))},function(t,e,n){var r=n(44),i=n(12),o=n(19),s=n(7)("socket.io-client");t.exports=e=u;var a=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),u=i.source,c=i.id,h=i.path,l=a[c]&&h in a[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(s("ignoring socket cache for %s",u),n=o(u,e)):(a[c]||(s("new io instance for %s",u),a[c]=o(u,e)),n=a[c]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=u,e.Manager=n(19),e.Socket=n(25)},function(t,e,n){(function(e){var r=n(16),i=n(7)("socket.io-client:url");t.exports=function(t,n){var o=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),o=r(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}}).call(e,n(0))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(1))},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(47)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(1),n(6))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(1))},function(t,e,n){(function(t){var r=n(17),i=n(18),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(u,c,h){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){n++;var l=new FileReader;l.onload=function(){h?h[c]=this.result:o=this.result,--n||e(o)},l.readAsArrayBuffer(u)}else if(r(u))for(var p=0;p<u.length;p++)t(u[p],p,u);else if("object"==typeof u&&!i(u))for(var f in u)t(u[f],f,u)}(o),n||e(o)}}).call(e,n(0))},function(t,e,n){t.exports=n(50),t.exports.parser=n(4)},function(t,e,n){(function(e){var r=n(20),i=n(3),o=n(10)("engine.io-client:socket"),s=n(24),a=n(4),u=n(16),c=n(8);function h(t,n){if(!(this instanceof h))return new h(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=h,h.priorWebsocketSuccess=!1,i(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=n(14),h.transports=n(20),h.parser=n(4),h.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},h.prototype.open=function(){var t;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},h.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},h.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;h.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),p(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}}))}function s(){n||(n=!0,p(),e.close(),e=null)}function a(n){var i=new Error("probe error: "+n);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function u(){a("transport closed")}function c(){a("socket closed")}function l(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function p(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",l)}h.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",u),this.once("close",c),this.once("upgrading",l),e.open()},h.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},h.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},h.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},h.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},h.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},h.prototype.onError=function(t){o("socket error %j",t),h.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},h.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},h.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,n(0))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){var r=n(13),i=n(21),o=n(3),s=n(9),a=n(10)("engine.io-client:polling-xhr");function u(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function l(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}t.exports=c,t.exports.Request=h,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},c.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},c.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(h.prototype),h.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(t),i=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var t=n.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(n.responseType="arraybuffer")}catch(t){}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}e.document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",l):e.addEventListener&&e.addEventListener("beforeunload",l,!1))}).call(e,n(0))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e,n){"use strict";(function(t){var r=n(55),i=n(56),o=n(57);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){l=!1;break}if(l)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,r){return V(z(e,t.length-n),t,n,r)}function w(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function C(t,e,n,r){return V(U(e),t,n,r)}function E(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function _(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),c=this.slice(r,i),h=t.slice(e,n),l=0;l<a;++l)if(c[l]!==h[l]){o=c[l],s=h[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=D(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:z(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(0))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),u=0,h=s>0?r-4:r,l=0;l<h;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,p=n?-1:1,f=t[e+l];for(l+=p,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=p,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=p,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=255&s,f+=d,s/=256,c-=8);t[n+f-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e,n){(function(t,r){var i;!function(o){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u,c,h,l=String.fromCharCode;function p(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function f(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(t,e){return l(t>>e&63|128)}function g(t,e){if(0==(4294967168&t))return l(t);var n="";return 0==(4294965248&t)?n=l(t>>6&31|192):0==(4294901760&t)?(f(t,e)||(t=65533),n=l(t>>12&15|224),n+=d(t,6)):0==(4292870144&t)&&(n=l(t>>18&7|240),n+=d(t,12),n+=d(t,6)),n+=l(63&t|128)}function m(){if(h>=c)throw Error("Invalid byte index");var t=255&u[h];if(h++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(t){var e,n;if(h>c)throw Error("Invalid byte index");if(h==c)return!1;if(e=255&u[h],h++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|m())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|m()<<6|m())>=2048)return f(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|m()<<12|m()<<6|m())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var y={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=p(t),i=r.length,o=-1,s="";++o<i;)s+=g(r[o],n);return s},decode:function(t,e){var n=!1!==(e=e||{}).strict;u=p(t),c=u.length,h=0;for(var r,i=[];!1!==(r=v(n));)i.push(r);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=l(e);return i}(i)}};void 0===(i=function(){return y}.call(e,n,e,t))||(t.exports=i)}()}).call(e,n(5)(t),n(0))},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,s,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),l=new Uint8Array(h);for(e=0;e<u;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],l[c++]=r<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&s;return h}}()},function(t,e,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}t[e]=r}}}function a(t,e){e=e||{};var r=new n;s(t);for(var i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}function u(t,e){return s(t),new Blob(t,e||{})}t.exports=r?i?e.Blob:u:o?a:void 0}).call(e,n(0))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(1))},function(t,e,n){(function(e){var r=n(21),i=n(9);t.exports=c;var o,s=/\n/g,a=/\\n/g;function u(){}function c(t){r.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var n=this;o.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}i(c,r),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},c.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},c.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){h(),e()}function h(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),h(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(e,n(0))},function(t,e,n){(function(e){var r,i=n(14),o=n(4),s=n(8),a=n(9),u=n(23),c=n(10)("engine.io-client:websocket"),h=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(67)}catch(t){}var l=h;function p(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=r),i.call(this,t)}l||"undefined"!=typeof window||(l=r),t.exports=p,a(p,i),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new l(t,e):new l(t):new l(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},p.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,s=r;i<s;i++)!function(t){o.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){c("websocket closed before onclose event")}--r||a()})}(t[i]);function a(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},p.prototype.onClose=function(){i.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},p.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===p.prototype.name)}}).call(e,n(0))},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}]);